/*! For license information please see main.1f4a7361.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),a=n(43),i=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case j:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var D=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},F=[],U=-1;function M(e){return{current:e}}function V(e){0>U||(e.current=F[U],F[U]=null,U--)}function z(e,t){U++,F[U]=e.current,e.current=t}var B=M(null),q=M(null),H=M(null),W=M(null);function K(e,t){switch(z(H,t),z(q,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),z(B,e)}function G(){V(B),V(q),V(H)}function Q(e){null!==e.memoizedState&&z(W,e);var t=B.current,n=id(t,e.type);t!==n&&(z(q,e),z(B,n))}function Y(e){q.current===e&&(V(B),V(q)),W.current===e&&(V(W),Qd._currentValue=L)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/pe|0)|0},fe=Math.log,pe=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=ye(r):0!==(s&=o)?a=ye(s):n||0!==(n=o&~e)&&(a=ye(n)):0!==(o=r&~i)?a=ye(o):0!==s?a=ye(s):n||0!==(n=r&~e)&&(a=ye(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function je(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-me(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-me(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ae,De="__reactProps$"+Ae,Re="__reactContainer$"+Ae,Oe="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,Fe="__reactHandles$"+Ae,Ue="__reactResources$"+Ae,Me="__reactMarker$"+Ae;function Ve(e){delete e[Pe],delete e[De],delete e[Oe],delete e[Le],delete e[Fe]}function ze(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Pe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Me]=!0}var Ke=new Set,Ge={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,X.call(et,a)||!X.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var it=!1;function st(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function pt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(D(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&kt(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Dt=null;function Rt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[De]||null;if(!a)throw Error(s(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Lt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Pt||null!==Dt)&&(zc(),Pt&&(t=Pt,e=Dt,Dt=Pt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Mt=!1;if(Ut)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Dh){Mt=!1}var zt=null,Bt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Bt,r=n.length,a="value"in zt?zt.value:zt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return qt=a.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Xt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Qt(nn),an=Qt(h({},nn,{dataTransfer:0})),sn=Qt(h({},en,{relatedTarget:0})),on=Qt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return mn}var pn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Qt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Qt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],Nn=Ut&&"CompositionEvent"in window,jn=null;Ut&&"documentMode"in document&&(jn=document.documentMode);var kn=Ut&&"TextEvent"in window&&!jn,Cn=Ut&&(!Nn||jn&&8<jn&&11>=jn),Sn=String.fromCharCode(32),En=!1;function _n(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Dn(e,t,n,r){Pt?Dt?Dt.push(r):Dt=[r]:Pt=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,On=null;function Ln(e){Lu(e,0)}function Fn(e){if(ht(qe(e)))return e}function Un(e,t){if("change"===e)return t}var Mn=!1;if(Ut){var Vn;if(Ut){var zn="oninput"in document;if(!zn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),zn="function"===typeof Bn.oninput}Vn=zn}else Vn=!1;Mn=Vn&&(!document.documentMode||9<document.documentMode)}function qn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),On=Rn=null)}function Hn(e){if("value"===e.propertyName&&Fn(On)){var t=[];Dn(t,On,e,At(e)),Lt(Ln,t)}}function Wn(e,t,n){"focusin"===e?(qn(),On=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(On)}function Gn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ut&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,ir=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==mt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Xn(ir,r)||(ir=r,0<(r=Hu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ut&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var mr=hr("animationend"),fr=hr("animationiteration"),pr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){xr.set(e,t),Qe(t,[e])}wr.push("scrollEnd");var jr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=jr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},jr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Sr=0,Er=0;function _r(){for(var e=Sr,t=Er=Sr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var a=Cr[t];Cr[t++]=null;var i=Cr[t];if(Cr[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&Pr(n,a,i)}}function Ir(e,t,n,r){Cr[Sr++]=e,Cr[Sr++]=t,Cr[Sr++]=n,Cr[Sr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Ir(e,t,n,r),Dr(e)}function Ar(e,t){return Ir(e,null,null,t),Dr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-me(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Dr(e){if(50<Pc)throw Pc=0,Dc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Or(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,a,i){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Lr(31,n,t,a)).elementType=E,e.lanes=i,e;case g:return zr(n.children,a,i,t);case v:o=8,a|=24;break;case y:return(e=Lr(12,n,t,2|a)).elementType=y,e.lanes=i,e;case j:return(e=Lr(13,n,t,a)).elementType=j,e.lanes=i,e;case k:return(e=Lr(19,n,t,a)).elementType=k,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case N:o=11;break e;case C:o=14;break e;case S:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Kr=null,Gr=0,Qr=[],Yr=0,Xr=null,$r=1,Jr="";function Zr(e,t){Hr[Wr++]=Gr,Hr[Wr++]=Kr,Kr=e,Gr=t}function ea(e,t,n){Qr[Yr++]=$r,Qr[Yr++]=Jr,Qr[Yr++]=Xr,Xr=e;var r=$r;e=Jr;var a=32-me(r)-1;r&=~(1<<a),n+=1;var i=32-me(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,$r=1<<32-me(t)+a|n<<a|r,Jr=i+e}else $r=1<<i|n<<a|r,Jr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===Kr;)Kr=Hr[--Wr],Hr[Wr]=null,Gr=Hr[--Wr],Hr[Wr]=null;for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null,$r=Qr[--Yr],Qr[Yr]=null}var ra=null,aa=null,ia=!1,sa=null,oa=!1,la=Error(s(519));function ca(e){throw pa(kr(Error(s(418,"")),e)),la}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[De]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Fu(Ru[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function ha(e){if(e!==ra)return!1;if(!ia)return da(e),ia=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,md(e.type)?(e=yd,yd=null,aa=e):aa=n):aa=ra?vd(e.stateNode.nextSibling):null;return!0}function ma(){aa=ra=null,ia=!1}function fa(){var e=sa;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),sa=null),e}function pa(e){null===sa?sa=[e]:sa.push(e)}var ga=M(null),va=null,ya=null;function ba(e,t,n){z(ga,t._currentValue),t._currentValue=n}function xa(e){e._currentValue=ga.current,V(ga)}function wa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Na(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),wa(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),wa(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ja(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===W.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&Na(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){va=e,ya=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Sa(e){return _a(va,e)}function Ea(e,t){return null===va&&Ca(e),_a(e,t)}function _a(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ya){if(null===e)throw Error(s(308));ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ya=ya.next=t;return n}var Ia="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ta=r.unstable_scheduleCallback,Aa=r.unstable_NormalPriority,Pa={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Da(){return{controller:new Ia,data:new Map,refCount:0}}function Ra(e){e.refCount--,0===e.refCount&&Ta(Aa,(function(){e.controller.abort()}))}var Oa=null,La=0,Fa=0,Ua=null;function Ma(){if(0===--La&&null!==Oa){null!==Ua&&(Ua.status="fulfilled");var e=Oa;Oa=null,Fa=0,Ua=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Va=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Oa){var n=Oa=[];La=0,Fa=Iu(),Ua={status:"pending",value:void 0,then:function(e){n.push(e)}}}La++,t.then(Ma,Ma)}(0,t),null!==Va&&Va(e,t)};var za=M(null);function Ba(){var e=za.current;return null!==e?e:rc.pooledCache}function qa(e,t){z(za,null===t?za.current:t.pool)}function Ha(){var e=Ba();return null===e?null:{parent:Pa._currentValue,pool:e}}var Wa=Error(s(460)),Ka=Error(s(474)),Ga=Error(s(542)),Qa={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function $a(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Ja=t,Wa}}var Ja=null;function Za(){if(null===Ja)throw Error(s(459));var e=Ja;return Ja=null,e}function ei(e){if(e===Wa||e===Ga)throw Error(s(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Dr(e),Pr(e,null,n),t}return Ir(e,r,t,n),Dr(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Ua)throw Ua}}function ui(e,t,n,r){li=!1;var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var m=-536870913&o.lane,f=m!==o.lane;if(f?(ic&m)===m:(r&m)===m){0!==m&&m===Fa&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;m=t;var v=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(v,d,m);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=g.payload)?p.call(v,d,m):p)||void 0===m)break e;d=h({},d,m);break e;case 2:ti=!0}}null!==(m=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[m]:f.push(m))}else f={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),mc|=s,e.lanes=s,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var mi=M(null),fi=M(0);function pi(e,t){z(fi,e=dc),z(mi,t),dc=e|t.baseLanes}function gi(){z(fi,dc),z(mi,mi.current)}function vi(){dc=fi.current,V(mi),V(fi)}var yi=0,bi=null,xi=null,wi=null,Ni=!1,ji=!1,ki=!1,Ci=0,Si=0,Ei=null,_i=0;function Ii(){throw Error(s(321))}function Ti(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ai(e,t,n,r,a,i){return yi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Ws:Ks,ki=!1,i=n(r,a),ki=!1,ji&&(i=Di(t,n,r,a)),Pi(e),i}function Pi(e){R.H=Hs;var t=null!==xi&&null!==xi.next;if(yi=0,wi=xi=bi=null,Ni=!1,Si=0,Ei=null,t)throw Error(s(300));null===e||Eo||null!==(e=e.dependencies)&&ka(e)&&(Eo=!0)}function Di(e,t,n,r){bi=e;var a=0;do{if(ji&&(Ei=null),Si=0,ji=!1,25<=a)throw Error(s(301));if(a+=1,wi=xi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}R.H=Gs,i=t(n,r)}while(ji);return i}function Ri(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Vi(t):t,e=e.useState()[0],(null!==xi?xi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Oi(){var e=0!==Ci;return Ci=0,e}function Li(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fi(e){if(Ni){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ni=!1}yi=0,wi=xi=bi=null,ji=!1,Si=Ci=0,Ei=null}function Ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?bi.memoizedState=wi=e:wi=wi.next=e,wi}function Mi(){if(null===xi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===wi?bi.memoizedState:wi.next;if(null!==t)wi=t,xi=e;else{if(null===e){if(null===bi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===wi?bi.memoizedState=wi=e:wi=wi.next=e}return wi}function Vi(e){var t=Si;return Si+=1,null===Ei&&(Ei=[]),e=$a(Ei,e,t),t=bi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Ws:Ks),e}function zi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vi(e);if(e.$$typeof===w)return Sa(e)}throw Error(s(438,String(e)))}function Bi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function qi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Wi(Mi(),xi,e)}function Wi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(yi&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fa&&(d=!0);else{if((yi&m)===m){u=u.next,m===Fa&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,bi.lanes|=m,mc|=m}h=u.action,ki&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,o=i):c=c.next=m,bi.lanes|=h,mc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Yn(i,e.memoizedState)&&(Eo=!0,d&&null!==(n=Ua)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ki(e){var t=Mi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Yn(i,t.memoizedState)||(Eo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=bi,a=Mi(),i=ia;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Yn((xi||a).memoizedState,n);if(o&&(a.memoizedState=n,Eo=!0),a=a.queue,gs(2048,8,Xi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,ms(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,a,n,t),null),null===rc)throw Error(s(349));i||0!==(124&yi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,$i(t)&&Ji(e)}function Xi(e,t,n){return n((function(){$i(t)&&Ji(e)}))}function $i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Ji(e){var t=Ar(e,2);null!==t&&Lc(t,e,2)}function Zi(e){var t=Ui();if("function"===typeof e){var n=e;if(e=n(),ki){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Wi(e,xi,"function"===typeof r?r:qi)}function ts(e,t,n,r,a){if(zs(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==R.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ns(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ns(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=R.T,s={};R.T=s;try{var o=n(a,r),l=R.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){is(e,t,c)}finally{R.T=i}}else try{rs(e,t,i=n(a,r))}catch(u){is(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){as(e,t,n)}),(function(n){return is(e,t,n)})):as(e,t,n)}function as(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ia){var n=rc.formState;if(null!==n){e:{var r=bi;if(ia){if(aa){t:{for(var a=aa,i=oa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=vd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){aa=vd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Ui()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Us.bind(null,bi,r),r.dispatch=n,r=Zi(!1),i=Vs.bind(null,bi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Ui()).queue=a,n=ts.bind(null,bi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us(Mi(),xi,e)}function us(e,t,n){if(t=Wi(e,t,os)[0],e=Hi(qi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vi(t)}catch(s){if(s===Wa)throw Ga;throw s}else r=t;var a=(t=Mi()).queue,i=a.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,ms(9,{destroy:void 0,resource:void 0},ds.bind(null,a,n),null)),[r,i,e]}function ds(e,t){e.action=t}function hs(e){var t=Mi(),n=xi;if(null!==n)return us(t,n,e);Mi(),t=t.memoizedState;var r=(n=Mi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fs(){return Mi().memoizedState}function ps(e,t,n,r){var a=Ui();r=void 0===r?null:r,bi.flags|=e,a.memoizedState=ms(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var a=Mi();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==xi&&null!==r&&Ti(r,xi.memoizedState.deps)?a.memoizedState=ms(t,i,n,r):(bi.flags|=e,a.memoizedState=ms(1|t,i,n,r))}function vs(e,t){ps(8390656,8,e,t)}function ys(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function xs(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ns(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,ws.bind(null,t,e),n)}function js(){}function ks(e,t){var n=Mi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ti(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=Mi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ti(t,r[1]))return r[0];if(r=e(),ki){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ss(e,t,n){return void 0===n||0!==(1073741824&yi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),bi.lanes|=e,mc|=e,n)}function Es(e,t,n,r){return Yn(n,t)?n:null!==mi.current?(e=Ss(e,n,r),Yn(e,t)||(Eo=!0),e):0===(42&yi)?(Eo=!0,e.memoizedState=n):(e=Oc(),bi.lanes|=e,mc|=e,t)}function _s(e,t,n,r,a){var i=O.p;O.p=0!==i&&8>i?i:8;var s=R.T,o={};R.T=o,Vs(e,!1,t,n);try{var l=a(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ms(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Rc());else Ms(e,t,r,Rc())}catch(u){Ms(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{O.p=i,R.T=s}}function Is(){}function Ts(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=As(e).queue;_s(e,a,t,L,null===n?Is:function(){return Ps(e),n(r)})}function As(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ps(e){Ms(e,As(e).next.queue,{},Rc())}function Ds(){return Sa(Qd)}function Rs(){return Mi().memoizedState}function Os(){return Mi().memoizedState}function Ls(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=ii(t,e=ai(n),n);return null!==r&&(Lc(r,t,n),si(r,t,n)),t={cache:Da()},void(e.payload=t)}t=t.return}}function Fs(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zs(e)?Bs(t,n):null!==(n=Tr(e,t,n,r))&&(Lc(n,e,r),qs(n,t,r))}function Us(e,t,n){Ms(e,t,n,Rc())}function Ms(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zs(e))Bs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Yn(o,s))return Ir(e,t,a,0),null===rc&&_r(),!1}catch(l){}if(null!==(n=Tr(e,t,a,r)))return Lc(n,e,r),qs(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:Iu(),action:r,hasEagerState:!1,eagerState:null,next:null},zs(e)){if(t)throw Error(s(479))}else null!==(t=Tr(e,n,r,2))&&Lc(t,e,2)}function zs(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function Bs(e,t){ji=Ni=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Hs={readContext:Sa,use:zi,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useLayoutEffect:Ii,useInsertionEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useSyncExternalStore:Ii,useId:Ii,useHostTransitionStatus:Ii,useFormState:Ii,useActionState:Ii,useOptimistic:Ii,useMemoCache:Ii,useCacheRefresh:Ii},Ws={readContext:Sa,use:zi,useCallback:function(e,t){return Ui().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ps(4194308,4,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){ps(4,2,e,t)},useMemo:function(e,t){var n=Ui();t=void 0===t?null:t;var r=e();if(ki){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ui();if(void 0!==n){var a=n(t);if(ki){he(!0);try{n(t)}finally{he(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Fs.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ui().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Us.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:js,useDeferredValue:function(e,t){return Ss(Ui(),e,t)},useTransition:function(){var e=Zi(!1);return e=_s.bind(null,bi,e.queue,!0,!1),Ui().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,a=Ui();if(ia){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ic)||Qi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,vs(Xi.bind(null,r,i,e),[e]),r.flags|=2048,ms(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Ui(),t=rc.identifierPrefix;if(ia){var n=Jr;t="\xab"+t+"R"+(n=($r&~(1<<32-me($r)-1)).toString(32)+n),0<(n=Ci++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=_i++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Ui();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Ui().memoizedState=Ls.bind(null,bi)}},Ks={readContext:Sa,use:zi,useCallback:ks,useContext:Sa,useEffect:ys,useImperativeHandle:Ns,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:Cs,useReducer:Hi,useRef:fs,useState:function(){return Hi(qi)},useDebugValue:js,useDeferredValue:function(e,t){return Es(Mi(),xi.memoizedState,e,t)},useTransition:function(){var e=Hi(qi)[0],t=Mi().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Rs,useHostTransitionStatus:Ds,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Mi(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Os},Gs={readContext:Sa,use:zi,useCallback:ks,useContext:Sa,useEffect:ys,useImperativeHandle:Ns,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:Cs,useReducer:Ki,useRef:fs,useState:function(){return Ki(qi)},useDebugValue:js,useDeferredValue:function(e,t){var n=Mi();return null===xi?Ss(n,e,t):Es(n,xi.memoizedState,e,t)},useTransition:function(){var e=Ki(qi)[0],t=Mi().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Rs,useHostTransitionStatus:Ds,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Mi();return null!==xi?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Os},Qs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),$a(Qs,e,t)}function $s(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===m)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===S&&Zs(i)===t.type)?($s(t=a(t,n.props),n),t.return=e,t):($s(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return $s(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=qr(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(D(t)||T(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===w)return h(e,Ea(e,t),n);Js(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?c(e,t,n,r):null;case p:return n.key===a?u(e,t,n,r):null;case S:return m(e,t,n=(a=n._init)(n._payload),r)}if(D(n)||T(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return m(e,t,Xs(n),r);if(n.$$typeof===w)return m(e,t,Ea(e,n),r);Js(e,n)}return null}function v(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return v(e,t,n,r=(0,r._init)(r._payload),a)}if(D(r)||T(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return v(e,t,n,Xs(r),a);if(r.$$typeof===w)return v(e,t,n,Ea(t,r),a);Js(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===S&&Zs(b)===c.type){n(l,c.sibling),$s(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):($s(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case p:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return o(l);case S:return y(l,c,u=(b=u._init)(u._payload),d)}if(D(u))return function(a,s,o,l){for(var c=null,u=null,d=s,f=s=0,p=null;null!==d&&f<o.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var g=m(a,d,o[f],l);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(a,d),s=i(g,s,f),null===u?c=g:u.sibling=g,u=g,d=p}if(f===o.length)return n(a,d),ia&&Zr(a,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(a,o[f],l))&&(s=i(d,s,f),null===u?c=d:u.sibling=d,u=d);return ia&&Zr(a,f),c}for(d=r(d);f<o.length;f++)null!==(p=v(d,a,f,o[f],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),s=i(p,s,f),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(a,e)})),ia&&Zr(a,f),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,f=o,p=o=0,g=null,y=l.next();null!==f&&!y.done;p++,y=l.next()){f.index>p?(g=f,f=null):g=f.sibling;var b=m(a,f,y.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(a,f),o=i(b,o,p),null===d?u=b:d.sibling=b,d=b,f=g}if(y.done)return n(a,f),ia&&Zr(a,p),u;if(null===f){for(;!y.done;p++,y=l.next())null!==(y=h(a,y.value,c))&&(o=i(y,o,p),null===d?u=y:d.sibling=y,d=y);return ia&&Zr(a,p),u}for(f=r(f);!y.done;p++,y=l.next())null!==(y=v(f,a,p,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?p:y.key),o=i(y,o,p),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(a,e)})),ia&&Zr(a,p),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Xs(u),d);if(u.$$typeof===w)return y(l,c,Ea(l,u),d);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var a=y(e,t,n,r);return Qs=null,a}catch(s){if(s===Wa||s===Ga)throw s;var i=Lr(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=M(null),ao=null;function io(e){var t=e.alternate;z(co,1&co.current),z(ro,e),null===ao&&(null===t||null!==mi.current||null!==t.memoizedState)&&(ao=e)}function so(e){if(22===e.tag){if(z(co,co.current),z(ro,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){z(co,co.current),z(ro,ro.current)}function lo(e){V(ro),ao===e&&(ao=null),V(co)}var co=M(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=ai(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Lc(t,e,r),si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),a=ai(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ii(e,a,r))&&(Lc(t,e,r),si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=ai(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Lc(t,e,n),si(t,e,n))}};function fo(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,i))}function po(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function bo(e){console.error(e)}function xo(e){vo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function jo(e,t,n){return(n=ai(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function ko(e){return(e=ai(e)).tag=3,e}function Co(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){No(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!==typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var So=Error(s(461)),Eo=!1;function _o(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Io(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ca(t),r=Ai(e,t,n,s,i,a),o=Oi(),null===e||Eo?(ia&&o&&ta(t),t.flags|=1,_o(e,t,r,a),t.child):(Li(e,t,a),Yo(e,t,a))}function To(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Fr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ao(e,t,i,r,a))}if(i=e.child,!Xo(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(s,r)&&e.ref===t.ref)return Yo(e,t,a)}return t.flags|=1,(e=Ur(i,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Xn(i,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=i,!Xo(e,a))return t.lanes=e.lanes,Yo(e,t,a);0!==(131072&e.flags)&&(Eo=!0)}}return Oo(e,t,n,r,a)}function Po(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Do(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Do(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qa(0,null!==i?i.cachePool:null),null!==i?pi(t,i):gi(),so(t)}else null!==i?(qa(0,i.cachePool),pi(t,i),oo(),t.memoizedState=null):(null!==e&&qa(0,null),gi(),oo());return _o(e,t,a,n),t.child}function Do(e,t,n,r){var a=Ba();return a=null===a?null:{parent:Pa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&qa(0,null),gi(),so(t),null!==e&&ja(e,t,r,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,a){return Ca(t),n=Ai(e,t,n,r,void 0,a),r=Oi(),null===e||Eo?(ia&&r&&ta(t),t.flags|=1,_o(e,t,n,a),t.child):(Li(e,t,a),Yo(e,t,a))}function Lo(e,t,n,r,a,i){return Ca(t),t.updateQueue=null,n=Di(t,r,n,a),Pi(e),r=Oi(),null===e||Eo?(ia&&r&&ta(t),t.flags|=1,_o(e,t,n,i),t.child):(Li(e,t,i),Yo(e,t,i))}function Fo(e,t,n,r,a){if(Ca(t),null===t.stateNode){var i=Rr,s=n.contextType;"object"===typeof s&&null!==s&&(i=Sa(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=mo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Sa(s):Rr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&mo.enqueueReplaceState(i,i.state,null),ui(t,r,i,a),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;s=Rr,"object"===typeof u&&null!==u&&(s=Sa(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&po(t,i,r,s),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,a),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ti||fo(t,n,l,r,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=go(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Sa(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&po(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,a),ci();var m=t.memoizedState;s!==d||h!==m||ti||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),m=t.memoizedState),(u=ti||fo(t,n,u,r,h,m,l)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ro(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,a),t.child=to(t,null,n,a)):_o(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Yo(e,t,a),e}function Uo(e,t,n,r){return ma(),t.flags|=256,_o(e,t,n,r),t.child}var Mo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Ha()}}function zo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bo(e,t,n){var r,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ia){if(i?io(t):oo(),ia){var l,c=aa;if(l=c){e:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:$r,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=a.children,a=a.fallback,i?(oo(),c=Ho({mode:"hidden",children:c},i=t.mode),a=zr(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Vo(n),i.childLanes=zo(e,r,n),t.memoizedState=Mo,a):(io(t),qo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=a.fallback,c=t.mode,a=Ho({mode:"visible",children:a.children},c),(i=zr(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,to(t,e.child,null,n),(a=t.child).memoizedState=Vo(n),a.childLanes=zo(e,r,n),t.memoizedState=Mo,t=i);else if(io(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(s(419))).stack="",a.digest=r,pa({value:a,source:null,stack:null}),t=Wo(e,t,n)}else if(Eo||ja(e,t,n,!1),r=0!==(n&e.childLanes),Eo||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:_e(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Ar(e,a),Lc(r,e,a),So;"$?"===c.data||Gc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=vd(c.nextSibling),ra=t,ia=!0,sa=null,oa=!1,null!==e&&(Qr[Yr++]=$r,Qr[Yr++]=Jr,Qr[Yr++]=Xr,$r=e.id,Jr=e.overflow,Xr=t),(t=qo(t,a.children)).flags|=4096);return t}return i?(oo(),i=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Ur(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Ur(u,i):(i=zr(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Pa._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ha(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=zo(e,r,n),t.memoizedState=Mo,a):(io(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wa(e.return,t,n)}function Go(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Go(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ja(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function $o(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ba(0,Pa,e.memoizedState.cache),ma();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(io(t),null!==(e=Yo(e,t,n))?e.sibling:null);io(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ja(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),z(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:ba(0,Pa,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,ia&&0!==(1048576&t.flags)&&ea(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===N){t.tag=11,t=Io(null,t,r,e,n);break e}if(a===C){t.tag=14,t=To(null,t,r,e,n);break e}}throw t=P(r)||r,Error(s(306,t,""))}Fr(r)?(e=go(r,e),t.tag=1,t=Fo(null,t,r,e,n)):(t.tag=0,t=Oo(null,t,r,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Fo(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ri(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ba(0,Pa,r),r!==i.cache&&Na(t,[Pa],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Uo(e,t,r,n);break e}if(r!==a){pa(a=kr(Error(s(424)),t)),t=Uo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=vd(e.firstChild),ra=t,ia=!0,sa=null,oa=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===a){t=Yo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=_d(t.type,null,t.pendingProps,null))?t.memoizedState=n:ia||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Pe]=t,r[De]=e,ed(r,n,e),We(r),t.stateNode=r):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ia&&(r=t.stateNode=xd(t.type,t.pendingProps,H.current),ra=t,oa=!0,a=aa,md(t.type)?(yd=a,aa=vd(r.firstChild)):aa=a),_o(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ia&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Me])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=vd(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),Q(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,sd(a,i)?r=null:null!==o&&sd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ai(e,t,Ri,null,null,n),Qd._currentValue=a),Ro(e,t),_o(e,t,r,n),t.child;case 6:return null===e&&ia&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Bo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):_o(e,t,r,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(0,t.type,r.value),_o(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ca(t),r=r(a=Sa(a)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return To(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ur(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Ca(t),r=Sa(Pa),null===e?(null===(a=Ba())&&(a=rc,i=Da(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ni(t),ba(0,Pa,a)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Pa,r)):(r=i.cache,ba(0,Pa,r),r!==a.cache&&Na(t,[Pa],n,!0))),_o(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==ao:(62914560&ic)!==ic&&0===(536870912&ic)||t!==ao))throw Ja=Qa,Ka;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xa(Pa),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=B.current,ha(t)?ua(t):(e=xd(a,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=B.current,ha(t))ua(t);else{switch(a=rd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Pe]=t,e[De]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,ha(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Pe]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=fa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return xa(t.type),nl(t),null;case 19:if(V(co),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)tl(a,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(a,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Mr(n,e),n=n.sibling;return z(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>Nc&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ia)return nl(t),null}else 2*te()-a.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,z(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(za),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(Pa),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xa(Pa),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return xa(t.type),null;case 22:case 23:return lo(t),vi(),null!==e&&V(za),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xa(Pa),null;default:return null}}function il(e,t){switch(na(t),t.tag){case 3:xa(Pa),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:xa(t.type);break;case 22:case 23:lo(t),vi(),null!==e&&V(za);break;case 24:xa(Pa)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){uu(a,l,u)}}}r=r.next}while(r!==i)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){uu(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function ml(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Ju(e,t,f,null,r,h)}}for(var m in r){var f=r[m];if(h=n[m],r.hasOwnProperty(m)&&(null!=f||null!=h))switch(m){case"type":i=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Ju(e,t,m,f,r,h)}}return void gt(e,o,l,c,u,d,i,a);case"select":for(i in f=o=l=m=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Ju(e,t,a,i,r,c)}return t=l,n=o,r=f,void(null!=m?bt(e,!!n,m,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=m=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":m=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Ju(e,t,o,a,r,i)}return void xt(e,m,f);case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&null!=m&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Ju(e,t,p,null,r,m);for(c in r)if(m=r[c],f=n[c],r.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else Ju(e,t,c,m,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,m);for(u in r)if(m=r[u],f=n[u],r.hasOwnProperty(u)&&m!==f&&(null!=m||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:Ju(e,t,u,m,r,f)}return;default:if(St(t)){for(var v in n)m=n[v],n.hasOwnProperty(v)&&void 0!==m&&!r.hasOwnProperty(v)&&Zu(e,t,v,void 0,r,m);for(d in r)m=r[d],f=n[d],!r.hasOwnProperty(d)||m===f||void 0===m&&void 0===f||Zu(e,t,d,m,r,f);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&null!=m&&!r.hasOwnProperty(y)&&Ju(e,t,y,null,r,m);for(h in r)m=r[h],f=n[h],!r.hasOwnProperty(h)||m===f||null==m&&null==f||Ju(e,t,h,m,r,f)}(r,e.type,n,t),r[De]=t}catch(a){uu(e,e.return,a)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function pl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Pe]=e,t[De]=n}catch(i){uu(e,e.return,i)}}var bl=!1,xl=!1,wl=!1,Nl="function"===typeof WeakSet?WeakSet:Set,jl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&sl(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Tl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,a=bl;var i=xl;bl=r,(xl=t)&&!i?Ml(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),bl=a,xl=i}break;case 30:break;default:Fl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Sl=null,El=!1;function _l(e,t,n){for(n=n.child;null!==n;)Il(e,t,n),n=n.sibling}function Il(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:xl||dl(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=Sl,a=El;md(n.type)&&(Sl=n.stateNode,El=!1),_l(e,t,n),wd(n.stateNode),Sl=r,El=a;break;case 5:xl||dl(n,t);case 6:if(r=Sl,a=El,Sl=null,_l(e,t,n),El=a,null!==(Sl=r))if(El)try{(9===Sl.nodeType?Sl.body:"HTML"===Sl.nodeName?Sl.ownerDocument.body:Sl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Sl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Sl&&(El?(fd(9===(e=Sl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):fd(Sl,n.stateNode));break;case 4:r=Sl,a=El,Sl=n.stateNode.containerInfo,El=!0,_l(e,t,n),Sl=r,El=a;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),_l(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,_l(e,t,n),xl=r;break;default:_l(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(md(l.type)){Sl=l.stateNode,El=!1;break e}break;case 5:Sl=l.stateNode,El=!1;break e;case 3:case 4:Sl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Sl)throw Error(s(160));Il(i,o,a),Sl=null,El=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Dl=null;function Rl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ol(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Dl;if(Pl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Me]||i[Pe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),ed(i,r,n),i[Pe]=e,We(i),r=i;break e;case"link":var o=Md("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(o=Md("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[Pe]=e,We(i),r=i}e.stateNode=r}else Vd(a,e.type,e.stateNode);else e.stateNode=Rd(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Vd(a,e.type,e.stateNode):Rd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ol(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{Nt(a,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&ml(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(wl=!0);break;case 6:if(Pl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(Ud=null,a=Dl,Dl=kd(t.containerInfo),Pl(t,e),Dl=a,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(f){uu(e,e.return,f)}wl&&(wl=!1,Ll(e));break;case 4:r=Dl,Dl=kd(e.stateNode.containerInfo),Pl(t,e),Ol(e),Dl=r;break;case 12:default:Pl(t,e),Ol(e);break;case 13:Pl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||a,xl=d||c,Pl(t,e),xl=d,bl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||bl||xl||Ul(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Pl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;vl(e,pl(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(Nt(i,""),n.flags&=-33),vl(e,pl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,pl(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ul(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ul(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Ul(t);break;case 22:null===t.memoizedState&&Ul(t);break;default:Ul(t)}e=e.sibling}}function Ml(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Ml(a,i,n),sl(4,i);break;case 1:if(Ml(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)di(l[a],o)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(i),ul(i,i.return);break;case 27:yl(i);case 26:case 5:Ml(a,i,n),n&&null===r&&4&s&&hl(i),ul(i,i.return);break;case 12:Ml(a,i,n);break;case 13:Ml(a,i,n),n&&4&s&&Tl(a,i);break;case 22:null===i.memoizedState&&Ml(a,i,n),ul(i,i.return);break;case 30:break;default:Ml(a,i,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ra(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&a&&sl(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ra(e)));break;case 12:if(2048&a){Bl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,n,r):Wl(e,t):2&i._visibility?Bl(e,t,n,r):(i._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Vl(s,t);break;case 24:Bl(e,t,n,r),2048&a&&zl(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(i,s,o,l,a),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(i,s,o,l,a):Wl(i,s):(u._visibility|=2,Hl(i,s,o,l,a)),a&&2048&c&&Vl(s.alternate,s);break;case 24:Hl(i,s,o,l,a),a&&2048&c&&zl(s.alternate,s);break;default:Hl(i,s,o,l,a)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Wl(n,r),2048&a&&Vl(r.alternate,r);break;case 24:Wl(n,r),2048&a&&zl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(s(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Id(n.href),i=e.querySelector(Td(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Ad(n),(a=Nd.get(a))&&Ld(n,a),We(i=i.createElement("link"));var o=i;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Dl;Dl=kd(e.stateNode.containerInfo),Gl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];jl=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Xl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];jl=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==jl;){var n=jl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ra(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,jl=r;else e:for(n=e;null!==jl;){var a=(r=jl).sibling,i=r.return;if(Cl(r),r===n){jl=null;break e}if(null!==a){a.return=i,jl=a;break e}jl=i}}}var ec={getCacheForType:function(e){var t=Sa(Pa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,ic=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,mc=0,fc=0,pc=0,gc=0,vc=0,yc=null,bc=null,xc=!1,wc=0,Nc=1/0,jc=null,kc=null,Cc=0,Sc=null,Ec=null,_c=0,Ic=0,Tc=null,Ac=null,Pc=0,Dc=null;function Rc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==R.T){return 0!==Fa?Fa:Iu()}return Te()}function Oc(){0===gc&&(gc=0===(536870912&ic)||ia?Ne():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,ic,gc,!1)),Ce(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&Vc(e,ic,gc,!1)),Nu(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Wc(),a=Kc();rc!==e||ic!==t?(jc=null,Nc=te()+500,qc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var i=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,i,1);break;case 2:case 9:if(Ya(i)){sc=0,oc=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),Nu(e)},i.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Ya(i)?(sc=0,oc=null,Jc(t)):(sc=0,oc=null,Zc(e,t,i,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||zd(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,eu(u)):ac=null}break t}}sc=0,oc=null,Zc(e,t,i,5);break;case 6:sc=0,oc=null,Zc(e,t,i,6);break;case 8:Bc(),hc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){Hc(e,d)}return ya=va=null,R.H=r,R.A=a,nc=n,null!==ac?0:(rc=null,ic=0,_r(),hc)}(e,t):Qc(e,t,!0),i=r;;){if(0===a){cc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!i||Mc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,fc|=i,a=4;break e}i=bc,bc=a,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){qc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=wc+300-te())){if(Vc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Uc.bind(null,r,n,bc,jc,xc,t,gc,fc,vc,lc,i,2,-0,0),a)}else Uc(r,n,bc,jc,xc,t,gc,fc,vc,lc,i,0,-0,0)}break}a=Qc(e,t,!1),i=!1}Nu(e)}function Uc(e,t,n,r,a,i,o,l,c,u,d,h,m,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:qd},Ql(t),null!==(h=function(){if(null===Bd)throw Error(s(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,a,o,l,c,d,1,m,f)),void Vc(e,i,o,!u);nu(e,t,i,n,r,a,o,l,c)}function Mc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Yn(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~pc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-me(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Se(e,n,t)}function zc(){return 0!==(6&nc)||(ju(0,!1),!1)}function Bc(){if(null!==ac){if(0===sc)var e=ac.return;else ya=va=null,Fi(e=ac),Qs=null,Ys=0,e=ac;for(;null!==e;)il(e.alternate,e),e=e.return;ac=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ac=n=Ur(e.current,null),ic=t,sc=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,vc=gc=pc=fc=mc=hc=0,bc=yc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-me(r),i=1<<a;t|=e[a],r&=~i}return dc=t,_r(),n}function Hc(e,t){bi=null,R.H=Hs,t===Wa||t===Ga?(t=Za(),sc=3):t===Ka?(t=Za(),sc=4):sc=t===So?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(hc=1,wo(e,kr(t,e.current)))}function Wc(){var e=R.H;return R.H=Hs,null===e?Hs:e}function Kc(){var e=R.A;return R.A=ec,e}function Gc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&mc)&&0===(134217727&fc)||null===rc||Vc(rc,ic,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var a=Wc(),i=Kc();rc===e&&ic===t||(jc=null,qc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ac){var o=ac,l=oc;switch(sc){case 8:Bc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Yc(),s=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,ya=va=null,nc=r,R.H=a,R.A=i,null===ac&&(rc=null,ic=0,_r()),s}function Yc(){for(;null!==ac;)$c(ac)}function Xc(){for(;null!==ac&&!Z();)$c(ac)}function $c(e){var t=$o(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lo(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Lo(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Fi(t);default:il(n,t),t=$o(n,t=ac=Mr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e,t,n,r){ya=va=null,Fi(t),Qs=null,Ys=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ja(t,n,a,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===ao?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(s(435,n.tag))}return du(e,r,a),Gc(),!1}if(ia)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&pa(kr(e=Error(s(422),{cause:r}),n))):(r!==la&&pa(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=kr(r,n),oi(e,a=jo(e.stateNode,r,a)),4!==hc&&(hc=2)),!1;var i=Error(s(520),{cause:r});if(i=kr(i,n),null===yc?yc=[i]:yc.push(i),4!==hc&&(hc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,oi(n,e=jo(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,Co(a=ko(a),e,n,r),oi(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return hc=1,wo(e,kr(n,e.current)),void(ac=null)}catch(i){if(null!==a)throw ac=a,i;return hc=1,wo(e,kr(n,e.current)),void(ac=null)}32768&t.flags?(ia||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);hc=6,ac=null}function nu(e,t,n,r,a,i,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Cc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-me(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==r&&Se(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Er,o,l,c),e===rc&&(ac=rc=null,ic=0),Ec=t,Sc=e,_c=n,Ic=i,Tc=a,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(ie,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,a=O.p,O.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===a&&(l=o),m===i&&++d===r&&(c=o),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,jl=t;null!==jl;)if(e=(t=jl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,jl=e;else for(;null!==jl;){switch(i=(t=jl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var p=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(p,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,jl=e;break}jl=t.return}}(e,t)}finally{nc=o,O.p=a,R.T=r}}Cc=1,ru(),au(),iu()}}function ru(){if(1===Cc){Cc=0;var e=Sc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=O.p;O.p=2;var a=nc;nc|=4;try{Rl(t,e);var i=nd,s=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),f=o.textContent.length,p=Math.min(l.start,f),g=void 0===l.end?p:Math.min(l.end,f);!m.extend&&p>g&&(s=g,g=p,p=s);var v=Jn(o,p),y=Jn(o,g);if(v&&y&&(1!==m.rangeCount||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),m.removeAllRanges(),p>g?(m.addRange(b),m.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),m.addRange(b))}}}}for(d=[],m=o;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=a,O.p=r,R.T=n}}e.current=t,Cc=2}}function au(){if(2===Cc){Cc=0;var e=Sc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=O.p;O.p=2;var a=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=a,O.p=r,R.T=n}}Cc=3}}function iu(){if(4===Cc||3===Cc){Cc=0,ee();var e=Sc,t=Ec,n=_c,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,Ec=Sc=null,su(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(kc=null),Ie(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,a=O.p,O.p=2,R.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{R.T=t,O.p=a}}0!==(3&_c)&&ou(),Nu(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Dc?Pc++:(Pc=0,Dc=e):Pc=0,ju(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ra(t)))}function ou(e){return ru(),au(),iu(),lu()}function lu(){if(5!==Cc)return!1;var e=Sc,t=Ic;Ic=0;var n=Ie(_c),r=R.T,a=O.p;try{O.p=32>n?32:n,R.T=null,n=Tc,Tc=null;var i=Sc,o=_c;if(Cc=0,Ec=Sc=null,_c=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,$l(i.current),ql(i,i.current,o,n),nc=l,ju(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{O.p=a,R.T=r,su(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=ii(e,t=jo(e.stateNode,t,2),2))&&(Ce(e,2),Nu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=ii(t,n=ko(2),2))&&(Co(n,r,t,e),Ce(r,2),Nu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&qc(e,0):pc|=n,vc===ic&&(vc=0)),Nu(e)}function mu(e,t){0===t&&(t=je()),null!==(e=Ar(e,t))&&(Ce(e,t),Nu(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),mu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,xu=!1,wu=0;function Nu(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd((function(){0!==(6&nc)?$(re,ku):Cu()})))}function ju(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-me(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,_u(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,_u(r,i));r=r.next}}while(n);xu=!1}}function ku(){Cu()}function Cu(){bu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,i=Su(r,t);0===i?(r.next=null,null===n?gu=a:n.next=a,null===a&&(vu=n)):(n=r,(0!==e||0!==(3&i))&&(bu=!0)),r=a}ju(e,!1)}function Su(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-me(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ie(n)){case 2:case 8:n=ae;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Eu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Su(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function _u(e,t){if(ou())return null;Fc(e,t,!0)}function Iu(){return 0===wu&&(wu=Ne()),wu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<wr.length;Pu++){var Du=wr[Pu];Nr(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}Nr(mr,"onAnimationEnd"),Nr(fr,"onAnimationIteration"),Nr(pr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(gr,"onTransitionRun"),Nr(vr,"onTransitionStart"),Nr(yr,"onTransitionCancel"),Nr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){vo(u)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){vo(u)}a.currentTarget=null,i=l}}}}function Fu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Mu]){e[Mu]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Ou.has(t)||Uu(t,!1,e),Uu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mu]||(t[Mu]=!0,Uu("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ch(t)){case 2:var a=rh;break;case 8:a=ah;break;default:a=ih}n=a.bind(null,t,n,e),a=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=ze(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}o=o.parentNode}}r=r.return}Lt((function(){var r=i,a=At(n),s=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=pn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case mr:case fr:case pr:c=on;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===m||null!=(g=Ft(p,m))&&d.push(qu(p,g,f)),h)break;p=p.return}0<d.length&&(o=new c(o,u,null,n,a),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Re])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",m="onPointerEnter",p="pointer"),h=null==c?o:qe(c),f=null==u?o:qe(u),(o=new d(g,p+"leave",c,n,a)).target=h,o.relatedTarget=f,g=null,ze(a)===r&&((d=new d(m,p+"enter",u,n,a)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(m=u,p=0,f=d=c;f;f=Wu(f))p++;for(f=0,g=m;g;g=Wu(g))f++;for(;0<p-f;)d=Wu(d),p--;for(;0<f-p;)m=Wu(m),f--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Wu(d),m=Wu(m)}d=null}else d=null;null!==c&&Ku(s,o,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(o=r?qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Un;else if(Pn(o))if(Mn)v=Qn;else{v=Kn;var y=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&St(r.elementType)&&(v=Un):v=Gn;switch(v&&(v=v(e,r))?Dn(s,v,n,a):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),y=r?qe(r):window,e){case"focusin":(Pn(y)||"true"===y.contentEditable)&&(rr=y,ar=r,ir=null);break;case"focusout":ir=ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,a)}var b;if(Nn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Tn?_n(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Tn&&(b=Ht()):(Bt="value"in(zt=a)?zt.value:zt.textContent,Tn=!0)),0<(y=Hu(r,x)).length&&(x=new cn(x,e,null,n,a),s.push({event:x,listeners:y}),b?x.data=b:null!==(b=In(n))&&(x.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(En=!0,Sn);case"textInput":return(e=t.data)===Sn&&En?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!Nn&&_n(e,t)?(e=Ht(),qt=Bt=zt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,a),s.push({event:y,listeners:x}),y.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Tu((a[De]||null).action),s=r.submitter;s&&null!==(t=(t=s[De]||null)?Tu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new Zt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=s?Au(a,s):new FormData(a);Ts(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Au(a,s):new FormData(a),Ts(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,r,n,a)}Lu(s,t)}))}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Ft(e,n))&&r.unshift(qu(e,a,i)),null!=(a=Ft(e,t))&&r.push(qu(e,a,i))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Ft(n,i))&&s.unshift(qu(n,c,l)):a||null!=(c=Ft(n,i))&&s.push(qu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function $u(){}function Ju(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Nt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",a.name,a,null),Ju(e,t,"formEncType",a.formEncType,a,null),Ju(e,t,"formMethod",a.formMethod,a,null),Ju(e,t,"formTarget",a.formTarget,a,null)):(Ju(e,t,"encType",a.encType,a,null),Ju(e,t,"method",a.method,a,null),Ju(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Zu(e,t,n,r,a,i){switch(n){case"style":Ct(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&Nt(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[De]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,o,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(a&&Ju(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=o=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,a,d,n,null)}}return vt(e,r,l,c,u,o,i,!1),void dt(e);case"select":for(i in Fu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Ju(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(o in Fu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,o,l,n,null)}return wt(e,a,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Ju(e,t,c,a,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(a=0;a<Ru.length;a++)Fu(Ru[a],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,a,n,null)}return;default:if(St(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zu(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Ju(e,t,l,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout((function(){throw e}))}function md(e){return"head"===e}function fd(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wd(s.documentElement),2&n&&wd(s.body),4&n)for(wd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Me]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void Eh(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Eh(t)}function pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var Nd=new Map,jd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=O.d;O.d={f:function(){var e=Cd.f(),t=zc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Ps(t):Cd.r(e)},D:function(e){Cd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Sd;if(r&&e&&t){var a='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+pt(n.imageSizes)+'"]')):a+='[href="'+pt(e)+'"]';var i=a;switch(t){case"style":i=Id(e);break;case"script":i=Pd(e)}Nd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Nd.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Td(i))||"script"===t&&r.querySelector(Dd(i))||(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Sd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+pt(r)+'"][href="'+pt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pd(e)}if(!Nd.has(i)&&(e=h({rel:"modulepreload",href:e},t),Nd.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dd(i)))return}ed(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Sd;if(n&&e){var r=He(n).hoistableScripts,a=Pd(e),i=r.get(a);i||((i=n.querySelector(Dd(a)))||(e=h({src:e,async:!0},t),(t=Nd.get(a))&&Fd(e,t),We(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Cd.S(e,t,n);var r=Sd;if(r&&e){var a=He(r).hoistableStyles,i=Id(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Td(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nd.get(i))&&Ld(e,n);var l=s=r.createElement("link");We(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Od(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Cd.M(e,t);var n=Sd;if(n&&e){var r=He(n).hoistableScripts,a=Pd(e),i=r.get(a);i||((i=n.querySelector(Dd(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=Nd.get(a))&&Fd(e,t),We(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Sd="undefined"===typeof document?null:document;function Ed(e,t,n){var r=Sd;if(r&&"string"===typeof t&&t){var a=pt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),jd.has(a)||(jd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function _d(e,t,n,r){var a,i,o,l,c=(c=H.current)?kd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Id(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Id(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Nd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nd.set(e,n),u||(a=c,i=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),ed(i,"link",o),We(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Id(e){return'href="'+pt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+pt(e)+'"]'}function Dd(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Od(r,n.precedence,e),t.instance=r;case"stylesheet":a=Id(n.href);var i=e.querySelector(Td(a));if(i)return t.state.loading|=4,t.instance=i,We(i),i;r=Ad(n),(a=Nd.get(a))&&Ld(r,a),We(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),ed(i,"link",r),t.state.loading|=4,Od(i,n.precedence,e),t.instance=i;case"script":return i=Pd(n.src),(a=e.querySelector(Dd(i)))?(t.instance=a,We(a),a):(r=n,(a=Nd.get(i))&&Fd(r=h({},n),a),We(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Od(r,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function Md(e,t,n){if(null===Ud){var r=new Map,a=Ud=new Map;a.set(n,r)}else(r=(a=Ud).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Me]||i[Pe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Yd(e,t,n,r,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,a,i,s,o,l,c,u,d){return e=new Yd(e,t,n,s,o,l,c,d),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=Da()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function $d(e){return e?e=Rr:Rr}function Jd(e,t,n,r,a,i){a=$d(a),null===r.context?r.context=a:r.pendingContext=a,(r=ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Lc(n,0,t),si(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var a=R.T;R.T=null;var i=O.p;try{O.p=2,ih(e,t,n,r)}finally{O.p=i,R.T=a}}function ah(e,t,n,r){var a=R.T;R.T=null;var i=O.p;try{O.p=8,ih(e,t,n,r)}finally{O.p=i,R.T=a}}function ih(e,t,n,r){if(nh){var a=sh(r);if(null===a)Bu(e,t,r,oh,n),yh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,a),!0;case"dragenter":return hh=bh(hh,e,t,n,r,a),!0;case"mouseover":return mh=bh(mh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return fh.set(i,bh(fh.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ph.set(i,bh(ph.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==a;){var i=Be(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ye(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-me(s);o.entanglements[1]|=l,s&=~l}Nu(i),0===(6&nc)&&(Nc=te()+500,ju(0,!1))}}break;case 13:null!==(o=Ar(i,2))&&Lc(o,0,2),zc(),eh(i,2)}if(null===(i=sh(r))&&Bu(e,t,r,oh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function sh(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case ie:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,mh=null,fh=new Map,ph=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(t.pointerId)}}function bh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function xh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,(function(){if(13===n.tag){var e=Rc();e=_e(e);var t=Ar(n,e);null!==t&&Lc(t,0,e),eh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function Nh(e,t,n){wh(e)&&n.delete(t)}function jh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==mh&&wh(mh)&&(mh=null),fh.forEach(Nh),ph.forEach(Nh)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jh)))}var Ch=null;function Sh(e){Ch!==e&&(Ch=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Ch===e&&(Ch=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=Be(n);null!==i&&(e.splice(t,3),t-=3,Ts(i,{pending:!0,data:a,method:n.method,action:r},r,a))}})))}function Eh(e){function t(t){return kh(t,e)}null!==dh&&kh(dh,e),null!==hh&&kh(hh,e),null!==mh&&kh(mh,e),fh.forEach(t),ph.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[De]||null;if("function"===typeof i)s||Sh(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[De]||null)o=s.formAction;else if(null!==lh(a))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Sh(n)}}}function _h(e){this._internalRoot=e}function Ih(e){this._internalRoot=e}Ih.prototype.render=_h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Rc(),e,t,null,null)},Ih.prototype.unmount=_h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),zc(),t[Re]=null}},Ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Th=a.version;if("19.1.0"!==Th)throw Error(s(527,Th,"19.1.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return u(a),e;if(i===r)return u(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ah),de=Ph}catch(Rh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",a=yo,i=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,i,l,0,null),e[Re]=t.current,Vu(e),new _h(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,a="",i=yo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,i,l,c,0,u)).context=$d(null),n=t.current,(a=ai(r=_e(r=Rc()))).callback=null,ii(n,a,r),n=r,t.current.lanes=n,Ce(t,n),Nu(t),e[Re]=t.current,Vu(e),new Ih(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},64:()=>{},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,p(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function k(e,t,r,a,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function I(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return I((u=e._init)(e._payload),t,a,i,s)}}if(u)return s=s(e),u=""===i?"."+E(e,0):i,w(s)?(a="",null!=u&&(a=u.replace(S,"$&/")+"/"),I(s,t,a,"",(function(e){return e}))):null!=s&&(C(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,f=""===i?".":i+":";if(w(e))for(var p=0;p<e.length;p++)u+=I(i=e[p],t,a,o=f+E(i,p),s);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(i=e.next()).done;)u+=I(i=i.value,t,a,o=f+E(i,p++),s);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=p({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!j.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return k(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return k(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,n={};N.T=n;try{var r=e(),a=N.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,P)}catch(i){P(i)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=N.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.H.useTransition()},t.version="19.1.0"},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},636:()=>{},672:(e,t,n)=>{"use strict";var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,p=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function N(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,k||(k=!0,j());else{var t=r(u);null!==t&&P(N,t.startTime-e)}}var j,k=!1,C=-1,S=5,E=-1;function _(){return!!v||!(t.unstable_now()-E<S)}function I(){if(v=!1,k){var e=t.unstable_now();E=e;var n=!0;try{e:{p=!1,g&&(g=!1,b(C),C=-1),f=!0;var i=m;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var s=h.callback;if("function"===typeof s){h.callback=null,m=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(N,l.startTime-e),n=!1}}break e}finally{h=null,m=i,f=!1}n=void 0}}finally{n?j():k=!1}}}if("function"===typeof x)j=function(){x(I)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=I,j=function(){A.postMessage(null)}}else j=function(){y(I,0)};function P(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,P(N,i-s))):(e.sortIndex=o,n(c,e),p||f||(p=!0,k||(k=!0,j()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(391);function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(358);const c=["sri"],u=["page"],d=["page","matches"],h=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var p="popstate";function g(){return j((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return x("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:w(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return l(l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function j(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",c=null,u=d();function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:o,location:f.location,delta:t})}function m(e){return k(e)}null==u&&(u=0,s.replaceState(l(l({},s.state),{},{idx:u}),""));let f={get action(){return o},get location(){return e(a,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(p,h),c=e,()=>{a.removeEventListener(p,h),c=null}},createHref:e=>t(a,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=x(f.location,e,t);n&&n(r,e),u=d()+1;let l=b(r,u),h=f.createHref(r);try{s.pushState(l,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;a.location.assign(h)}i&&c&&c({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=x(f.location,e,t);n&&n(r,e),u=d();let a=b(r,u),l=f.createHref(r);s.replaceState(a,"",l),i&&c&&c({action:o,location:f.location,delta:0})},go:e=>s.go(e)};return f}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return S(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function S(e,t,n,r){let a=z(("string"===typeof t?N(t):t).pathname||"/",n);if(null==a)return null;let i=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=V(a);s=F(i[o],e,r)}return s}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(v(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let o=K([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),E(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of _(e.path))a(e,t,r);else a(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=_(r.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var I=/^:[\w-]+$/,T=3,A=2,P=1,D=10,R=-2,O=e=>"*"===e;function L(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=R),t&&(r+=A),n.filter((e=>!O(e))).reduce(((e,t)=>e+(I.test(t)?T:""===t?P:D)),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),s.push({params:a,pathname:K([i,u.pathname]),pathnameBase:G(K([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=K([i,u.pathnameBase]))}return s}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=M(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:s,pattern:e}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function V(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function H(e){let t=q(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function W(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=N(e):(r=l({},e),v(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let i,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?N(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Q(r),hash:Y(a)}}(r,i),u=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var K=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],J=(new Set($),["GET",...$]);new Set(J),Symbol("ResetLoaderData");var Z=e.createContext(null);Z.displayName="DataRouter";var ee=e.createContext(null);ee.displayName="DataRouterState";var te=e.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=e.createContext(new Map);ne.displayName="Fetchers";var re=e.createContext(null);re.displayName="Await";var ae=e.createContext(null);ae.displayName="Navigation";var ie=e.createContext(null);ie.displayName="Location";var se=e.createContext({outlet:null,matches:[],isDataRoute:!1});se.displayName="Route";var oe=e.createContext(null);oe.displayName="RouteError";function le(){return null!=e.useContext(ie)}function ce(){return v(le(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(ie).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(t){e.useContext(ae).static||e.useLayoutEffect(t)}function he(){let{isDataRoute:t}=e.useContext(se);return t?function(){let{router:t}=we("useNavigate"),n=je("useNavigate"),r=e.useRef(!1);de((()=>{r.current=!0}));let a=e.useCallback((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(r.current,ue),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,l({fromRouteId:n},a)))}),[t,n]);return a}():function(){v(le(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(Z),{basename:n,navigator:r}=e.useContext(ae),{matches:a}=e.useContext(se),{pathname:i}=ce(),s=JSON.stringify(H(a)),o=e.useRef(!1);de((()=>{o.current=!0}));let l=e.useCallback((function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(o.current,ue),!o.current)return;if("number"===typeof e)return void r.go(e);let l=W(e,JSON.parse(s),i,"path"===a.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:K([n,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)}),[n,r,s,i,t]);return l}()}e.createContext(null);function me(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(se),{pathname:a}=ce(),i=JSON.stringify(H(r));return e.useMemo((()=>W(t,JSON.parse(i),a,"path"===n)),[t,i,a,n])}function fe(t,n,r,a){v(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=e.useContext(ae),{matches:s}=e.useContext(se),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";Se(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,f=ce();if(n){var p;let e="string"===typeof n?N(n):n;v("/"===d||(null===(p=e.pathname)||void 0===p?void 0:p.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=f;let g=m.pathname||"/",b=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=C(t,{pathname:b});y(h||null!=x,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),y(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=be(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:K([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,a);return n&&w?e.createElement(ie.Provider,{value:{location:l({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},w):w}function pe(){let t=ke(),n=X(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,o)}var ge=e.createElement(pe,null),ve=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(se.Provider,{value:this.props.routeContext},e.createElement(oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(t){let{routeContext:n,match:r,children:a}=t,i=e.useContext(Z);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(se.Provider,{value:n},a)}function be(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let a=t,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=a.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,o=-1;if(r)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){s=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight(((t,l,c)=>{let u,d=!1,h=null,m=null;r&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||ge,s&&(o<0&&0===c?(Se("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):o===c&&(d=!0,m=l.route.hydrateFallbackElement||null)));let f=n.concat(a.slice(0,c+1)),p=()=>{let n;return n=u?h:d?m:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(ye,{match:l,routeContext:{outlet:t,matches:f,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(ve,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()}),null)}function xe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(t){let n=e.useContext(Z);return v(n,xe(t)),n}function Ne(t){let n=e.useContext(ee);return v(n,xe(t)),n}function je(t){let n=function(t){let n=e.useContext(se);return v(n,xe(t)),n}(t),r=n.matches[n.matches.length-1];return v(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function ke(){var t;let n=e.useContext(oe),r=Ne("useRouteError"),a=je("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[a]}var Ce={};function Se(e,t,n){t||Ce[e]||(Ce[e]=!0,y(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return fe(t,void 0,r,n)}));function Ee(t){let{to:n,replace:r,state:a,relative:i}=t;v(le(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=e.useContext(ae);y(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=e.useContext(se),{pathname:l}=ce(),c=he(),u=W(n,H(o),l,"path"===i),d=JSON.stringify(u);return e.useEffect((()=>{c(JSON.parse(d),{replace:r,state:a,relative:i})}),[c,d,i,r,a]),null}function _e(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ie(t){let{basename:n="/",children:r=null,location:a,navigationType:i="POP",navigator:s,static:o=!1}=t;v(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:l,navigator:s,static:o,future:{}})),[l,s,o]);"string"===typeof a&&(a=N(a));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:f="default"}=a,p=e.useMemo((()=>{let e=z(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:m,key:f},navigationType:i}}),[l,u,d,h,m,f,i]);return y(null!=p,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==p?null:e.createElement(ae.Provider,{value:c},e.createElement(ie.Provider,{children:r,value:p}))}function Te(e){let{children:t,location:n}=e;return fe(Ae(t),n)}e.Component;function Ae(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,a)=>{if(!e.isValidElement(t))return;let i=[...n,a];if(t.type===e.Fragment)return void r.push.apply(r,Ae(t.props.children,i));v(t.type===_e,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Ae(t.props.children,i)),r.push(s)})),r}var Pe="get",De="application/x-www-form-urlencoded";function Re(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Le.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function Ue(e,t){let n,r,a,i,s;if(Re(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?z(s,t):null,n=e.getAttribute("method")||Pe,a=Fe(e.getAttribute("enctype"))||De,i=new FormData(e)}else if(function(e){return Re(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Re(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?z(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Pe,a=Fe(e.getAttribute("formenctype"))||Fe(s.getAttribute("enctype"))||De,i=new FormData(s,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(e){Oe=!0}return Oe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Re(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pe,r=null,a=De,s=e}var o;return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}function Me(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function ze(e){return null!=e&&"string"===typeof e.page}function Be(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function He(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a})).flat(1),[...new Set(r)];var r}function We(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,a)=>{if(t&&!ze(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e}),[])}function Ke(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ge=new Set([100,101,204,205]);function Qe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===z(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}e.Component;function Ye(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let a,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(n))return e.createElement(Xe,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Xe,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),i)}function Xe(t){var n;let{title:r,renderScripts:a,isOutsideRemixApp:i,children:s}=t,{routeModules:o}=tt();return null!==o.root&&void 0!==n&&n.Layout&&!i?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,a?e.createElement(lt,null):null)))}function $e(e,t){return"lazy"===e.mode&&!0===t}function Je(){let t=e.useContext(Z);return Me(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ze(){let t=e.useContext(ee);return Me(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var et=e.createContext(void 0);function tt(){let t=e.useContext(et);return Me(t,"You must render this element inside a <HydratedRouter> element"),t}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!ot)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function at(t){let{page:n}=t,a=r(t,u),{router:i}=Je(),s=e.useMemo((()=>C(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?e.createElement(st,l({page:n,matches:s},a)):null}function it(t){let{manifest:n,routeModules:r}=tt(),[a,i]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return We((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Be).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?l(l({},e),{},{rel:"prefetch",as:"style"}):l(l({},e),{},{rel:"prefetch"}))))}(t,n,r).then((t=>{e||i(t)})),()=>{e=!0}}),[t,n,r]),a}function st(t){let{page:n,matches:a}=t,i=r(t,d),s=ce(),{manifest:o,routeModules:c}=tt(),{basename:u}=Je(),{loaderData:h,matches:m}=Ze(),f=e.useMemo((()=>qe(n,a,m,o,s,"data")),[n,a,m,o,s]),p=e.useMemo((()=>qe(n,a,m,o,s,"assets")),[n,a,m,o,s]),g=e.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(a.forEach((n=>{var r;let a=o.routes[n.route.id];a&&a.hasLoader&&(!f.some((e=>e.route.id===n.route.id))&&n.route.id in h&&null!==(r=c[n.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let r=Qe(n,u);return t&&e.size>0&&r.searchParams.set("_routes",a.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[r.pathname+r.search]}),[u,h,s,o,f,a,n,c]),v=e.useMemo((()=>He(p,o)),[p,o]),y=it(p);return e.createElement(e.Fragment,null,g.map((t=>e.createElement("link",l({key:t,rel:"prefetch",as:"fetch",href:t},i)))),v.map((t=>e.createElement("link",l({key:t,rel:"modulepreload",href:t},i)))),y.map((t=>{let{key:n,link:r}=t;return e.createElement("link",l({key:n},r))})))}et.displayName="FrameworkContext";var ot=!1;function lt(t){let{manifest:n,serverHandoffString:a,isSpaMode:i,renderMeta:s,routeDiscovery:o,ssr:u}=tt(),{router:d,static:h,staticContext:m}=Je(),{matches:f}=Ze(),p=$e(o,u);s&&(s.didRenderScripts=!0);let g=rt(f,null,i);e.useEffect((()=>{0}),[]);let v=e.useMemo((()=>{var i;let s=m?"window.__reactRouterContext = ".concat(a,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==n.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(g.map(((e,t)=>{let r="route".concat(t),a=n.routes[e.route.id];Me(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=r(e,c),i=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach((e=>{let n=C(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let u=[...i].reduce(((e,t)=>Object.assign(e,{[t]:a.routes[t]})),{});return l(l({},a),{},{routes:u,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",l(l({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ke(s),type:void 0})),e.createElement("script",l(l({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ke(o),type:"module",async:!0})))}),[]),y=ot?[]:(n.entry.imports.concat(He(g,n,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let x="object"===typeof n.sri?n.sri:{};return ot?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,p?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),y.map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:x[n],suppressHydrationWarning:!0}))),v)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ut="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ut&&(window.__reactRouterVersion="7.6.2")}catch(Yb){}function dt(t){let{basename:n,children:r,window:a}=t,i=e.useRef();null==i.current&&(i.current=g({window:a,v5Compat:!0}));let s=i.current,[o,l]=e.useState({action:s.action,location:s.location}),c=e.useCallback((t=>{e.startTransition((()=>l(t)))}),[l]);return e.useLayoutEffect((()=>s.listen(c)),[s,c]),e.createElement(Ie,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:s})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=e.forwardRef((function(t,n){let a,{onClick:i,discover:s="render",prefetch:o="none",relative:c,reloadDocument:u,replace:d,state:m,target:f,to:p,preventScrollReset:g,viewTransition:b}=t,x=r(t,h),{basename:N}=e.useContext(ae),j="string"===typeof p&&ht.test(p),k=!1;if("string"===typeof p&&j&&(a=p,ut))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=z(t.pathname,N);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:k=!0}catch(Yb){y(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=e.useContext(ae),{hash:i,pathname:s,search:o}=me(t,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:K([r,s])),a.createHref({pathname:l,search:o,hash:i})}(p,{relative:c}),[S,E,_]=function(t,n){let r=e.useContext(et),[a,i]=e.useState(!1),[s,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,m=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(a){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let f=()=>{i(!0)},p=()=>{i(!1),o(!1)};return r?"intent"!==t?[s,m,{}]:[s,m,{onFocus:nt(l,f),onBlur:nt(c,p),onMouseEnter:nt(u,f),onMouseLeave:nt(d,p),onTouchStart:nt(h,f)}]:[!1,m,{}]}(o,x),I=function(t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ce(),u=me(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:w(c)===w(u);l(t,{replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o})}}),[c,l,u,r,a,n,t,i,s,o])}(p,{replace:d,state:m,target:f,preventScrollReset:g,relative:c,viewTransition:b});let T=e.createElement("a",l(l(l({},x),_),{},{href:a||C,onClick:k||u?i:function(e){i&&i(e),e.defaultPrevented||I(e)},ref:ct(n,E),target:f,"data-discover":j||"render"!==s?void 0:"true"}));return S&&!j?e.createElement(e.Fragment,null,T,e.createElement(at,{page:C})):T}));mt.displayName="Link";var ft=e.forwardRef((function(t,n){let{"aria-current":a="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:d,children:h}=t,f=r(t,m),p=me(u,{relative:f.relative}),g=ce(),y=e.useContext(ee),{navigator:b,basename:x}=e.useContext(ae),w=null!=y&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(te);v(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=vt("useViewTransitionState"),i=me(t,{relative:n.relative});if(!r.isTransitioning)return!1;let s=z(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=z(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=U(i.pathname,o)||null!=U(i.pathname,s)}(p)&&!0===d,N=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,j=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(j=j.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&x&&(k=z(k,x)||k);const C="/"!==N&&N.endsWith("/")?N.length-1:N.length;let S,E=j===N||!o&&j.startsWith(N)&&"/"===j.charAt(C),_=null!=k&&(k===N||!o&&k.startsWith(N)&&"/"===k.charAt(N.length)),I={isActive:E,isPending:_,isTransitioning:w},T=E?a:void 0;S="function"===typeof s?s(I):[s,E?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof c?c(I):c;return e.createElement(mt,l(l({},f),{},{"aria-current":T,className:S,ref:n,style:A,to:u,viewTransition:d}),"function"===typeof h?h(I):h)}));ft.displayName="NavLink";var pt=e.forwardRef(((t,n)=>{let{discover:a="render",fetcherKey:i,navigate:s,reloadDocument:o,replace:c,state:u,method:d=Pe,action:h,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:y}=t,b=r(t,f),x=xt(),N=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(ae),a=e.useContext(se);v(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),s=l({},me(t||".",{relative:n})),o=ce();if(null==t){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?"?".concat(n):""}}t&&"."!==t||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:K([r,s.pathname]));return w(s)}(h,{relative:p}),j="get"===d.toLowerCase()?"get":"post",k="string"===typeof h&&ht.test(h);return e.createElement("form",l(l({ref:n,method:j,action:N,onSubmit:o?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:c,state:u,relative:p,preventScrollReset:g,viewTransition:y})}},b),{},{"data-discover":k||"render"!==a?void 0:"true"}))}));function gt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(t){let n=e.useContext(Z);return v(n,gt(t)),n}pt.displayName="Form";var yt=0,bt=()=>"__".concat(String(++yt),"__");function xt(){let{router:t}=vt("useSubmit"),{basename:n}=e.useContext(ae),r=je("useRouteId");return e.useCallback((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:c}=Ue(e,n);if(!1===a.navigate){let e=a.fetcherKey||bt();await t.fetch(e,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[t,n,r])}const wt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},Nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,s=i?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const s=a<e.length?n[e.charAt(a)]:64;++a;const o=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==s||null==o)throw new jt;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class jt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kt=function(e){return function(e){const t=wt(e);return Nt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ct=function(e){try{return Nt.decodeString(e,!0)}catch(Yb){console.error("base64Decode failed: ",Yb)}return null};function St(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Et=()=>{try{return St().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Yb){return}const t=e&&Ct(e[1]);return t&&JSON.parse(t)})()}catch(Yb){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Yb))}},_t=e=>{var t,n;return null===(n=null===(t=Et())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},It=e=>{const t=_t(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Tt=()=>{var e;return null===(e=Et())||void 0===e?void 0:e.config},At=e=>{var t;return null===(t=Et())||void 0===t?void 0:t["_".concat(e)]};class Pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Dt(e){return e.endsWith(".cloudworkstations.dev")}async function Rt(e){return(await fetch(e,{credentials:"include"})).ok}function Ot(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[kt(JSON.stringify({alg:"none",type:"JWT"})),kt(JSON.stringify(i)),""].join(".")}const Lt={};let Ft=!1;function Ut(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Dt(window.location.host)||Lt[e]===t||Lt[e]||Ft)return;function n(e){return"__firebase__banner__".concat(e)}Lt[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Lt))Lt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ft=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}a?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Vt(){var e;const t=null===(e=Et())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Yb){return!1}}function zt(){return!Vt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bt(){try{return"object"===typeof indexedDB}catch(Yb){return!1}}class qt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}}class Ht{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Wt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new qt(n,i,t)}}const Wt=/\{\$([^}]+)}/g;function Kt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(Gt(n)&&Gt(i)){if(!Kt(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Gt(e){return null!==e&&"object"===typeof e}function Qt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Yt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Xt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class $t{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Jt),void 0===r.error&&(r.error=Jt),void 0===r.complete&&(r.complete=Jt);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Yb){}})),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Yb){"undefined"!==typeof console&&console.error&&console.error(Yb)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Jt(){}function Zt(e){return e&&e._delegate?e._delegate:e}class en{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tn="[DEFAULT]";class nn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Yb){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Yb){if(r)return null;throw Yb}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch(Yb){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Yb){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===tn?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.component?this.component.multipleInstances?e:tn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const an=[];var sn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(sn||(sn={}));const on={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},ln=sn.INFO,cn={[sn.DEBUG]:"log",[sn.VERBOSE]:"log",[sn.INFO]:"info",[sn.WARN]:"warn",[sn.ERROR]:"error"},un=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=cn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class dn{constructor(e){this.name=e,this._logLevel=ln,this._logHandler=un,this._userLogHandler=null,an.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?on[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.DEBUG,...t),this._logHandler(this,sn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.VERBOSE,...t),this._logHandler(this,sn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.INFO,...t),this._logHandler(this,sn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.WARN,...t),this._logHandler(this,sn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.ERROR,...t),this._logHandler(this,sn.ERROR,...t)}}let hn,mn;const fn=new WeakMap,pn=new WeakMap,gn=new WeakMap,vn=new WeakMap,yn=new WeakMap;let bn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mn||(mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jn(this),n),Nn(fn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nn(e.apply(jn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(jn(this),t,...r);return gn.set(i,t.sort?t.sort():[t]),Nn(i)}}function wn(e){return"function"===typeof e?xn(e):(e instanceof IDBTransaction&&function(e){if(pn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));pn.set(e,t)}(e),t=e,(hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,bn):e);var t}function Nn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(Nn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&fn.set(t,e)})).catch((()=>{})),yn.set(t,e),t}(e);if(vn.has(e))return vn.get(e);const t=wn(e);return t!==e&&(vn.set(e,t),yn.set(t,e)),t}const jn=e=>yn.get(e);const kn=["get","getKey","getAll","getAllKeys","count"],Cn=["put","add","delete","clear"],Sn=new Map;function En(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Sn.get(t))return Sn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Cn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!kn.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),a&&t.done]))[0]};return Sn.set(t,i),i}bn=(e=>l(l({},e),{},{get:(t,n,r)=>En(t,n)||e.get(t,n,r),has:(t,n)=>!!En(t,n)||e.has(t,n)}))(bn);class _n{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const In="@firebase/app",Tn="0.13.1",An=new dn("@firebase/app"),Pn="@firebase/app-compat",Dn="@firebase/analytics-compat",Rn="@firebase/analytics",On="@firebase/app-check-compat",Ln="@firebase/app-check",Fn="@firebase/auth",Un="@firebase/auth-compat",Mn="@firebase/database",Vn="@firebase/data-connect",zn="@firebase/database-compat",Bn="@firebase/functions",qn="@firebase/functions-compat",Hn="@firebase/installations",Wn="@firebase/installations-compat",Kn="@firebase/messaging",Gn="@firebase/messaging-compat",Qn="@firebase/performance",Yn="@firebase/performance-compat",Xn="@firebase/remote-config",$n="@firebase/remote-config-compat",Jn="@firebase/storage",Zn="@firebase/storage-compat",er="@firebase/firestore",tr="@firebase/ai",nr="@firebase/firestore-compat",rr="firebase",ar="[DEFAULT]",ir={[In]:"fire-core",[Pn]:"fire-core-compat",[Rn]:"fire-analytics",[Dn]:"fire-analytics-compat",[Ln]:"fire-app-check",[On]:"fire-app-check-compat",[Fn]:"fire-auth",[Un]:"fire-auth-compat",[Mn]:"fire-rtdb",[Vn]:"fire-data-connect",[zn]:"fire-rtdb-compat",[Bn]:"fire-fn",[qn]:"fire-fn-compat",[Hn]:"fire-iid",[Wn]:"fire-iid-compat",[Kn]:"fire-fcm",[Gn]:"fire-fcm-compat",[Qn]:"fire-perf",[Yn]:"fire-perf-compat",[Xn]:"fire-rc",[$n]:"fire-rc-compat",[Jn]:"fire-gcs",[Zn]:"fire-gcs-compat",[er]:"fire-fst",[nr]:"fire-fst-compat",[tr]:"fire-vertex","fire-js":"fire-js",[rr]:"fire-js-all"},sr=new Map,or=new Map,lr=new Map;function cr(e,t){try{e.container.addComponent(t)}catch(Yb){An.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Yb)}}function ur(e){const t=e.name;if(lr.has(t))return An.debug("There were multiple attempts to register component ".concat(t,".")),!1;lr.set(t,e);for(const n of sr.values())cr(n,e);for(const n of or.values())cr(n,e);return!0}function dr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const mr=new Ht("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new en("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const pr="11.9.0";function gr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ar,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw mr.create("bad-app-name",{appName:String(a)});if(n||(n=Tt()),!n)throw mr.create("no-options");const i=sr.get(a);if(i){if(Kt(n,i.options)&&Kt(r,i.config))return i;throw mr.create("duplicate-app",{appName:a})}const s=new rn(a);for(const l of lr.values())s.addComponent(l);const o=new fr(n,r,s);return sr.set(a,o),o}function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar;const t=sr.get(e);if(!t&&e===ar&&Tt())return gr();if(!t)throw mr.create("no-app",{appName:e});return t}function yr(e,t,n){var r;let a=null!==(r=ir[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void An.warn(e.join(" "))}ur(new en("".concat(a,"-version"),(()=>({library:a,version:t})),"VERSION"))}const br="firebase-heartbeat-store";let xr=null;function wr(){return xr||(xr=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Nn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Nn(s.result),e.oldVersion,e.newVersion,Nn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(br)}catch(Yb){console.warn(Yb)}}}).catch((e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})}))),xr}async function Nr(e,t){try{const n=(await wr()).transaction(br,"readwrite"),r=n.objectStore(br);await r.put(t,jr(e)),await n.done}catch(Yb){if(Yb instanceof qt)An.warn(Yb.message);else{const t=mr.create("idb-set",{originalErrorMessage:null===Yb||void 0===Yb?void 0:Yb.message});An.warn(t.message)}}}function jr(e){return"".concat(e.name,"!").concat(e.options.appId)}class kr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Sr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Yb){An.warn(Yb)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Cr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find((e=>e.agent===a.agent));if(e){if(e.dates.push(a.date),Er(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Er(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=kt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(Yb){return An.warn(Yb),""}}}function Cr(){return(new Date).toISOString().substring(0,10)}class Sr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Bt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await wr()).transaction(br),n=await t.objectStore(br).get(jr(e));return await t.done,n}catch(Yb){if(Yb instanceof qt)An.warn(Yb.message);else{const t=mr.create("idb-get",{originalErrorMessage:null===Yb||void 0===Yb?void 0:Yb.message});An.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Nr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Nr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Er(e){return kt(JSON.stringify({version:2,heartbeats:e})).length}var _r;_r="",ur(new en("platform-logger",(e=>new _n(e)),"PRIVATE")),ur(new en("heartbeat",(e=>new kr(e)),"PRIVATE")),yr(In,Tn,_r),yr(In,Tn,"esm2017"),yr("fire-js","");function Ir(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Tr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ar=Tr,Pr=new Ht("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dr=new dn("@firebase/auth");function Rr(e){if(Dr.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dr.error("Auth (".concat(pr,"): ").concat(e),...n)}}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Mr(e,...n)}function Lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mr(e,...n)}function Fr(e,t,n){const r=Object.assign(Object.assign({},Ar()),{[t]:n});return new Ht("auth","Firebase",r).create(t,{appName:e.name})}function Ur(e){return Fr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Pr.create(e,...n)}function Vr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Mr(t,...r)}}function zr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rr(t),new Error(t)}function Br(e,t){e||zr(t)}function qr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hr(){return"http:"===Wr()||"https:"===Wr()}function Wr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Hr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Gr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Br(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Kr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qr(e,t){Br(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Yr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$r=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jr=new Gr(3e4,6e4);function Zr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ea(e,t,n,r){return ta(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let a={},i={};r&&("GET"===t?i=r:a={body:JSON.stringify(r)});const s=Qt(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Dt(e.emulatorConfig.host)&&(l.credentials="include"),Yr.fetch()(await ra(e,e.config.apiHost,n,s),l)}))}async function ta(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xr),t);try{const t=new ia(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await a.json();if("needConfirmation"in i)throw sa(e,"account-exists-with-different-credential",i);if(a.ok&&!("errorMessage"in i))return i;{const t=a.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw sa(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw sa(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw sa(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Fr(e,o,s);Or(e,o)}}catch(Yb){if(Yb instanceof qt)throw Yb;Or(e,"network-request-failed",{message:String(Yb)})}}async function na(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await ea(e,t,n,r,a);return"mfaPendingCredential"in i&&Or(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function ra(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r),i=e,s=i.config.emulator?Qr(e.config,a):"".concat(e.config.apiScheme,"://").concat(a);if($r.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function aa(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ia{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Lr(this.auth,"network-request-failed"))),Jr.get())}))}}function sa(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Lr(e,t,r);return a.customData._tokenResponse=n,a}function oa(e){return void 0!==e&&void 0!==e.enterprise}class la{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aa(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ca(e,t){return ea(e,"GET","/v2/recaptchaConfig",Zr(e,t))}async function ua(e,t){return ea(e,"POST","/v1/accounts:lookup",t)}function da(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Yb){}}function ha(e){return 1e3*Number(e)}function ma(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Rr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ct(n);return e?JSON.parse(e):(Rr("Failed to decode base64 JWT payload"),null)}catch(Yb){return Rr("Caught error parsing JWT payload as JSON",null===Yb||void 0===Yb?void 0:Yb.toString()),null}}function fa(e){const t=ma(e);return Vr(t,"internal-error"),Vr("undefined"!==typeof t.exp,"internal-error"),Vr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function pa(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Yb){throw Yb instanceof qt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Yb)&&e.auth.currentUser===e&&await e.auth.signOut(),Yb}}class ga{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Yb){return void((null===Yb||void 0===Yb?void 0:Yb.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class va{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ya(e){var t;const n=e.auth,r=await e.getIdToken(),a=await pa(e,ua(n,{idToken:r}));Vr(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const i=a.users[0];e._notifyReloadListener(i);const s=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?ba(i.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new va(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function ba(e){return e.map((e=>{var{providerId:t}=e,n=Ir(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vr(e.idToken,"internal-error"),Vr("undefined"!==typeof e.idToken,"internal-error"),Vr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):fa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Vr(0!==e.length,"internal-error");const t=fa(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Vr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await ta(e,{},(async()=>{const n=Qt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,i=await ra(e,r,"/v1/token","key=".concat(a)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&Dt(e.emulatorConfig.host)&&(o.credentials="include"),Yr.fetch()(i,o)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,i=new xa;return n&&(Vr("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Vr("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),a&&(Vr("number"===typeof a,"internal-error",{appName:e}),i.expirationTime=a),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return zr("not implemented")}}function wa(e,t){Vr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Na{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=Ir(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ga(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new va(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Vr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Zt(e),r=await n.getIdToken(t),a=ma(r);Vr(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i="object"===typeof a.firebase?a.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:da(ha(a.auth_time)),issuedAtTime:da(ha(a.iat)),expirationTime:da(ha(a.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Zt(e);await ya(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Vr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Vr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ya(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await pa(this,async function(e,t){return ea(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,i,s,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,m=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:N}=t;Vr(y&&N,e,"internal-error");const j=xa.fromJSON(this.name,N);Vr("string"===typeof y,e,"internal-error"),wa(u,e.name),wa(d,e.name),Vr("boolean"===typeof b,e,"internal-error"),Vr("boolean"===typeof x,e,"internal-error"),wa(h,e.name),wa(m,e.name),wa(f,e.name),wa(p,e.name),wa(g,e.name),wa(v,e.name);const k=new Na({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:m,phoneNumber:h,tenantId:f,stsTokenManager:j,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new xa;r.updateFromServerResponse(t);const a=new Na({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ya(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Vr(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?ba(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),s=new xa;s.updateFromIdToken(n);const o=new Na({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new va(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(o,l),o}}const ja=new Map;function ka(e){Br(e instanceof Function,"Expected a class definition");let t=ja.get(e);return t?(Br(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ja.set(e,t),t)}class Ca{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ca.type="NONE";const Sa=Ca;function Ea(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class _a{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=Ea(this.userKey,r.apiKey,a),this.fullPersistenceKey=Ea("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await ua(this.auth,{idToken:e}).catch((()=>{}));return t?Na._fromGetAccountInfoResponse(this.auth,t,e):null}return Na._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new _a(ka(Sa),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let a=r[0]||ka(Sa);const i=Ea(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await ua(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Na._fromGetAccountInfoResponse(e,r,t)}else n=Na._fromJSON(e,t);c!==a&&(s=n),a=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return a._shouldAllowMigration&&o.length?(a=o[0],s&&await a._set(i,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==a)try{await e._remove(i)}catch(l){}}))),new _a(a,e,n)):new _a(a,e,n)}}function Ia(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Da(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ta(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Oa(t))return"Blackberry";if(La(t))return"Webos";if(Aa(t))return"Safari";if((t.includes("chrome/")||Pa(t))&&!t.includes("edge/"))return"Chrome";if(Ra(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/firefox\//i.test(e)}function Aa(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/crios\//i.test(e)}function Da(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iemobile/i.test(e)}function Ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/android/i.test(e)}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/blackberry/i.test(e)}function La(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/webos/i.test(e)}function Fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ua(){return function(){const e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return Fa(e)||Ra(e)||La(e)||Oa(e)||/windows phone/i.test(e)||Da(e)}function Va(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ia(Mt());break;case"Worker":t="".concat(Ia(Mt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(pr,"/").concat(r)}class za{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Yb){r(Yb)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Yb){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Yb||void 0===Yb?void 0:Yb.message})}}}class Ba{constructor(e){var t,n,r,a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,i,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(a=o.containsUppercaseLetter)||void 0===a||a),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class qa{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wa(this),this.idTokenSubscription=new Wa(this),this.beforeStateQueue=new za(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ka(t)),this._initializationPromise=this.queue((async()=>{var n,r,a;if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Yb){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(a=this.currentUser)||void 0===a?void 0:a.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ua(this,{idToken:e}),n=await Na._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==i||!(null===s||void 0===s?void 0:s.user)||(r=s.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(Yb){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Yb)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Vr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Yb){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ya(e)}catch(Yb){if((null===Yb||void 0===Yb?void 0:Yb.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Ur(this));const t=e?Zt(e):null;return t&&Vr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Vr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return hr(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Ur(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ka(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ea(e,"GET","/v2/passwordPolicy",Zr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ba(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ht("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ea(e,"POST","/v2/accounts:revokeToken",Zr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ka(e)||this._popupRedirectResolver;Vr(t,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[ka(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vr(s,this,"internal-error"),s.then((()=>{i||a(this.currentUser)})),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{i=!0,a()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Va(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Dr.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dr.warn("Auth (".concat(pr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ha(e){return Zt(e)}class Wa{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new $t(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Vr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ka={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ga(e){return Ka.loadJS(e)}function Qa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ya{constructor(){this.enterprise=new Xa}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Xa{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $a="NO_RECAPTCHA";class Ja{constructor(e){this.type="recaptcha-enterprise",this.auth=Ha(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;oa(a)?a.enterprise.ready((()=>{a.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n($a)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ya).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ca(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new la(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((a=>{if(!t&&oa(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ka.recaptchaEnterpriseScript;0!==t.length&&(t+=a),Ga(t).then((()=>{n(a,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Za(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Ja(e);let s;if(a)s=$a;else try{s=await i.verify(n)}catch(l){s=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ei(e,t,n,r,a){var i,s;if("EMAIL_PASSWORD_PROVIDER"===a){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Za(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch((async a=>{if(a.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await Za(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)}))}if("PHONE_PROVIDER"===a){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const a=await Za(e,t,n);return r(e,a).catch((async a=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(a.code==="auth/".concat("missing-recaptcha-token")||a.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const a=await Za(e,t,n,!1,!0);return r(e,a)}return Promise.reject(a)}))}{const a=await Za(e,t,n,!1,!0);return r(e,a)}}return Promise.reject(a+" provider is not supported.")}async function ti(e){const t=Ha(e),n=await ca(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new la(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ja(t).verify()}}function ni(e,t,n){const r=Ha(e);Vr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),i=ri(t),{host:s,port:o}=function(e){const t=ri(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:ai(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ai(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(i,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator)return Vr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Vr(Kt(c,r.config.emulator)&&Kt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Dt(s)?(Rt("".concat(i,"//").concat(s).concat(l)),Ut("Auth",!0)):a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ri(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ai(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ii{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function si(e,t){return ea(e,"POST","/v1/accounts:signUp",t)}async function oi(e,t){return na(e,"POST","/v1/accounts:signInWithPassword",Zr(e,t))}class li extends ii{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new li(e,t,"password")}static _fromEmailAndCode(e,t){return new li(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ei(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",oi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return na(e,"POST","/v1/accounts:signInWithEmailLink",Zr(e,t))}(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ei(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",si,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return na(e,"POST","/v1/accounts:signInWithEmailLink",Zr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ci(e,t){return na(e,"POST","/v1/accounts:signInWithIdp",Zr(e,t))}class ui extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=Ir(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new ui(n,r);return i.idToken=a.idToken||void 0,i.accessToken=a.accessToken||void 0,i.secret=a.secret,i.nonce=a.nonce,i.pendingToken=a.pendingToken||null,i}_getIdTokenResponse(e){return ci(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ci(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ci(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qt(t)}return e}}async function di(e,t){return ea(e,"POST","/v1/accounts:sendVerificationCode",Zr(e,t))}const hi={USER_NOT_FOUND:"user-not-found"};class mi extends ii{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new mi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new mi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zr(e,t));if(n.temporaryProof)throw sa(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return na(e,"POST","/v1/accounts:signInWithPhoneNumber",Zr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),hi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new mi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class fi{constructor(e){var t,n,r,a,i,s;const o=Yt(Xt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Vr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=o.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Yt(Xt(e)).link,n=t?Yt(Xt(t)).deep_link_id:null,r=Yt(Xt(e)).deep_link_id;return(r?Yt(Xt(r)).link:null)||r||n||t||e}(e);try{return new fi(t)}catch(n){return null}}}class pi{constructor(){this.providerId=pi.PROVIDER_ID}static credential(e,t){return li._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=fi.parseLink(t);return Vr(n,"argument-error"),li._fromEmailAndCode(e,n.code,n.tenantId)}}pi.PROVIDER_ID="password",pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vi extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yi extends vi{constructor(){super("facebook.com")}static credential(e){return ui._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return yi.credential(t.oauthAccessToken)}catch(n){return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com",yi.PROVIDER_ID="facebook.com";class bi extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ui._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bi.credential(n,r)}catch(a){return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com",bi.PROVIDER_ID="google.com";class xi extends vi{constructor(){super("github.com")}static credential(e){return ui._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xi.credential(t.oauthAccessToken)}catch(n){return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com",xi.PROVIDER_ID="github.com";class wi extends vi{constructor(){super("twitter.com")}static credential(e,t){return ui._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return wi.credential(n,r)}catch(a){return null}}}async function Ni(e,t){return na(e,"POST","/v1/accounts:signUp",Zr(e,t))}wi.TWITTER_SIGN_IN_METHOD="twitter.com",wi.PROVIDER_ID="twitter.com";class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await Na._fromIdTokenResponse(e,n,r),i=ki(n);return new ji({user:a,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ki(n);return new ji({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ki(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ci extends qt{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ci.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ci(e,t,n,r)}}function Si(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ci._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ei(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await pa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ji._forOperation(e,"link",r)}async function _i(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(hr(r.app))return Promise.reject(Ur(r));const a="reauthenticate";try{const i=await pa(e,Si(r,a,t,e),n);Vr(i.idToken,r,"internal-error");const s=ma(i.idToken);Vr(s,r,"internal-error");const{sub:o}=s;return Vr(e.uid===o,r,"user-mismatch"),ji._forOperation(e,a,i)}catch(Yb){throw(null===Yb||void 0===Yb?void 0:Yb.code)==="auth/".concat("user-not-found")&&Or(r,"user-mismatch"),Yb}}async function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(hr(e.app))return Promise.reject(Ur(e));const r="signIn",a=await Si(e,r,t),i=await ji._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(i.user),i}async function Ti(e,t){return Ii(Ha(e),t)}async function Ai(e){const t=Ha(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Pi(e,t){return ea(e,"POST","/v2/accounts/mfaEnrollment:start",Zr(e,t))}new WeakMap;const Di="__sak";class Ri{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Di,"1"),this.storage.removeItem(Di),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Oi extends Ri{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ma(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);Ua()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Oi.type="LOCAL";const Li=Oi;function Fi(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(a))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Ui(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Mi{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ui(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Fi(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ui(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=Ui(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Fi(n);const a=setInterval((()=>{const e=Fi(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(a)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Mi.type="COOKIE";class Vi extends Ri{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Vi.type="SESSION";const zi=Vi;class Bi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Bi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map((async e=>e(t.origin,a))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bi.receivers=[];class Hi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,i;return new Promise(((s,o)=>{const l=qi("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),s(t.data.response);break;default:clearTimeout(c),clearTimeout(a),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function Wi(){return window}function Ki(){return"undefined"!==typeof Wi().WorkerGlobalScope&&"function"===typeof Wi().importScripts}const Gi="firebaseLocalStorageDb",Qi="firebaseLocalStorage",Yi="fbase_key";class Xi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function $i(e,t){return e.transaction([Qi],t?"readwrite":"readonly").objectStore(Qi)}function Ji(){const e=indexedDB.open(Gi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Qi,{keyPath:Yi})}catch(Yb){n(Yb)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Qi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Gi);return new Xi(e).toPromise()}(),t(await Ji()))}))}))}async function Zi(e,t,n){const r=$i(e,!0).put({[Yi]:t,value:n});return new Xi(r).toPromise()}function es(e,t){const n=$i(e,!0).delete(t);return new Xi(n).toPromise()}class ts{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ji()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Yb){if(t++>3)throw Yb;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ki()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bi._getInstance(Ki()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Hi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ji();return await Zi(e,Di,"1"),await es(e,Di),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Zi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=$i(e,!1).get(t),r=await new Xi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>es(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=$i(e,!1).getAll();return new Xi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ts.type="LOCAL";const ns=ts;function rs(e,t){return ea(e,"POST","/v2/accounts/mfaSignIn:start",Zr(e,t))}Qa("rcb"),new Gr(3e4,6e4);const as="recaptcha";async function is(e,t,n){var r;if(!e._getRecaptchaConfig())try{await ti(e)}catch(a){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){Vr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=ei(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===$a){Vr((null===n||void 0===n?void 0:n.type)===as,e,"argument-error");return Pi(e,await ss(e,t,n))}return Pi(e,t)}),"PHONE_PROVIDER");return(await i.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Vr("signin"===t.type,e,"internal-error");const i=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;Vr(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=ei(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===$a){Vr((null===n||void 0===n?void 0:n.type)===as,e,"argument-error");return rs(e,await ss(e,t,n))}return rs(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ei(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===$a){Vr((null===n||void 0===n?void 0:n.type)===as,e,"argument-error");return di(e,await ss(e,t,n))}return di(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ss(e,t,n){Vr(n.type===as,e,"argument-error");const r=await n.verify();Vr("string"===typeof r,e,"argument-error");const a=Object.assign({},t);if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,i=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}class os{constructor(e){this.providerId=os.PROVIDER_ID,this.auth=Ha(e)}verifyPhoneNumber(e,t){return is(this.auth,e,Zt(t))}static credential(e,t){return mi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return os.credentialFromTaggedObject(t)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?mi._fromTokenResponse(n,r):null}}function ls(e,t){return t?ka(t):(Vr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}os.PROVIDER_ID="phone",os.PHONE_SIGN_IN_METHOD="phone";class cs extends ii{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ci(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ci(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ci(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function us(e){return Ii(e.auth,new cs(e),e.bypassAuthState)}function ds(e){const{auth:t,user:n}=e;return Vr(n,t,"internal-error"),_i(n,new cs(e),e.bypassAuthState)}async function hs(e){const{auth:t,user:n}=e;return Vr(n,t,"internal-error"),Ei(n,new cs(e),e.bypassAuthState)}class ms{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Yb){this.reject(Yb)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:i,type:s}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(Yb){this.reject(Yb)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return us;case"linkViaPopup":case"linkViaRedirect":return hs;case"reauthViaPopup":case"reauthViaRedirect":return ds;default:Or(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fs=new Gr(2e3,1e4);class ps extends ms{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vr(e,this.auth,"internal-error"),e}async onExecution(){Br(1===this.filter.length,"Popup operations only handle one event");const e=qi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Lr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,fs.get())};e()}}ps.currentPopupAction=null;const gs=new Map;class vs extends ms{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=gs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=xs(t),r=bs(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Yb){e=()=>Promise.reject(Yb)}gs.set(this.auth._key(),e)}return this.bypassAuthState||gs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ys(e,t){gs.set(e._key(),t)}function bs(e){return ka(e._redirectPersistence)}function xs(e){return Ea("pendingRedirect",e.config.apiKey,e.name)}async function ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(hr(e.app))return Promise.reject(Ur(e));const r=Ha(e),a=ls(r,t),i=new vs(r,a,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ns{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ks(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ks(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(js(e))}saveEventToCache(e){this.cachedEventUids.add(js(e)),this.lastProcessedEventTime=Date.now()}}function js(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ks(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ss=/^https?/;async function Es(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ea(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(_s(r))return}catch(n){}Or(e,"unauthorized-domain")}function _s(e){const t=qr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!Ss.test(n))return!1;if(Cs.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Is=new Gr(3e4,6e4);function Ts(){const e=Wi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function As(e){return new Promise(((t,n)=>{var r,a,i;function s(){Ts(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ts(),n(Lr(e,"network-request-failed"))},timeout:Is.get()})}if(null===(a=null===(r=Wi().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Wi().gapi)||void 0===i?void 0:i.load)){const t=Qa("iframefcb");return Wi()[t]=()=>{gapi.load?s():n(Lr(e,"network-request-failed"))},Ga("".concat(Ka.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Ps=null,e}))}let Ps=null;const Ds=new Gr(5e3,15e3),Rs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Os=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ls(e){const t=e.config;Vr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:pr},a=Os.get(e.config.apiHost);a&&(r.eid=a);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Qt(r).slice(1))}async function Fs(e){const t=await function(e){return Ps=Ps||As(e),Ps}(e),n=Wi().gapi;return Vr(n,e,"internal-error"),t.open({where:document.body,url:Ls(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=Lr(e,"network-request-failed"),i=Wi().setTimeout((()=>{r(a)}),Ds.get());function s(){Wi().clearTimeout(i),n(t)}t.ping(s).then(s,(()=>{r(a)}))}))))}const Us={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ms{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Yb){}}}function Vs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Us),{width:r.toString(),height:a.toString(),top:i,left:s}),c=Mt().toLowerCase();n&&(o=Pa(c)?"_blank":n),Ta(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Fa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ms(null);const d=window.open(t||"",o,u);Vr(d,e,"popup-blocked");try{d.focus()}catch(Yb){}return new Ms(d)}const zs="__/auth/handler",Bs="emulator/auth/handler",qs=encodeURIComponent("fac");async function Hs(e,t,n,r,a,i){Vr(e.config.authDomain,e,"auth-domain-config-required"),Vr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pr,eventId:a};if(t instanceof gi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof vi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(qs,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(zs);return Qr(t,Bs)}(e),"?").concat(Qt(o).slice(1)).concat(c)}const Ws="webStorageSupport";const Ks=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zi,this._completeRedirectFn=ws,this._overrideRedirectResult=ys}async _openPopup(e,t,n,r){var a;Br(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return Vs(e,await Hs(e,t,n,qr(),r),qi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Wi().location.href=e}(await Hs(e,t,n,qr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Br(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Fs(e),n=new Ns(e);return t.register("authEvent",(t=>{Vr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ws,{type:Ws},(n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ws];void 0!==a&&t(!!a),Or(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Es(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ma()||Aa()||Fa()}};var Gs="@firebase/auth",Qs="1.10.7";class Ys{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xs=At("authIdTokenMaxAge")||300;let $s=null;var Js;Ka={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Lr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Js="Browser",ur(new en("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Vr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:Js,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Va(Js)},c=new qa(r,a,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ka);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ur(new en("auth-internal",(e=>(e=>new Ys(e))(Ha(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),yr(Gs,Qs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Js)),yr(Gs,Qs,"esm2017");var Zs,eo,to="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},no={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var i=e.g[3],s=t+(i^n&(a^i))+r[0]+3614090360&4294967295;s=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=(n=(a=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(a^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=a+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^a&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^i&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(a^i&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=a+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(a^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^a^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^a^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=a+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(a^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(a^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(a^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=a+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(a^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((a=i+((s=a+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var i=0|e[a];r&&i==t||(n[a]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(a[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,a),i=0;break}}else for(;s<t;)if(a[i++]=e[s++],i==this.blockSize){n(this,a),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function i(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function m(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var a=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(a=a.add(n),i=c),r=y(r,1),n=y(n,1)}return t=m(e,a.j(t)),new p(a,t)}for(a=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),a=a.add(i),e=m(e,c)}return new p(a,e)}function v(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,i=[],s=0;s<a;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,i=((0<(n=m(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=m(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,i=0;i<=t;i++){var s=a+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);a=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var i=0;i<e.g.length;i++){var l=this.i(a)>>>16,m=65535&this.i(a),p=e.i(i)>>>16,g=65535&e.i(i);n[2*a+2*i]+=m*g,f(n,2*a+2*i),n[2*a+2*i+1]+=l*g,f(n,2*a+2*i+1),n[2*a+2*i+1]+=m*p,f(n,2*a+2*i+1),n[2*a+2*i+2]+=l*p,f(n,2*a+2*i+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,eo=no.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),a=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),a=a.j(l).add(s(c))):a=(a=a.j(r)).add(s(c))}return a},Zs=no.Integer=r}).apply("undefined"!==typeof to?to:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ro,ao,io,so,oo,lo,co,uo,ho="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},mo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ho&&ho];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in a))break e;a=a[s]}(r=r(i=a[e=e[e.length-1]]))!=i&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e,t){return t}))}}));var r=r||{},a=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){a.setTimeout((()=>{throw e}),0)}function k(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,_=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const e=a.Promise.resolve(void 0);E=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){j(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,D);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),U=0;function M(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=Array.prototype.indexOf.call(a,t,void 0);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}z.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=q(e,t,r,a);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new M(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,a){if(r&&r.once)return Q(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,a);return null}return n=te(n),e&&e[F]?e.K(t,n,s(r)?!!r.capture:!!r,a):G(e,t,n,!1,r,a)}function G(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=s(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,a){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,a);return null}return n=te(n),e&&e[F]?e.L(t,n,s(r)?!!r.capture:!!r,a):G(e,t,n,!0,r,a)}function Y(e,t,n,r,a){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,a);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(i=e.g[t],n,r,a))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,a)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var a=t;w(t=new D(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];a=ae(s,r,!0,t)&&a}if(a=ae(s=t.g=e,r,!0,t)&&a,a=ae(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=ae(s=t.g=n[i],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),a=!1!==o.call(l,r)&&a}}return a&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=a.JSON.stringify,he=a.JSON.parse,me=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function fe(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function be(){D.call(this,"c")}d(ye,D),d(be,D);var xe={},we=null;function Ne(){return we=we||new ne}function je(e){D.call(this,xe.La,e)}function ke(e){const t=Ne();re(t,new je(t))}function Ce(e,t){D.call(this,xe.STAT_EVENT,e),this.stat=t}function Se(e){const t=Ne();re(t,new Ce(t,e))}function Ee(e,t){D.call(this,xe.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Te(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<a.length;s++)a[s]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(je,D),xe.STAT_EVENT="statevent",d(Ce,D),xe.Ma="timingevent",d(Ee,D),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Re,fe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ae=new Re;var Fe={},Ue={};function Me(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=mn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var i=0;i<a.length;i++){var s=K(n,a[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,a,i){e.info((function(){if(e.g)if(i)for(var s="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function We(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Xt(n)}rn(n),Se(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!f(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(We(o),qe(o)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var i=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ge(this),Ke(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ue){4==h&&(this.s=4,Se(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Se(15),Te(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),an(d),d.M=!0,Se(11))}}else Te(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Te(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=N(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[a]||[];t[a]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ge(this),Ke(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Se(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,s=0;s<a;s++)t.call(void 0,r[s],n&&n[s],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function st(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=mt(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(mt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(mt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",mt(n,xt)),e.join("")};var pt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jt(e,t){Nt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return Nt(e),t=St(e,t),e.g.has(t)}function Ct(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(i){}}function _t(){this.g=new me}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let a=e;s(e)&&(a=de(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(Yb){throw t.push(r+"type="+encodeURIComponent("_badmap")),Yb}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Nt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,kt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var a=i;""!==s[r]&&(a+="="+encodeURIComponent(String(s[r]))),e.push(a)}}return this.i=e.join("&")},d(Tt,fe),Tt.prototype.g=function(){return new At(this.l,this.j)},Tt.prototype.i=(pt={},function(){return pt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Rt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var Ut=/^https?$/i,Mt=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(at)[1]||null;!s&&a.self&&a.self.location&&(s=a.self.location.protocol.slice(0,-1)),i=!Ut.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Yb){}}}function Ht(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if($t(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=mn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function $t(e){Xt(e),e.u&&(a.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||T(),_||(E(),_=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Me(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=a[o].g;const l=a[o].map;if(n-=t,0>n)t=Math.max(0,a[o].g-100),s=!1;else try{It(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||T(),_||(E(),_=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=Ne(),new Ee(r,n)),Jt(e)}else nn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(a.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Et(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)})).catch((()=>{clearTimeout(r),Et(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),dn(e),$t(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&ot(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function mn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Tt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Vt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Mt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Vt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(a.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,a,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,Me(a,n,null)):Me(a,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Xt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,uo=mo.createWebChannelTransport=function(){return new pn},co=mo.getStatEventTarget=function(){return Ne()},lo=mo.Event=xe,oo=mo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,so=mo.ErrorCode=Pe,De.COMPLETE="complete",io=mo.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ao=mo.WebChannel=ge,mo.FetchXmlHttpFactory=Tt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,ro=mo.XhrIo=Ft}).apply("undefined"!==typeof ho?ho:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const fo="@firebase/firestore",po="4.7.17";class go{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}go.UNAUTHENTICATED=new go(null),go.GOOGLE_CREDENTIALS=new go("google-credentials-uid"),go.FIRST_PARTY=new go("first-party-uid"),go.MOCK_USER=new go("mock-user");let vo="11.9.0";const yo=new dn("@firebase/firestore");function bo(){return yo.logLevel}function xo(e){if(yo.logLevel<=sn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(jo);yo.debug("Firestore (".concat(vo,"): ").concat(e),...a)}}function wo(e){if(yo.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(jo);yo.error("Firestore (".concat(vo,"): ").concat(e),...a)}}function No(e){if(yo.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(jo);yo.warn("Firestore (".concat(vo,"): ").concat(e),...a)}}function jo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ko(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Co(e,r,n)}function Co(e,t,n){let r="FIRESTORE (".concat(vo,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw wo(r),new Error(r)}function So(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||Co(t,a,r)}function Eo(e,t){return e}const _o={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Io extends qt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class To{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ao{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Po{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(go.UNAUTHENTICATED)))}shutdown(){}}class Do{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ro{constructor(e){this.t=e,this.currentUser=go.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){So(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new To;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new To,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=a;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{xo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(xo("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new To)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(xo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(So("string"==typeof t.accessToken,31837,{l:t}),new Ao(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return So(null===e||"string"==typeof e,2055,{h:e}),new go(e)}}class Oo{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=go.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lo{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Oo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(go.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uo{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){So(void 0===this.o,3512);const n=e=>{null!=e.error&&xo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,xo("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{xo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):xo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fo(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(So("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Fo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Mo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Vo(){return new TextEncoder}class zo{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Mo(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Bo(e,t){return e<t?-1:e>t?1:0}function qo(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return Bo(r,a);{const i=Vo(),s=Wo(i.encode(Ho(e,n)),i.encode(Ho(t,n)));return 0!==s?s:Bo(r,a)}}n+=r>65535?2:1}return Bo(e.length,t.length)}function Ho(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Wo(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Bo(e[n],t[n]);return Bo(e.length,t.length)}function Ko(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Go=-62135596800,Qo=1e6;class Yo{static now(){return Yo.fromMillis(Date.now())}static fromDate(e){return Yo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Qo);return new Yo(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Io(_o.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Io(_o.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Go)throw new Io(_o.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Io(_o.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qo}_compareTo(e){return this.seconds===e.seconds?Bo(this.nanoseconds,e.nanoseconds):Bo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Go;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xo{static fromTimestamp(e){return new Xo(e)}static min(){return new Xo(new Yo(0,0))}static max(){return new Xo(new Yo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $o="__name__";class Jo{constructor(e,t,n){void 0===t?t=0:t>e.length&&ko(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ko(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Jo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Jo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Bo(e.length,t.length)}static compareSegments(e,t){const n=Jo.isNumericId(e),r=Jo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Jo.extractNumericId(e).compare(Jo.extractNumericId(t)):qo(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class Zo extends Jo{construct(e,t,n){return new Zo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new Io(_o.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter((e=>e.length>0)))}return new Zo(e)}static emptyPath(){return new Zo([])}}const el=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tl extends Jo{construct(e,t,n){return new tl(e,t,n)}static isValidIdentifier(e){return el.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===$o}static keyField(){return new tl([$o])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new Io(_o.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Io(_o.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Io(_o.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(a(),r++)}if(a(),i)throw new Io(_o.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tl(t)}static emptyPath(){return new tl([])}}class nl{constructor(e){this.path=e}static fromPath(e){return new nl(Zo.fromString(e))}static fromName(e){return new nl(Zo.fromString(e).popFirst(5))}static empty(){return new nl(Zo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nl(new Zo(e.slice()))}}const rl=-1;class al{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}al.UNKNOWN_ID=-1;function il(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Xo.fromTimestamp(1e9===r?new Yo(n+1,0):new Yo(n,r));return new ol(a,nl.empty(),t)}function sl(e){return new ol(e.readTime,e.key,rl)}class ol{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ol(Xo.min(),nl.empty(),rl)}static max(){return new ol(Xo.max(),nl.empty(),rl)}}function ll(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=nl.comparator(e.documentKey,t.documentKey),0!==n?n:Bo(e.largestBatchId,t.largestBatchId))}const cl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ul{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dl(e){if(e.code!==_o.FAILED_PRECONDITION||e.message!==cl)throw e;xo("LocalStore","Unexpectedly lost primary lease")}class hl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ko(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hl(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof hl?t:hl.resolve(t)}catch(e){return hl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):hl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):hl.reject(t)}static resolve(e){return new hl(((t,n)=>{t(e)}))}static reject(e){return new hl(((t,n)=>{n(e)}))}static waitFor(e){return new hl(((t,n)=>{let r=0,a=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++a,i&&a===r&&t()}),(e=>n(e)))})),i=!0,a===r&&t()}))}static or(e){let t=hl.resolve(!1);for(const n of e)t=t.next((e=>e?hl.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new hl(((n,r)=>{const a=e.length,i=new Array(a);let s=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++s,s===a&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new hl(((n,r)=>{const a=()=>{!0===e()?t().next((()=>{a()}),r):n()};a()}))}}function ml(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(e){return"IndexedDbTransactionError"===e.name}class pl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}pl.le=-1;const gl=-1;function vl(e){return null==e}function yl(e){return 0===e&&1/e==-1/0}function bl(e){return"number"==typeof e&&Number.isInteger(e)&&!yl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const xl="\x01";function wl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=jl(t)),t=Nl(e.get(n),t);return jl(t)}function Nl(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case xl:n+="\x01\x11";break;default:n+=t}}return n}function jl(e){return e+xl+"\x01"}const kl="remoteDocuments",Cl="owner",Sl="mutationQueues",El="mutations";const _l="documentMutations",Il="remoteDocumentsV14",Tl="remoteDocumentGlobal",Al="targets",Pl="targetDocuments",Dl="targetGlobal",Rl="collectionParents",Ol="clientMetadata",Ll="bundles",Fl="namedQueries",Ul="indexConfiguration",Ml="indexState",Vl="indexEntries",zl="documentOverlays",Bl="globals",ql=[Sl,El,_l,kl,Al,Cl,Dl,Pl,Ol,Tl,Rl,Ll,Fl],Hl=[Sl,El,_l,Il,Al,Cl,Dl,Pl,Ol,Tl,Rl,Ll,Fl,zl],Wl=Hl,Kl=[...Wl,Ul,Ml,Vl];function Gl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ql(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Yl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Xl{constructor(e,t){this.comparator=e,this.root=t||Jl.EMPTY}insert(e,t){return new Xl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jl.BLACK,null,null))}remove(e){return new Xl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jl{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Jl.RED,this.left=null!=r?r:Jl.EMPTY,this.right=null!=a?a:Jl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new Jl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ko(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ko(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ko(27949);return e+(this.isRed()?0:1)}}Jl.EMPTY=null,Jl.RED=!0,Jl.BLACK=!1,Jl.EMPTY=new class{constructor(){this.size=0}get key(){throw ko(57766)}get value(){throw ko(16141)}get color(){throw ko(16727)}get left(){throw ko(29726)}get right(){throw ko(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new Jl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zl{constructor(e){this.comparator=e,this.data=new Xl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ec(this.data.getIterator())}getIteratorFrom(e){return new ec(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Zl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Zl(this.comparator);return t.data=e,t}}class ec{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class tc{constructor(e){this.fields=e,e.sort(tl.comparator)}static empty(){return new tc([])}unionWith(e){let t=new Zl(tl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new tc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class nc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nc("Invalid base64 string: "+e):e}}(e);return new rc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new rc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rc.EMPTY_BYTE_STRING=new rc("");const ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ic(e){if(So(!!e,39018),"string"==typeof e){let t=0;const n=ac.exec(e);if(So(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:sc(e.seconds),nanos:sc(e.nanos)}}function sc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oc(e){return"string"==typeof e?rc.fromBase64String(e):rc.fromUint8Array(e)}const lc="server_timestamp",cc="__type__",uc="__previous_value__",dc="__local_write_time__";function hc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[cc])||void 0===n?void 0:n.stringValue)===lc}function mc(e){const t=e.mapValue.fields[uc];return hc(t)?mc(t):t}function fc(e){const t=ic(e.mapValue.fields[dc].timestampValue);return new Yo(t.seconds,t.nanos)}class pc{constructor(e,t,n,r,a,i,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const gc="(default)";class vc{constructor(e,t){this.projectId=e,this.database=t||gc}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===gc}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}const yc="__type__",bc="__max__",xc={mapValue:{fields:{__type__:{stringValue:bc}}}},wc="__vector__",Nc="value";function jc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hc(e)?4:Vc(e)?9007199254740991:Uc(e)?10:11:ko(28295,{value:e})}function kc(e,t){if(e===t)return!0;const n=jc(e);if(n!==jc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fc(e).isEqual(fc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ic(e.timestampValue),r=ic(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return oc(e.bytesValue).isEqual(oc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sc(e.geoPointValue.latitude)===sc(t.geoPointValue.latitude)&&sc(e.geoPointValue.longitude)===sc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sc(e.integerValue)===sc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=sc(e.doubleValue),r=sc(t.doubleValue);return n===r?yl(n)===yl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ko(e.arrayValue.values||[],t.arrayValue.values||[],kc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gl(n)!==Gl(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!kc(n[a],r[a])))return!1;return!0}(e,t);default:return ko(52216,{left:e})}}function Cc(e,t){return void 0!==(e.values||[]).find((e=>kc(e,t)))}function Sc(e,t){if(e===t)return 0;const n=jc(e),r=jc(t);if(n!==r)return Bo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=sc(e.integerValue||e.doubleValue),r=sc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ec(e.timestampValue,t.timestampValue);case 4:return Ec(fc(e),fc(t));case 5:return qo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=oc(e),r=oc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=Bo(n[a],r[a]);if(0!==e)return e}return Bo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Bo(sc(e.latitude),sc(t.latitude));return 0!==n?n:Bo(sc(e.longitude),sc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return _c(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,i;const s=e.fields||{},o=t.fields||{},l=null===(n=s[Nc])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Nc])||void 0===r?void 0:r.arrayValue,u=Bo((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:_c(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===xc.mapValue&&t===xc.mapValue)return 0;if(e===xc.mapValue)return 1;if(t===xc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=qo(r[s],i[s]);if(0!==e)return e;const t=Sc(n[r[s]],a[i[s]]);if(0!==t)return t}return Bo(r.length,i.length)}(e.mapValue,t.mapValue);default:throw ko(23264,{Pe:n})}}function Ec(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bo(e,t);const n=ic(e),r=ic(t),a=Bo(n.seconds,r.seconds);return 0!==a?a:Bo(n.nanos,r.nanos)}function _c(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Sc(n[a],r[a]);if(e)return e}return Bo(n.length,r.length)}function Ic(e){return Tc(e)}function Tc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ic(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return oc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return nl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Tc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(Tc(e.fields[a]));return n+"}"}(e.mapValue):ko(61005,{value:e})}function Ac(e){switch(jc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mc(e);return t?16+Ac(t):16;case 5:return 2*e.stringValue.length;case 6:return oc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ac(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ql(e.fields,((e,n)=>{t+=e.length+Ac(n)})),t}(e.mapValue);default:throw ko(13486,{value:e})}}function Pc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dc(e){return!!e&&"integerValue"in e}function Rc(e){return!!e&&"arrayValue"in e}function Oc(e){return!!e&&"nullValue"in e}function Lc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fc(e){return!!e&&"mapValue"in e}function Uc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[yc])||void 0===n?void 0:n.stringValue)===wc}function Mc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ql(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Mc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Vc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===bc}class zc{constructor(e){this.value=e}static empty(){return new zc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=tl.emptyPath(),n={},r=[];e.forEach(((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=Mc(e):r.push(a.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ql(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new zc(Mc(this.value))}}function Bc(e){const t=[];return Ql(e.fields,((e,n)=>{const r=new tl([e]);if(Fc(n)){const e=Bc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new tc(t)}class qc{constructor(e,t,n,r,a,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=i,this.documentState=s}static newInvalidDocument(e){return new qc(e,0,Xo.min(),Xo.min(),Xo.min(),zc.empty(),0)}static newFoundDocument(e,t,n,r){return new qc(e,1,t,Xo.min(),n,r,0)}static newNoDocument(e,t){return new qc(e,2,t,Xo.min(),Xo.min(),zc.empty(),0)}static newUnknownDocument(e,t){return new qc(e,3,t,Xo.min(),Xo.min(),zc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function Wc(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(r=i.field.isKeyField()?nl.comparator(nl.fromName(s.referenceValue),n.key):Sc(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Kc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kc(e.position[n],t.position[n]))return!1;return!0}class Gc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Qc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yc{}class Xc extends Yc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new au(e,t,n):"array-contains"===t?new lu(e,n):"in"===t?new cu(e,n):"not-in"===t?new uu(e,n):"array-contains-any"===t?new du(e,n):new Xc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new iu(e,n):new su(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Sc(t,this.value)):null!==t&&jc(this.value)===jc(t)&&this.matchesComparison(Sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ko(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $c extends Yc{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new $c(e,t)}matches(e){return Jc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Jc(e){return"and"===e.op}function Zc(e){return eu(e)&&Jc(e)}function eu(e){for(const t of e.filters)if(t instanceof $c)return!1;return!0}function tu(e){if(e instanceof Xc)return e.field.canonicalString()+e.op.toString()+Ic(e.value);if(Zc(e))return e.filters.map((e=>tu(e))).join(",");{const t=e.filters.map((e=>tu(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function nu(e,t){return e instanceof Xc?function(e,t){return t instanceof Xc&&e.op===t.op&&e.field.isEqual(t.field)&&kc(e.value,t.value)}(e,t):e instanceof $c?function(e,t){return t instanceof $c&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&nu(n,t.filters[r])),!0)}(e,t):void ko(19439)}function ru(e){return e instanceof Xc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ic(e.value))}(e):e instanceof $c?function(e){return e.op.toString()+" {"+e.getFilters().map(ru).join(" ,")+"}"}(e):"Filter"}class au extends Xc{constructor(e,t,n){super(e,t,n),this.key=nl.fromName(n.referenceValue)}matches(e){const t=nl.comparator(e.key,this.key);return this.matchesComparison(t)}}class iu extends Xc{constructor(e,t){super(e,"in",t),this.keys=ou("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class su extends Xc{constructor(e,t){super(e,"not-in",t),this.keys=ou("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ou(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>nl.fromName(e.referenceValue)))}class lu extends Xc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rc(t)&&Cc(t.arrayValue,this.value)}}class cu extends Xc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cc(this.value.arrayValue,t)}}class uu extends Xc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Cc(this.value.arrayValue,t)}}class du extends Xc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cc(this.value.arrayValue,e)))}}class hu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=i,this.endAt=s,this.Ie=null}}function mu(e){return new hu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fu(e){const t=Eo(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>tu(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),vl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ic(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ic(e))).join(",")),t.Ie=e}return t.Ie}function pu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kc(e.startAt,t.startAt)&&Kc(e.endAt,t.endAt)}function gu(e){return nl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=i,this.startAt=s,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yu(e,t,n,r,a,i,s,o){return new vu(e,t,n,r,a,i,s,o)}function bu(e){return new vu(e)}function xu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wu(e){return null!==e.collectionGroup}function Nu(e){const t=Eo(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ee.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Zl(tl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Gc(r,n))})),e.has(tl.keyField().canonicalString())||t.Ee.push(new Gc(tl.keyField(),n))}return t.Ee}function ju(e){const t=Eo(e);return t.de||(t.de=ku(t,Nu(e))),t.de}function ku(e,t){if("F"===e.limitType)return mu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Gc(e.field,t)}));const n=e.endAt?new Hc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hc(e.startAt.position,e.startAt.inclusive):null;return mu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Cu(e,t){const n=e.filters.concat([t]);return new vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Su(e,t,n){return new vu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Eu(e,t){return pu(ju(e),ju(t))&&e.limitType===t.limitType}function _u(e){return"".concat(fu(ju(e)),"|lt:").concat(e.limitType)}function Iu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ru(e))).join(", "),"]")),vl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ic(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ic(e))).join(",")),"Target(".concat(t,")")}(ju(e)),"; limitType=").concat(e.limitType,")")}function Tu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):nl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Nu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Wc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Wc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nu(e),t))}(e,t)}function Au(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pu(e){return(t,n)=>{let r=!1;for(const a of Nu(e)){const e=Du(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function Du(e,t,n){const r=e.field.isKeyField()?nl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Sc(r,a):ko(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ko(19790,{direction:e.dir})}}class Ru{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,((t,n)=>{for(const[r,a]of n)e(r,a)}))}isEmpty(){return Yl(this.inner)}size(){return this.innerSize}}const Ou=new Xl(nl.comparator);function Lu(){return Ou}const Fu=new Xl(nl.comparator);function Uu(){let e=Fu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function Mu(e){let t=Fu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Vu(){return Bu()}function zu(){return Bu()}function Bu(){return new Ru((e=>e.toString()),((e,t)=>e.isEqual(t)))}const qu=new Xl(nl.comparator),Hu=new Zl(nl.comparator);function Wu(){let e=Hu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const Ku=new Zl(Bo);function Gu(){return Ku}function Qu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yl(t)?"-0":t}}function Yu(e){return{integerValue:""+e}}function Xu(e,t){return bl(t)?Yu(t):Qu(e,t)}class $u{constructor(){this._=void 0}}function Ju(e,t,n){return e instanceof td?function(e,t){const n={fields:{[cc]:{stringValue:lc},[dc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&hc(t)&&(t=mc(t)),t&&(n.fields[uc]=t),{mapValue:n}}(n,t):e instanceof nd?rd(e,t):e instanceof ad?id(e,t):function(e,t){const n=ed(e,t),r=od(n)+od(e.Re);return Dc(n)&&Dc(e.Re)?Yu(r):Qu(e.serializer,r)}(e,t)}function Zu(e,t,n){return e instanceof nd?rd(e,t):e instanceof ad?id(e,t):n}function ed(e,t){return e instanceof sd?function(e){return Dc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class td extends $u{}class nd extends $u{constructor(e){super(),this.elements=e}}function rd(e,t){const n=ld(t);for(const r of e.elements)n.some((e=>kc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ad extends $u{constructor(e){super(),this.elements=e}}function id(e,t){let n=ld(t);for(const r of e.elements)n=n.filter((e=>!kc(e,r)));return{arrayValue:{values:n}}}class sd extends $u{constructor(e,t){super(),this.serializer=e,this.Re=t}}function od(e){return sc(e.integerValue||e.doubleValue)}function ld(e){return Rc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class cd{constructor(e,t){this.field=e,this.transform=t}}class ud{constructor(e,t){this.version=e,this.transformResults=t}}class dd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dd}static exists(e){return new dd(void 0,e)}static updateTime(e){return new dd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class md{}function fd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kd(e.key,dd.none()):new bd(e.key,e.data,dd.none());{const n=e.data,r=zc.empty();let a=new Zl(tl.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new xd(e.key,r,new tc(a.toArray()),dd.none())}}function pd(e,t,n){e instanceof bd?function(e,t,n){const r=e.value.clone(),a=Nd(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xd?function(e,t,n){if(!hd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Nd(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(wd(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gd(e,t,n,r){return e instanceof bd?function(e,t,n,r){if(!hd(e.precondition,t))return n;const a=e.value.clone(),i=jd(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof xd?function(e,t,n,r){if(!hd(e.precondition,t))return n;const a=jd(e.fieldTransforms,r,t),i=t.data;return i.setAll(wd(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return hd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=ed(r.transform,e||null);null!=a&&(null===n&&(n=zc.empty()),n.set(r.field,a))}return n||null}function yd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ko(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nd&&t instanceof nd||e instanceof ad&&t instanceof ad?Ko(e.elements,t.elements,kc):e instanceof sd&&t instanceof sd?kc(e.Re,t.Re):e instanceof td&&t instanceof td}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bd extends md{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xd extends md{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Nd(e,t,n){const r=new Map;So(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);r.set(i.field,Zu(s,o,n[a]))}return r}function jd(e,t,n){const r=new Map;for(const a of e){const e=a.transform,i=n.data.field(a.field);r.set(a.field,Ju(e,i,t))}return r}class kd extends md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cd extends md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&pd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=gd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=gd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=zu();return this.mutations.forEach((r=>{const a=e.get(r.key),i=a.overlayedDocument;let s=this.applyToLocalView(i,a.mutatedFields);s=t.has(r.key)?null:s;const o=fd(i,s);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Xo.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Wu())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((e,t)=>yd(e,t)))&&Ko(this.baseMutations,e.baseMutations,((e,t)=>yd(e,t)))}}class Ed{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){So(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=qu;const a=e.mutations;for(let i=0;i<a.length;i++)r=r.insert(a[i].key,n[i].version);return new Ed(e,t,n,r)}}class _d{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Id{constructor(e,t){this.count=e,this.unchangedNames=t}}var Td,Ad;function Pd(e){switch(e){case _o.OK:return ko(64938);case _o.CANCELLED:case _o.UNKNOWN:case _o.DEADLINE_EXCEEDED:case _o.RESOURCE_EXHAUSTED:case _o.INTERNAL:case _o.UNAVAILABLE:case _o.UNAUTHENTICATED:return!1;case _o.INVALID_ARGUMENT:case _o.NOT_FOUND:case _o.ALREADY_EXISTS:case _o.PERMISSION_DENIED:case _o.FAILED_PRECONDITION:case _o.ABORTED:case _o.OUT_OF_RANGE:case _o.UNIMPLEMENTED:case _o.DATA_LOSS:return!0;default:return ko(15467,{code:e})}}function Dd(e){if(void 0===e)return wo("GRPC error has no .code"),_o.UNKNOWN;switch(e){case Td.OK:return _o.OK;case Td.CANCELLED:return _o.CANCELLED;case Td.UNKNOWN:return _o.UNKNOWN;case Td.DEADLINE_EXCEEDED:return _o.DEADLINE_EXCEEDED;case Td.RESOURCE_EXHAUSTED:return _o.RESOURCE_EXHAUSTED;case Td.INTERNAL:return _o.INTERNAL;case Td.UNAVAILABLE:return _o.UNAVAILABLE;case Td.UNAUTHENTICATED:return _o.UNAUTHENTICATED;case Td.INVALID_ARGUMENT:return _o.INVALID_ARGUMENT;case Td.NOT_FOUND:return _o.NOT_FOUND;case Td.ALREADY_EXISTS:return _o.ALREADY_EXISTS;case Td.PERMISSION_DENIED:return _o.PERMISSION_DENIED;case Td.FAILED_PRECONDITION:return _o.FAILED_PRECONDITION;case Td.ABORTED:return _o.ABORTED;case Td.OUT_OF_RANGE:return _o.OUT_OF_RANGE;case Td.UNIMPLEMENTED:return _o.UNIMPLEMENTED;case Td.DATA_LOSS:return _o.DATA_LOSS;default:return ko(39323,{code:e})}}(Ad=Td||(Td={}))[Ad.OK=0]="OK",Ad[Ad.CANCELLED=1]="CANCELLED",Ad[Ad.UNKNOWN=2]="UNKNOWN",Ad[Ad.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ad[Ad.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ad[Ad.NOT_FOUND=5]="NOT_FOUND",Ad[Ad.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ad[Ad.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ad[Ad.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ad[Ad.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ad[Ad.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ad[Ad.ABORTED=10]="ABORTED",Ad[Ad.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ad[Ad.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ad[Ad.INTERNAL=13]="INTERNAL",Ad[Ad.UNAVAILABLE=14]="UNAVAILABLE",Ad[Ad.DATA_LOSS=15]="DATA_LOSS";let Rd=null;const Od=new Zs([4294967295,4294967295],0);function Ld(e){const t=Vo().encode(e),n=new eo;return n.update(t),new Uint8Array(n.digest())}function Fd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Zs([n,r],0),new Zs([a,i],0)]}class Ud{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Md("Invalid padding: ".concat(t));if(n<0)throw new Md("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Md("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Md("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Zs.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Zs.fromNumber(n)));return 1===r.compare(Od)&&(r=new Zs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Ld(e),[n,r]=Fd(t);for(let a=0;a<this.hashCount;a++){const e=this.we(n,r,a);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),i=new Ud(a,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=Ld(e),[n,r]=Fd(t);for(let a=0;a<this.hashCount;a++){const e=this.we(n,r,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vd{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vd(Xo.min(),r,new Xl(Bo),Lu(),Wu())}}class zd{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new zd(n,t,Wu(),Wu(),Wu())}}class Bd{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class qd{constructor(e,t){this.targetId=e,this.Ce=t}}class Hd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Wd{constructor(){this.Fe=0,this.Me=Qd(),this.xe=rc.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Wu(),t=Wu(),n=Wu();return this.Me.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ko(38017,{changeType:a})}})),new zd(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Qd()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,So(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Kd{constructor(e){this.ze=e,this.je=new Map,this.He=Lu(),this.Je=Gd(),this.Ye=Gd(),this.Ze=new Xl(Bo)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:ko(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const a=r.target;if(gu(a))if(0===n){const e=new nl(a.path);this.tt(t,e,qc.newNoDocument(e,Xo.min()))}else So(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),a=n?this.lt(n,e,r):1;if(0!==a){this.st(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Rd||Rd.ht(function(e,t,n,r,a){var i,s,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===a,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,a))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let i,s;try{i=oc(n).toUint8Array()}catch(e){if(e instanceof nc)return No("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ud(i,r,a)}catch(e){return No(e instanceof Md?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const a=this.ze.Pt(),i="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const a=this._t(r);if(a){if(n.current&&gu(a.target)){const t=new nl(a.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,qc.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=Wu();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Vd(e,t,this.Ze,this.He,n);return this.He=Lu(),this.Je=Gd(),this.Ye=Gd(),this.Ze=new Xl(Bo),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Wd,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Zl(Bo),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Zl(Bo),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||xo("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Wd),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Gd(){return new Xl(nl.comparator)}function Qd(){return new Xl(nl.comparator)}const Yd={asc:"ASCENDING",desc:"DESCENDING"},Xd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$d={and:"AND",or:"OR"};class Jd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zd(e,t){return e.useProto3Json||vl(t)?t:{value:t}}function eh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function th(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nh(e,t){return eh(e,t.toTimestamp())}function rh(e){return So(!!e,49232),Xo.fromTimestamp(function(e){const t=ic(e);return new Yo(t.seconds,t.nanos)}(e))}function ah(e,t){return ih(e,t).canonicalString()}function ih(e,t){const n=function(e){return new Zo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function sh(e){const t=Zo.fromString(e);return So(Sh(t),10190,{key:t.toString()}),t}function oh(e,t){return ah(e.databaseId,t.path)}function lh(e,t){const n=sh(t);if(n.get(1)!==e.databaseId.projectId)throw new Io(_o.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Io(_o.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nl(hh(n))}function ch(e,t){return ah(e.databaseId,t)}function uh(e){const t=sh(e);return 4===t.length?Zo.emptyPath():hh(t)}function dh(e){return new Zo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hh(e){return So(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mh(e,t,n){return{name:oh(e,t),fields:n.value.mapValue.fields}}function fh(e,t){let n;if(t instanceof bd)n={update:mh(e,t.key,t.value)};else if(t instanceof kd)n={delete:oh(e,t.key)};else if(t instanceof xd)n={update:mh(e,t.key,t.data),updateMask:Ch(t.fieldMask)};else{if(!(t instanceof Cd))return ko(16599,{ft:t.type});n={verify:oh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof td)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ad)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sd)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw ko(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ko(27497)}(e,t.precondition)),n}function ph(e,t){return{documents:[ch(e,t.path)]}}function gh(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ch(e,a);const i=function(e){if(0!==e.length)return kh($c.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Nh(e.field),direction:bh(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Zd(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:a}}function vh(e){let t=uh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){So(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=yh(e);return t instanceof $c&&Zc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Gc(jh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,vl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hc(n,t)}(n.endAt)),yu(t,a,s,i,o,"F",l,c)}function yh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=jh(e.unaryFilter.field);return Xc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=jh(e.unaryFilter.field);return Xc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jh(e.unaryFilter.field);return Xc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=jh(e.unaryFilter.field);return Xc.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ko(61313);default:return ko(60726)}}(e):void 0!==e.fieldFilter?function(e){return Xc.create(jh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ko(58110);default:return ko(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $c.create(e.compositeFilter.filters.map((e=>yh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ko(1026)}}(e.compositeFilter.op))}(e):ko(30097,{filter:e})}function bh(e){return Yd[e]}function xh(e){return Xd[e]}function wh(e){return $d[e]}function Nh(e){return{fieldPath:e.canonicalString()}}function jh(e){return tl.fromServerFormat(e.fieldPath)}function kh(e){return e instanceof Xc?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NAN"}};if(Oc(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NOT_NAN"}};if(Oc(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nh(e.field),op:xh(e.op),value:e.value}}}(e):e instanceof $c?function(e){const t=e.getFilters().map((e=>kh(e)));return 1===t.length?t[0]:{compositeFilter:{op:wh(e.op),filters:t}}}(e):ko(54877,{filter:e})}function Ch(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Sh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Eh{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xo.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Eh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _h{constructor(e){this.wt=e}}function Ih(e){const t=vh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Su(t,t.limit,"L"):t}class Th{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(sc(e.integerValue));else if("doubleValue"in e){const n=sc(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),yl(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=ic(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(oc(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Vc(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Uc(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ko(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const a=e.fields||{};this.Mt(t,53);const i=Nc,s=(null===(r=null===(n=a[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(sc(s)),this.Nt(i,t),this.Ct(a[i],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),nl.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Th.Wt=new Th;class Ah{constructor(){this.Cn=new Ph}addToCollectionParentIndex(e,t){return this.Cn.add(t),hl.resolve()}getCollectionParents(e,t){return hl.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return hl.resolve()}deleteFieldIndex(e,t){return hl.resolve()}deleteAllFieldIndexes(e){return hl.resolve()}createTargetIndexes(e,t){return hl.resolve()}getDocumentsMatchingTarget(e,t){return hl.resolve(null)}getIndexType(e,t){return hl.resolve(0)}getFieldIndexes(e,t){return hl.resolve([])}getNextCollectionGroupToUpdate(e){return hl.resolve(null)}getMinOffset(e,t){return hl.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,t){return hl.resolve(ol.min())}updateCollectionGroup(e,t,n){return hl.resolve()}updateIndexEntries(e,t){return hl.resolve()}}class Ph{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zl(Zo.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Zl(Zo.comparator)).toArray()}}new Uint8Array(0);const Dh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rh=41943040;class Oh{static withCacheSize(e){return new Oh(e,Oh.DEFAULT_COLLECTION_PERCENTILE,Oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Oh.DEFAULT_COLLECTION_PERCENTILE=10,Oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oh.DEFAULT=new Oh(Rh,Oh.DEFAULT_COLLECTION_PERCENTILE,Oh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oh.DISABLED=new Oh(-1,0,0);class Lh{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Lh(0)}static lr(){return new Lh(-1)}}const Fh="LruGarbageCollector",Uh=1048576;function Mh(e,t){let[n,r]=e,[a,i]=t;const s=Bo(n,a);return 0===s?Bo(r,i):s}class Vh{constructor(e){this.Er=e,this.buffer=new Zl(Mh),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Mh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){xo(Fh,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fl(e)?xo(Fh,"Ignoring IndexedDB error during garbage collection: ",e):await dl(e)}await this.mr(3e5)}))}}class Bh{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return hl.resolve(pl.le);const n=new Vh(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(xo("LruGarbageCollector","Garbage collection skipped; disabled"),hl.resolve(Dh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(xo("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Dh):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,a,i,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(xo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),bo()<=sn.DEBUG&&xo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),hl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e}))))}}function qh(e,t){return new Bh(e,t)}class Hh{constructor(){this.changes=new Ru((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Kh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&gd(n.mutation,e,tc.empty(),Yo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Wu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu();const r=Vu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Uu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Vu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Wu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let a=Lu();const i=Bu(),s=Bu();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof xd)?a=a.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),gd(s.mutation,t,s.mutation.getFieldMask(),Yo.now())):i.set(t.key,tc.empty())})),this.recalculateAndSaveOverlays(e,a).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Wh(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Bu();let r=new Xl(((e,t)=>e-t)),a=Wu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const a of e)a.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||tc.empty();s=a.applyToLocalView(i,s),n.set(e,s);const o=(r.get(a.batchId)||Wu()).add(e);r=r.insert(a.batchId,o)}))})).next((()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=zu();l.forEach((e=>{if(!a.has(e)){const r=fd(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return hl.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return nl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((a=>{const i=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):hl.resolve(Vu());let s=rl,o=a;return i.next((t=>hl.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?hl.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,a))).next((()=>this.computeViews(e,o,t,Wu()))).next((e=>({batchId:s,changes:Mu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nl(t)).next((e=>{let t=Uu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let i=Uu();return this.indexManager.getCollectionParents(e,a).next((s=>hl.forEach(s,(s=>{const o=function(e,t){return new vu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(a=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)))).next((e=>{a.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,qc.newInvalidDocument(r)))}));let n=Uu();return e.forEach(((e,r)=>{const i=a.get(e);void 0!==i&&gd(i.mutation,r,tc.empty(),Yo.now()),Tu(t,r)&&(n=n.insert(e,r))})),n}))}}class Gh{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return hl.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:rh(e.createTime)}}(t)),hl.resolve()}getNamedQuery(e,t){return hl.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:Ih(e.bundledQuery),readTime:rh(e.readTime)}}(t)),hl.resolve()}}class Qh{constructor(){this.overlays=new Xl(nl.comparator),this.Qr=new Map}getOverlay(e,t){return hl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Vu();return hl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),hl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),hl.resolve()}getOverlaysForCollection(e,t,n){const r=Vu(),a=t.length+1,i=new nl(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new Xl(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=Vu(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Vu(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return hl.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _d(t,n));let a=this.Qr.get(t);void 0===a&&(a=Wu(),this.Qr.set(t,a)),this.Qr.set(t,a.add(n.key))}}class Yh{constructor(){this.sessionToken=rc.EMPTY_BYTE_STRING}getSessionToken(e){return hl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,hl.resolve()}}class Xh{constructor(){this.$r=new Zl($h.Ur),this.Kr=new Zl($h.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new $h(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new $h(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new nl(new Zo([])),n=new $h(t,e),r=new $h(t,e+1),a=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),a.push(e.key)})),a}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new nl(new Zo([])),n=new $h(t,e),r=new $h(t,e+1);let a=Wu();return this.Kr.forEachInRange([n,r],(e=>{a=a.add(e.key)})),a}containsKey(e){const t=new $h(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class $h{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return nl.comparator(e.key,t.key)||Bo(e.Zr,t.Zr)}static Wr(e,t){return Bo(e.Zr,t.Zr)||nl.comparator(e.key,t.key)}}class Jh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Zl($h.Ur)}checkEmpty(e){return hl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Sd(a,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Xr=this.Xr.add(new $h(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return hl.resolve(i)}lookupMutationBatch(e,t){return hl.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),a=r<0?0:r;return hl.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return hl.resolve(0===this.mutationQueue.length?gl:this.nr-1)}getAllMutationBatches(e){return hl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $h(t,0),r=new $h(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);a.push(t)})),hl.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zl(Bo);return t.forEach((e=>{const t=new $h(e,0),r=new $h(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),hl.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;nl.isDocumentKey(a)||(a=a.child(""));const i=new $h(new nl(a),0);let s=new Zl(Bo);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Zr)),!0)}),i),hl.resolve(this.ni(s))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){So(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return hl.forEach(t.mutations,(r=>{const a=new $h(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new $h(t,0),r=this.Xr.firstAfterOrEqual(n);return hl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hl.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zh{constructor(e){this.ii=e,this.docs=new Xl(nl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hl.resolve(n?n.document.mutableCopy():qc.newInvalidDocument(t))}getEntries(e,t){let n=Lu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():qc.newInvalidDocument(e))})),hl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=Lu();const i=t.path,s=new nl(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||ll(sl(s),n)<=0||(r.has(s.key)||Tu(t,s))&&(a=a.insert(s.key,s.mutableCopy()))}return hl.resolve(a)}getAllFromCollectionGroup(e,t,n,r){ko(9500)}si(e,t){return hl.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new em(this)}getSize(e){return hl.resolve(this.size)}}class em extends Hh{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),hl.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class tm{constructor(e){this.persistence=e,this.oi=new Ru((e=>fu(e)),pu),this.lastRemoteSnapshotVersion=Xo.min(),this.highestTargetId=0,this._i=0,this.ai=new Xh,this.targetCount=0,this.ui=Lh.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),hl.resolve()}getLastRemoteSnapshotVersion(e){return hl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hl.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),hl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),hl.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Lh(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,hl.resolve()}updateTargetData(e,t){return this.Tr(t),hl.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,hl.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.oi.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.oi.delete(i),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),hl.waitFor(a).next((()=>r))}getTargetCount(e){return hl.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return hl.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),hl.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((t=>{a.push(r.markPotentiallyOrphaned(e,t))})),hl.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),hl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return hl.resolve(n)}containsKey(e,t){return hl.resolve(this.ai.containsKey(t))}}class nm{constructor(e,t){this.ci={},this.overlays={},this.li=new pl(0),this.hi=!1,this.hi=!0,this.Pi=new Yh,this.referenceDelegate=e(this),this.Ti=new tm(this),this.indexManager=new Ah,this.remoteDocumentCache=function(e){return new Zh(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new _h(t),this.Ei=new Gh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new Jh(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){xo("MemoryPersistence","Starting transaction:",e);const r=new rm(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return hl.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class rm extends ul{constructor(e){super(),this.currentSequenceNumber=e}}class am{constructor(e){this.persistence=e,this.Vi=new Xh,this.mi=null}static fi(e){return new am(e)}get gi(){if(this.mi)return this.mi;throw ko(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),hl.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),hl.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),hl.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hl.forEach(this.gi,(n=>{const r=nl.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,Xo.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return hl.or([()=>hl.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class im{constructor(e,t){this.persistence=e,this.yi=new Ru((e=>wl(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=qh(this,t)}static fi(e,t){return new im(e,t)}di(){}Ai(e){return hl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return hl.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?hl.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,a.removeEntry(r,Xo.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),hl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),hl.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),hl.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),hl.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ac(e.data.value)),t}Dr(e,t,n){return hl.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return hl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Wu(),r=Wu();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new sm(e,t.fromCache,n,r)}}class om{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lm{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=zt()?8:ml(Mt())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ws(e,t).next((e=>{a.result=e})).next((()=>{if(!a.result)return this.bs(e,t,r,n).next((e=>{a.result=e}))})).next((()=>{if(a.result)return;const n=new om;return this.Ss(e,t,n).next((r=>{if(a.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>a.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(bo()<=sn.DEBUG&&xo("QueryEngine","SDK will not create cache indexes for query:",Iu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),hl.resolve()):(bo()<=sn.DEBUG&&xo("QueryEngine","Query:",Iu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(bo()<=sn.DEBUG&&xo("QueryEngine","The SDK decides to create cache indexes for query:",Iu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ju(t))):hl.resolve())}ws(e,t){if(xu(t))return hl.resolve(null);let n=ju(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Su(t,null,"F"),n=ju(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const a=Wu(...r);return this.ys.getDocuments(e,a).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.vs(t,r);return this.Cs(t,i,a,n.readTime)?this.ws(e,Su(t,null,"F")):this.Fs(e,i,t,n)}))))})))))}bs(e,t,n,r){return xu(t)||r.isEqual(Xo.min())?hl.resolve(null):this.ys.getDocuments(e,n).next((a=>{const i=this.vs(t,a);return this.Cs(t,i,n,r)?hl.resolve(null):(bo()<=sn.DEBUG&&xo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Iu(t)),this.Fs(e,i,t,il(r,rl)).next((e=>e)))}))}vs(e,t){let n=new Zl(Pu(e));return t.forEach(((t,r)=>{Tu(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,n){return bo()<=sn.DEBUG&&xo("QueryEngine","Using full collection scan to execute query:",Iu(t)),this.ys.getDocumentsMatchingQuery(e,t,ol.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const cm="LocalStore";class um{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Xl(Bo),this.Os=new Ru((e=>fu(e)),pu),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kh(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function dm(e,t,n,r){return new um(e,t,n,r)}async function hm(e,t){const n=Eo(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((a=>(r=a,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const a=[],i=[];let s=Wu();for(const e of r){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({ks:e,removedBatchIds:a,addedBatchIds:i})))}))}))}function mm(e){const t=Eo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function fm(e,t,n){let r=Wu(),a=Wu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Lu();return n.forEach(((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Xo.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):xo(cm,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{qs:r,Qs:a}}))}function pm(e,t){const n=Eo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=gl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function gm(e,t){const n=Eo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((a=>a?(r=a,hl.resolve(r)):n.Ti.allocateTargetId(e).next((a=>(r=new Eh(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function vm(e,t,n){const r=Eo(e),a=r.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,a)))}catch(e){if(!fl(e))throw e;xo(cm,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(a.target)}function ym(e,t,n){const r=Eo(e);let a=Xo.min(),i=Wu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Eo(e),a=r.Os.get(n);return void 0!==a?hl.resolve(r.xs.get(a)):r.Ti.getTargetData(t,n)}(r,e,ju(t)).next((t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?a:Xo.min(),n?i:Wu()))).next((e=>(bm(r,Au(t),e),{documents:e,$s:i})))))}function bm(e,t,n){let r=e.Ns.get(t)||Xo.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class xm{constructor(){this.activeTargetIds=Gu()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wm{constructor(){this.xo=new xm,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new xm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nm{No(e){}shutdown(){}}const jm="ConnectivityMonitor";class km{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){xo(jm,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){xo(jm,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cm=null;function Sm(){return null===Cm?Cm=268435456+Math.round(2147483648*Math.random()):Cm++,"0x"+Cm.toString(16)}const Em="RestConnection",_m={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Im{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===gc?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,a){const i=Sm(),s=this.jo(e,t.toUriEncodedString());xo(Em,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,a);const{host:l}=new URL(s),c=Dt(l);return this.Jo(e,s,o,n,c).then((t=>(xo(Em,"Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw No(Em,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t}))}Yo(e,t,n,r,a,i){return this.zo(e,t,n,r,a)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=_m[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Tm{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Am="WebChannelConnection";class Pm extends Im{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const i=Sm();return new Promise(((a,s)=>{const o=new ro;o.setWithCredentials(!0),o.listenOnce(io.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case so.NO_ERROR:const t=o.getResponseJson();xo(Am,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case so.TIMEOUT:xo(Am,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Io(_o.DEADLINE_EXCEEDED,"Request time out"));break;case so.HTTP_ERROR:const n=o.getStatus();if(xo(Am,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_o).indexOf(t)>=0?t:_o.UNKNOWN}(t.status);s(new Io(e,t.message))}else s(new Io(_o.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Io(_o.UNAVAILABLE,"Connection failed."));break;default:ko(9055,{h_:e,streamId:i,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{xo(Am,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);xo(Am,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=Sm(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=uo(),s=co(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=a.join("");xo(Am,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.E_(u);let d=!1,h=!1;const m=new Tm({Zo:t=>{h?xo(Am,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(xo(Am,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),xo(Am,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,ao.EventType.OPEN,(()=>{h||(xo(Am,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),m.__())})),f(u,ao.EventType.CLOSE,(()=>{h||(h=!0,xo(Am,"RPC '".concat(e,"' stream ").concat(r," transport closed")),m.u_(),this.d_(u))})),f(u,ao.EventType.ERROR,(t=>{h||(h=!0,No(Am,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),m.u_(new Io(_o.UNAVAILABLE,"The operation could not be completed")))})),f(u,ao.EventType.MESSAGE,(t=>{var n;if(!h){const a=t.data[0];So(!!a,16349);const i=a,s=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){xo(Am,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Td[e];if(void 0!==t)return Dd(t)}(t),a=s.message;void 0===n&&(n=_o.INTERNAL,a="Unknown error status: "+t+" with message "+s.message),h=!0,m.u_(new Io(n,a)),u.close()}else xo(Am,"RPC '".concat(e,"' stream ").concat(r," received:"),a),m.c_(a)}})),f(s,lo.STAT_EVENT,(t=>{t.stat===oo.PROXY?xo(Am,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===oo.NOPROXY&&xo(Am,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{m.a_()}),0),m}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function Dm(){return"undefined"!=typeof document?document:null}function Rm(e){return new Jd(e,!0)}class Om{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&xo("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const Lm="PersistentStream";class Fm{constructor(e,t,n,r,a,i,s,o){this.xi=e,this.S_=n,this.D_=r,this.connection=a,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Om(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===_o.RESOURCE_EXHAUSTED?(wo(t.toString()),wo("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===_o.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new Io(_o.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return xo(Lm,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(xo(Lm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Um extends Fm{constructor(e,t,n,r,a,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ko(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(So(void 0===t||"string"==typeof t,58123),rc.fromBase64String(t||"")):(So(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),rc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?_o.UNKNOWN:Dd(e.code);return new Io(t,e.message||"")}(s);n=new Hd(r,a,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=lh(e,r.document.name),i=rh(r.document.updateTime),s=r.document.createTime?rh(r.document.createTime):Xo.min(),o=new zc({mapValue:{fields:r.document.fields}}),l=qc.newFoundDocument(a,i,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=lh(e,r.document),i=r.readTime?rh(r.readTime):Xo.min(),s=qc.newNoDocument(a,i),o=r.removedTargetIds||[];n=new Bd([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=lh(e,r.document),i=r.removedTargetIds||[];n=new Bd([],i,a,null)}else{if(!("filter"in t))return ko(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,i=new Id(r,a),s=e.targetId;n=new qd(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Xo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Xo.min():t.readTime?rh(t.readTime):Xo.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=dh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=gu(r)?{documents:ph(e,r)}:{query:gh(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=th(e,t.resumeToken);const r=Zd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Xo.min())>0){n.readTime=eh(e,t.snapshotVersion.toTimestamp());const r=Zd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ko(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=dh(this.serializer),t.removeTarget=e,this.Q_(t)}}class Mm extends Fm{constructor(e,t,n,r,a,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return So(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,So(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){So(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(So(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?rh(e.updateTime):rh(t);return n.isEqual(Xo.min())&&(n=rh(t)),new ud(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=rh(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=dh(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>fh(this.serializer,e)))};this.Q_(t)}}class Vm{}class zm extends Vm{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Io(_o.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[i,s]=a;return this.connection.zo(e,ih(t,n),r,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===_o.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Io(_o.UNKNOWN,e.toString())}))}Yo(e,t,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Yo(e,ih(t,n),r,s,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===_o.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Io(_o.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class Bm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(wo(t),this.ua=!1):xo("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const qm="RemoteStore";class Hm{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No((e=>{n.enqueueAndForget((async()=>{Zm(this)&&(xo(qm,"Restarting streams for network reachability change."),await async function(e){const t=Eo(e);t.da.add(4),await Km(t),t.Va.set("Unknown"),t.da.delete(4),await Wm(t)}(this))}))})),this.Va=new Bm(n,r)}}async function Wm(e){if(Zm(e))for(const t of e.Aa)await t(!0)}async function Km(e){for(const t of e.Aa)await t(!1)}function Gm(e,t){const n=Eo(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Jm(n)?$m(n):bf(n).N_()&&Ym(n,t))}function Qm(e,t){const n=Eo(e),r=bf(n);n.Ea.delete(t),r.N_()&&Xm(n,t),0===n.Ea.size&&(r.N_()?r.k_():Zm(n)&&n.Va.set("Unknown"))}function Ym(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bf(e).Z_(t)}function Xm(e,t){e.ma.Ke(t),bf(e).X_(t)}function $m(e){e.ma=new Kd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),bf(e).start(),e.Va.ca()}function Jm(e){return Zm(e)&&!bf(e).O_()&&e.Ea.size>0}function Zm(e){return 0===Eo(e).da.size}function ef(e){e.ma=void 0}async function tf(e){e.Va.set("Online")}async function nf(e){e.Ea.forEach(((t,n)=>{Ym(e,t)}))}async function rf(e,t){ef(e),Jm(e)?(e.Va.Pa(t),$m(e)):e.Va.set("Unknown")}async function af(e,t,n){if(e.Va.set("Online"),t instanceof Hd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){xo(qm,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sf(e,n)}else if(t instanceof Bd?e.ma.Xe(t):t instanceof qd?e.ma.ot(t):e.ma.nt(t),!n.isEqual(Xo.min()))try{const t=await mm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ea.get(r);a&&e.Ea.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(rc.EMPTY_BYTE_STRING,r.snapshotVersion)),Xm(e,t);const a=new Eh(r.target,t,n,r.sequenceNumber);Ym(e,a)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){xo(qm,"Failed to raise snapshot:",t),await sf(e,t)}}async function sf(e,t,n){if(!fl(t))throw t;e.da.add(1),await Km(e),e.Va.set("Offline"),n||(n=()=>mm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{xo(qm,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Wm(e)}))}function of(e,t){return t().catch((n=>sf(e,n,t)))}async function lf(e){const t=Eo(e),n=xf(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:gl;for(;cf(t);)try{const e=await pm(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,uf(t,e)}catch(e){await sf(t,e)}df(t)&&hf(t)}function cf(e){return Zm(e)&&e.Ia.length<10}function uf(e,t){e.Ia.push(t);const n=xf(e);n.N_()&&n.ea&&n.ta(t.mutations)}function df(e){return Zm(e)&&!xf(e).O_()&&e.Ia.length>0}function hf(e){xf(e).start()}async function mf(e){xf(e).ia()}async function ff(e){const t=xf(e);for(const n of e.Ia)t.ta(n.mutations)}async function pf(e,t,n){const r=e.Ia.shift(),a=Ed.from(r,t,n);await of(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await lf(e)}async function gf(e,t){t&&xf(e).ea&&await async function(e,t){if(function(e){return Pd(e)&&e!==_o.ABORTED}(t.code)){const n=e.Ia.shift();xf(e).L_(),await of(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await lf(e)}}(e,t),df(e)&&hf(e)}async function vf(e,t){const n=Eo(e);n.asyncQueue.verifyOperationInProgress(),xo(qm,"RemoteStore received new credentials");const r=Zm(n);n.da.add(3),await Km(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Wm(n)}async function yf(e,t){const n=Eo(e);t?(n.da.delete(2),await Wm(n)):t||(n.da.add(2),await Km(n),n.Va.set("Unknown"))}function bf(e){return e.fa||(e.fa=function(e,t,n){const r=Eo(e);return r.oa(),new Um(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:tf.bind(null,e),n_:nf.bind(null,e),i_:rf.bind(null,e),Y_:af.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),Jm(e)?$m(e):e.Va.set("Unknown")):(await e.fa.stop(),ef(e))}))),e.fa}function xf(e){return e.ga||(e.ga=function(e,t,n){const r=Eo(e);return r.oa(),new Mm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:mf.bind(null,e),i_:gf.bind(null,e),na:ff.bind(null,e),ra:pf.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await lf(e)):(await e.ga.stop(),e.Ia.length>0&&(xo(qm,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class wf{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const i=Date.now()+n,s=new wf(e,t,i,r,a);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Io(_o.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nf(e,t){if(wo("AsyncQueue","".concat(t,": ").concat(e)),fl(e))return new Io(_o.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class jf{static emptySet(e){return new jf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||nl.comparator(t.key,n.key):(e,t)=>nl.comparator(e.key,t.key),this.keyedMap=Uu(),this.sortedSet=new Xl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new jf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class kf{constructor(){this.pa=new Xl(nl.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ko(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Cf{constructor(e,t,n,r,a,i,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Cf(e,t,jf.emptySet(t),i,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sf{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class Ef{constructor(){this.queries=_f(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Eo(e),r=n.queries;n.queries=_f(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new Io(_o.ABORTED,"Firestore shutting down"))}}function _f(){return new Ru((e=>_u(e)),Eu)}async function If(e,t){const n=Eo(e);let r=3;const a=t.query;let i=n.queries.get(a);i?!i.Da()&&t.va()&&(r=2):(i=new Sf,r=t.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(a,!0);break;case 1:i.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=Nf(e,"Initialization of query '".concat(Iu(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&Df(n)}async function Tf(e,t){const n=Eo(e),r=t.query;let a=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?a=t.va()?0:1:!i.Da()&&t.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Af(e,t){const n=Eo(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(a)&&(r=!0);t.ba=a}}r&&Df(n)}function Pf(e,t,n){const r=Eo(e),a=r.queries.get(t);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(t)}function Df(e){e.Ca.forEach((e=>{e.next()}))}var Rf,Of;(Of=Rf||(Rf={})).xa="default",Of.Cache="cache";class Lf{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Cf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=Cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Rf.Cache}}class Ff{constructor(e){this.key=e}}class Uf{constructor(e){this.key=e}}class Mf{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Wu(),this.mutatedKeys=Wu(),this.Za=Pu(e),this.Xa=new jf(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new kf,r=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Tu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.ru(c,u)||(n.track({type:2,doc:u}),m=!0,(o&&this.Za(u,o)>0||l&&this.Za(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(s=!0)),m&&(u?(i=i.add(u),a=h?a.add(e):a.delete(e)):(i=i.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{Xa:i,nu:n,Cs:s,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const i=e.nu.wa();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ko(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const s=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==i.length||l?{snapshot:new Cf(this.query,e.Xa,a,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:s}:{ou:s}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new kf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Wu(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new Uf(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new Ff(n))})),t}au(e){this.Ha=e.$s,this.Ya=Wu();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Cf.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const Vf="SyncEngine";class zf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bf{constructor(e){this.key=e,this.cu=!1}}class qf{constructor(e,t,n,r,a,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=i,this.lu={},this.hu=new Ru((e=>_u(e)),Eu),this.Pu=new Map,this.Tu=new Set,this.Iu=new Xl(nl.comparator),this.Eu=new Map,this.du=new Xh,this.Au={},this.Ru=new Map,this.Vu=Lh.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function Hf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=dp(e);let a;const i=r.hu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.uu()):a=await Kf(r,t,n,!0),a}async function Wf(e,t){const n=dp(e);await Kf(n,t,!0,!1)}async function Kf(e,t,n,r){const a=await gm(e.localStore,ju(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await Gf(e,t,i,"current"===s,a.resumeToken)),e.isPrimaryClient&&n&&Gm(e.remoteStore,a),o}async function Gf(e,t,n,r,a){e.fu=(t,n,r)=>async function(e,t,n,r){let a=t.view.tu(n);a.Cs&&(a=await ym(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,a)})));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,i,s);return ip(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const i=await ym(e.localStore,t,!0),s=new Mf(t,i.$s),o=s.tu(i.documents),l=zd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=s.applyChanges(o,e.isPrimaryClient,l);ip(e,n,c.ou);const u=new zf(t,n,s);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function Qf(e,t,n){const r=Eo(e),a=r.hu.get(t),i=r.Pu.get(a.targetId);if(i.length>1)return r.Pu.set(a.targetId,i.filter((e=>!Eu(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await vm(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Qm(r.remoteStore,a.targetId),rp(r,a.targetId)})).catch(dl)):(rp(r,a.targetId),await vm(r.localStore,a.targetId,!0))}async function Yf(e,t){const n=Eo(e),r=n.hu.get(t),a=n.Pu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(n.remoteStore,r.targetId))}async function Xf(e,t){const n=Eo(e);try{const e=await function(e,t){const n=Eo(e),r=t.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const s=[];t.targetChanges.forEach(((i,o)=>{const l=a.get(o);if(!l)return;s.push(n.Ti.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Ti.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(rc.EMPTY_BYTE_STRING,Xo.min()).withLastLimboFreeSnapshotVersion(Xo.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Ti.updateTargetData(e,c))}));let o=Lu(),l=Wu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(fm(e,i,t.documentUpdates).next((e=>{o=e.qs,l=e.Qs}))),!r.isEqual(Xo.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return hl.waitFor(s).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.xs=a,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(So(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?So(r.cu,14607):e.removedDocuments.size>0&&(So(r.cu,42227),r.cu=!1))})),await lp(n,e,t)}catch(e){await dl(e)}}function $f(e,t,n){const r=Eo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const a=r.view.Fa(t);a.snapshot&&e.push(a.snapshot)})),function(e,t){const n=Eo(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const a of n.Sa)a.Fa(t)&&(r=!0)})),r&&Df(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Jf(e,t,n){const r=Eo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Eu.get(t),i=a&&a.key;if(i){let e=new Xl(nl.comparator);e=e.insert(i,qc.newNoDocument(i,Xo.min()));const n=Wu().add(i),a=new Vd(Xo.min(),new Map,new Xl(Bo),e,n);await Xf(r,a),r.Iu=r.Iu.remove(i),r.Eu.delete(t),op(r)}else await vm(r.localStore,t,!1).then((()=>rp(r,t,n))).catch(dl)}async function Zf(e,t){const n=Eo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Eo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,i=a.keys();let s=hl.resolve();return i.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);So(null!==i,48541),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,a)))}(n,e,t,a).next((()=>a.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);np(n,r,null),tp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lp(n,e)}catch(e){await dl(e)}}async function ep(e,t,n){const r=Eo(e);try{const e=await function(e,t){const n=Eo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(So(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);np(r,t,n),tp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lp(r,e)}catch(n){await dl(n)}}function tp(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function np(e,t,n){const r=Eo(e);let a=r.Au[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Au[r.currentUser.toKey()]=a}}function rp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||ap(e,t)}))}function ap(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(Qm(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),op(e))}function ip(e,t,n){for(const r of n)r instanceof Ff?(e.du.addReference(r.key,t),sp(e,r)):r instanceof Uf?(xo(Vf,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||ap(e,r.key)):ko(19791,{pu:r})}function sp(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(xo(Vf,"New document in limbo: "+n),e.Tu.add(r),op(e))}function op(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new nl(Zo.fromString(t)),r=e.Vu.next();e.Eu.set(r,new Bf(n)),e.Iu=e.Iu.insert(n,r),Gm(e.remoteStore,new Eh(ju(bu(n.path)),r,"TargetPurposeLimboResolution",pl.le))}}async function lp(e,t,n){const r=Eo(e),a=[],i=[],s=[];r.hu.isEmpty()||(r.hu.forEach(((e,o)=>{s.push(r.fu(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(e){a.push(e);const t=sm.Rs(o.targetId,e);i.push(t)}})))})),await Promise.all(s),r.lu.Y_(a),await async function(e,t){const n=Eo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>hl.forEach(t,(t=>hl.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>hl.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!fl(e))throw e;xo(cm,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,a)}}}(r.localStore,i))}async function cp(e,t){const n=Eo(e);if(!n.currentUser.isEqual(t)){xo(Vf,"User change. New user:",t.toKey());const e=await hm(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new Io(_o.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lp(n,e.ks)}}function up(e,t){const n=Eo(e),r=n.Eu.get(t);if(r&&r.cu)return Wu().add(r.key);{let e=Wu();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function dp(e){const t=Eo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=up.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jf.bind(null,t),t.lu.Y_=Af.bind(null,t.eventManager),t.lu.gu=Pf.bind(null,t.eventManager),t}function hp(e){const t=Eo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ep.bind(null,t),t}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return dm(this.persistence,new lm,e.initialUser,this.serializer)}Su(e){return new nm(am.fi,this.serializer)}bu(e){return new wm}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class fp extends mp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){So(this.persistence.referenceDelegate instanceof im,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new zh(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?Oh.withCacheSize(this.cacheSizeBytes):Oh.DEFAULT;return new nm((e=>im.fi(e,t)),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>$f(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cp.bind(null,this.syncEngine),await yf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ef}createDatastore(e){const t=Rm(e.databaseInfo.databaseId),n=function(e){return new Pm(e)}(e.databaseInfo);return function(e,t,n,r){return new zm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new Hm(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,(e=>$f(this.syncEngine,e,0)),km.C()?new km:new Nm)}createSyncEngine(e,t){return function(e,t,n,r,a,i,s){const o=new qf(e,t,n,r,a,i);return s&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Eo(e);xo(qm,"RemoteStore shutting down."),t.da.add(5),await Km(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}pp.provider={build:()=>new pp};class gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):wo("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const vp="FirestoreClient";class yp{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=go.UNAUTHENTICATED,this.clientId=zo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async e=>{xo(vp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(xo(vp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Nf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function bp(e,t){e.asyncQueue.verifyOperationInProgress(),xo(vp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await hm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function xp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wp(e);xo(vp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>vf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>vf(t.remoteStore,n))),e._onlineComponents=t}async function wp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){xo(vp,"Using user provided OfflineComponentProvider");try{await bp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===_o.FAILED_PRECONDITION||e.code===_o.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await bp(e,new mp)}}else xo(vp,"Using default OfflineComponentProvider"),await bp(e,new fp(void 0));return e._offlineComponents}async function Np(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(xo(vp,"Using user provided OnlineComponentProvider"),await xp(e,e._uninitializedComponentsProvider._online)):(xo(vp,"Using default OnlineComponentProvider"),await xp(e,new pp))),e._onlineComponents}function jp(e){return Np(e).then((e=>e.syncEngine))}async function kp(e){const t=await Np(e),n=t.eventManager;return n.onListen=Hf.bind(null,t.syncEngine),n.onUnlisten=Qf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Wf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Yf.bind(null,t.syncEngine),n}function Cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new To;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const i=new gp({next:o=>{i.xu(),t.enqueueAndForget((()=>Tf(e,s)));const l=o.docs.has(n);!l&&o.fromCache?a.reject(new Io(_o.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?a.reject(new Io(_o.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:e=>a.reject(e)}),s=new Lf(bu(n.path),i,{includeMetadataChanges:!0,Qa:!0});return If(e,s)}(await kp(e),e.asyncQueue,t,n,r))),r.promise}function Sp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new To;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const i=new gp({next:n=>{i.xu(),t.enqueueAndForget((()=>Tf(e,s))),n.fromCache&&"server"===r.source?a.reject(new Io(_o.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),s=new Lf(n,i,{includeMetadataChanges:!0,Qa:!0});return If(e,s)}(await kp(e),e.asyncQueue,t,n,r))),r.promise}function Ep(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const _p=new Map;function Ip(e,t,n){if(!n)throw new Io(_o.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Tp(e){if(!nl.isDocumentKey(e))throw new Io(_o.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ap(e){if(nl.isDocumentKey(e))throw new Io(_o.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ko(12329,{type:typeof e})}function Dp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Io(_o.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pp(e);throw new Io(_o.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const Rp="firestore.googleapis.com",Op=!0;class Lp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Io(_o.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rp,this.ssl=Op}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Op;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Rh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Uh)throw new Io(_o.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Io(_o.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ep(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Io(_o.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Io(_o.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Io(_o.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Io(_o.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Io(_o.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Po;switch(e.type){case"firstParty":return new Lo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Io(_o.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_p.get(e);t&&(xo("ComponentProvider","Removing Datastore"),_p.delete(e),t.terminate())}(this),Promise.resolve()}}class Up{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Up(this.firestore,e,this._query)}}class Mp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mp(this.firestore,e,this._key)}}class Vp extends Up{constructor(e,t,n){super(e,t,bu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mp(this.firestore,null,new nl(e))}withConverter(e){return new Vp(this.firestore,e,this._path)}}function zp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Zt(e),Ip("collection","path",t),e instanceof Fp){const n=Zo.fromString(t,...r);return Ap(n),new Vp(e,null,n)}{if(!(e instanceof Mp||e instanceof Vp))throw new Io(_o.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Zo.fromString(t,...r));return Ap(n),new Vp(e.firestore,null,n)}}function Bp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Zt(e),1===arguments.length&&(t=zo.newId()),Ip("doc","path",t),e instanceof Fp){const n=Zo.fromString(t,...r);return Tp(n),new Mp(e,null,new nl(n))}{if(!(e instanceof Mp||e instanceof Vp))throw new Io(_o.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Zo.fromString(t,...r));return Tp(n),new Mp(e.firestore,e instanceof Vp?e.converter:null,new nl(n))}}const qp="AsyncQueue";class Hp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Om(this,"async_queue_retry"),this.rc=()=>{const e=Dm();e&&xo(qp,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=Dm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Dm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new To;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(Yb){if(!fl(Yb))throw Yb;xo(qp,"Operation failed with retryable error: "+Yb)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,wo("INTERNAL UNHANDLED ERROR: ",Wp(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=wf.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&ko(47125,{cc:Wp(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Wp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Kp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Gp extends Fp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Hp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hp(e),this._firestoreClient=void 0,await e}}}function Qp(e,t){const n="object"==typeof e?e:vr(),r="string"==typeof e?e:t||gc,a=dr(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=It("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;e=Dp(e,Fp);const i=Dt(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&(Rt("https://".concat(l)),Ut("Firestore",!0)),s.host!==Rp&&s.host!==l&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:r});if(!Kt(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=go.MOCK_USER;else{t=Ot(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Io(_o.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new go(i)}e._authCredentials=new Do(new Ao(t,n))}}(a,...e)}return a}function Yp(e){if(e._terminated)throw new Io(_o.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Xp(e),e._firestoreClient}function Xp(e){var t,n,r;const a=e._freezeSettings(),i=function(e,t,n,r){return new pc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ep(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new yp(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class $p{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $p(rc.fromBase64String(e))}catch(e){throw new Io(_o.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new $p(rc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Io(_o.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zp{constructor(e){this._methodName=e}}class eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Io(_o.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Io(_o.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bo(this._lat,e._lat)||Bo(this._long,e._long)}}class tg{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const ng=/^__.*__$/;class rg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xd(e,this.data,this.fieldMask,t,this.fieldTransforms):new bd(e,this.data,t,this.fieldTransforms)}}class ag{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ig(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ko(40011,{Ic:e})}}class sg{constructor(e,t,n,r,a,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kg(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(ig(this.Ic)&&ng.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class og{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rm(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sg({Ic:e,methodName:t,wc:n,path:tl.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(e){const t=e._freezeSettings(),n=Rm(e._databaseId);return new og(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cg(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.bc(i.merge||i.mergeFields?2:0,t,n,a);xg("Data must be an object, but it was:",s,r);const o=yg(r,s);let l,c;if(i.merge)l=new tc(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const a=wg(t,r,n);if(!s.contains(a))throw new Io(_o.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));Cg(e,a)||e.push(a)}l=new tc(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new rg(new zc(o),l,c)}class ug extends Zp{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ug}}function dg(e,t,n){return new sg({Ic:3,wc:t.settings.wc,methodName:e._methodName,Rc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class hg extends Zp{_toFieldTransform(e){return new cd(e.path,new td)}isEqual(e){return e instanceof hg}}class mg extends Zp{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=dg(this,e,!0),n=this.Sc.map((e=>vg(e,t))),r=new nd(n);return new cd(e.path,r)}isEqual(e){return e instanceof mg&&Kt(this.Sc,e.Sc)}}function fg(e,t,n,r){const a=e.bc(1,t,n);xg("Data must be an object, but it was:",a,r);const i=[],s=zc.empty();Ql(r,((e,r)=>{const o=jg(t,e,n);r=Zt(r);const l=a.mc(o);if(r instanceof ug)i.push(o);else{const e=vg(r,l);null!=e&&(i.push(o),s.set(o,e))}}));const o=new tc(i);return new ag(s,o,a.fieldTransforms)}function pg(e,t,n,r,a,i){const s=e.bc(1,t,n),o=[wg(t,r,n)],l=[a];if(i.length%2!=0)throw new Io(_o.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(wg(t,i[h])),l.push(i[h+1]);const c=[],u=zc.empty();for(let h=o.length-1;h>=0;--h)if(!Cg(c,o[h])){const e=o[h];let t=l[h];t=Zt(t);const n=s.mc(e);if(t instanceof ug)c.push(e);else{const r=vg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new tc(c);return new ag(u,d,s.fieldTransforms)}function gg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return vg(n,e.bc(r?4:3,t))}function vg(e,t){if(bg(e=Zt(e)))return xg("Unsupported field value:",t,e),yg(e,t);if(e instanceof Zp)return function(e,t){if(!ig(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=vg(a,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Zt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Yo.fromDate(e);return{timestampValue:eh(t.serializer,n)}}if(e instanceof Yo){const n=new Yo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eh(t.serializer,n)}}if(e instanceof eg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $p)return{bytesValue:th(t.serializer,e._byteString)};if(e instanceof Mp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ah(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof tg)return function(e,t){return{mapValue:{fields:{[yc]:{stringValue:wc},[Nc]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return Qu(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(Pp(e)))}(e,t)}function yg(e,t){const n={};return Yl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ql(e,((e,r)=>{const a=vg(r,t.Ac(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function bg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yo||e instanceof eg||e instanceof $p||e instanceof Mp||e instanceof Zp||e instanceof tg)}function xg(e,t,n){if(!bg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Pp(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function wg(e,t,n){if((t=Zt(t))instanceof Jp)return t._internalPath;if("string"==typeof t)return jg(e,t);throw kg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ng=new RegExp("[~\\*/\\[\\]]");function jg(e,t,n){if(t.search(Ng)>=0)throw kg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Jp(...t.split("."))._internalPath}catch(r){throw kg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kg(e,t,n,r,a){const i=r&&!r.isEmpty(),s=void 0!==a;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(a)),l+=")"),new Io(_o.INVALID_ARGUMENT,o+e+l)}function Cg(e,t){return e.some((e=>e.isEqual(t)))}class Sg{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Eg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_g("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Eg extends Sg{data(){return super.data()}}function _g(e,t){return"string"==typeof t?jg(e,t):t instanceof Jp?t._internalPath:t._delegate._internalPath}function Ig(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Io(_o.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class Ag extends Tg{}function Pg(e,t){let n=[];for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];t instanceof Tg&&n.push(t),n=n.concat(a),function(e){const t=e.filter((e=>e instanceof Og)).length,n=e.filter((e=>e instanceof Dg)).length;if(t>1||t>0&&n>0)throw new Io(_o.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Dg extends Ag{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Dg(e,t,n)}_apply(e){const t=this._parse(e);return Vg(e._query,t),new Up(e.firestore,e.converter,Cu(e._query,t))}_parse(e){const t=lg(e.firestore),n=function(e,t,n,r,a,i,s){let o;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Io(_o.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Mg(s,i);const t=[];for(const n of s)t.push(Ug(r,e,n));o={arrayValue:{values:t}}}else o=Ug(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Mg(s,i),o=gg(n,t,s,"in"===i||"not-in"===i);return Xc.create(a,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Rg(e,t,n){const r=t,a=_g("where",e);return Dg._create(a,r,n)}class Og extends Tg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Og(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$c.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const a of r)Vg(n,a),n=Cu(n,a)}(e._query,t),new Up(e.firestore,e.converter,Cu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lg extends Ag{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Io(_o.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Io(_o.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(t,n)}(e._query,this._field,this._direction);return new Up(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new vu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Fg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=_g("orderBy",e);return Lg._create(n,t)}function Ug(e,t,n){if("string"==typeof(n=Zt(n))){if(""===n)throw new Io(_o.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wu(t)&&-1!==n.indexOf("/"))throw new Io(_o.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Zo.fromString(n));if(!nl.isDocumentKey(r))throw new Io(_o.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Pc(e,new nl(r))}if(n instanceof Mp)return Pc(e,n._key);throw new Io(_o.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Pp(n),"."))}function Mg(e,t){if(!Array.isArray(e)||0===e.length)throw new Io(_o.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Vg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Io(_o.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Io(_o.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class zg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ko(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ql(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Nc].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>sc(e.doubleValue)));return new tg(a)}convertGeoPoint(e){return new eg(sc(e.latitude),sc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=ic(e);return new Yo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Zo.fromString(e);So(Sh(n),9688,{name:e});const r=new vc(n.get(1),n.get(3)),a=new nl(n.popFirst(5));return r.isEqual(t)||wo("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function Bg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class qg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hg extends Sg{constructor(e,t,n,r,a,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Wg extends Hg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Kg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Wg(this._firestore,this._userDataWriter,n.key,n,new qg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Io(_o.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Wg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Wg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,i=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Gg(t.type),doc:r,oldIndex:a,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Gg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ko(61501,{type:e})}}function Qg(e){e=Dp(e,Mp);const t=Dp(e.firestore,Gp);return Cp(Yp(t),e._key).then((n=>rv(t,e,n)))}class Yg extends zg{constructor(e){super(),this.firestore=e}convertBytes(e){return new $p(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mp(this.firestore,null,t)}}function Xg(e){e=Dp(e,Up);const t=Dp(e.firestore,Gp),n=Yp(t),r=new Yg(t);return Ig(e._query),Sp(n,e._query).then((n=>new Kg(t,r,e,n)))}function $g(e,t,n){e=Dp(e,Mp);const r=Dp(e.firestore,Gp),a=Bg(e.converter,t,n);return nv(r,[cg(lg(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,dd.none())])}function Jg(e,t,n){e=Dp(e,Mp);const r=Dp(e.firestore,Gp),a=lg(r);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Zt(t))||t instanceof Jp?pg(a,"updateDoc",e._key,t,n,o):fg(a,"updateDoc",e._key,t),nv(r,[i.toMutation(e._key,dd.exists(!0))])}function Zg(e){return nv(Dp(e.firestore,Gp),[new kd(e._key,dd.none())])}function ev(e,t){const n=Dp(e.firestore,Gp),r=Bp(e),a=Bg(e.converter,t);return nv(n,[cg(lg(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,dd.exists(!1))]).then((()=>r))}function tv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,i,s;e=Zt(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Kp(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Kp(n[l])){const e=n[l];n[l]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[l+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Mp)d=Dp(e.firestore,Gp),h=bu(e._key.path),u={next:t=>{n[l]&&n[l](rv(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Dp(e,Up);d=Dp(t.firestore,Gp),h=t._query;const r=new Yg(d);u={next:e=>{n[l]&&n[l](new Kg(d,r,t,e))},error:n[l+1],complete:n[l+2]},Ig(e._query)}return function(e,t,n,r){const a=new gp(r),i=new Lf(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>If(await kp(e),i))),()=>{a.xu(),e.asyncQueue.enqueueAndForget((async()=>Tf(await kp(e),i)))}}(Yp(d),h,c,u)}function nv(e,t){return function(e,t){const n=new To;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=hp(e);try{const e=await function(e,t){const n=Eo(e),r=Yo.now(),a=t.reduce(((e,t)=>e.add(t.key)),Wu());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Lu(),l=Wu();return n.Bs.getEntries(e,a).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((a=>{i=a;const s=[];for(const e of t){const t=vd(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new xd(e.key,t,Bc(t.value.mapValue),dd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Mu(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new Xl(Bo)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await lp(r,e.changes),await lf(r.remoteStore)}catch(e){const t=Nf(e,"Failed to persist write");n.reject(t)}}(await jp(e),t,n))),n.promise}(Yp(e),t)}function rv(e,t,n){const r=n.docs.get(t._key),a=new Yg(e);return new Hg(e,a,t._key,r,new qg(n.hasPendingWrites,n.fromCache),t.converter)}class av{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lg(e)}set(e,t,n){this._verifyNotCommitted();const r=iv(e,this._firestore),a=Bg(r.converter,t,n),i=cg(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,dd.none())),this}update(e,t,n){this._verifyNotCommitted();const r=iv(e,this._firestore);let a;for(var i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return a="string"==typeof(t=Zt(t))||t instanceof Jp?pg(this._dataReader,"WriteBatch.update",r._key,t,n,s):fg(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(a.toMutation(r._key,dd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=iv(e,this._firestore);return this._mutations=this._mutations.concat(new kd(t._key,dd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Io(_o.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iv(e,t){if((e=Zt(e)).firestore!==t)throw new Io(_o.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function sv(){return new hg("serverTimestamp")}function ov(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mg("arrayUnion",t)}function lv(e){return Yp(e=Dp(e,Gp)),new av(e,(t=>nv(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vo=e}(pr),ur(new en("firestore",((e,n)=>{let{instanceIdentifier:r,options:a}=n;const i=e.getProvider("app").getImmediate(),s=new Gp(new Ro(e.getProvider("auth-internal")),new Uo(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Io(_o.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),yr(fo,po,e),yr(fo,po,"esm2017")}();yr("firebase","11.9.1","app");const cv="firebasestorage.googleapis.com",uv="storageBucket";class dv extends qt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(fv(e),"Firebase Storage: ".concat(t," (").concat(fv(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dv.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var hv,mv;function fv(e){return"storage/"+e}function pv(){return new dv(hv.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gv(){return new dv(hv.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vv(){return new dv(hv.CANCELED,"User canceled the upload/download.")}function yv(){return new dv(hv.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bv(e){return new dv(hv.INVALID_ARGUMENT,e)}function xv(){return new dv(hv.APP_DELETED,"The Firebase app was deleted.")}function wv(e,t){return new dv(hv.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Nv(e){throw new dv(hv.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(hv||(hv={}));class jv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=jv.makeFromUrl(e,t)}catch(Yb){return new jv(e,"")}if(""===n.path)return n;throw r=e,new dv(hv.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const a=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===cv?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let a=r[t.indices.path];a||(a=""),n=new jv(e,a),t.postModify(n);break}}if(null==n)throw function(e){return new dv(hv.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class kv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Cv(e){return"string"===typeof e||e instanceof String}function Sv(e){return Ev()&&e instanceof Blob}function Ev(){return"undefined"!==typeof Blob}function _v(e,t,n,r){if(r<t)throw bv("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw bv("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Iv(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Tv(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Av(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return n||r||a}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(mv||(mv={}));class Pv{constructor(e,t,n,r,a,i,s,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=i,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Dv(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===mv.NO_ERROR,a=n.getStatus();if(!t||Av(a,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===mv.ABORT;return void e(!1,new Dv(!1,null,t))}const i=-1!==this.successCodes_.indexOf(a);e(!0,new Dv(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,a=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(a,a.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Yb){r(Yb)}else if(null!==a){const e=pv();e.serverResponse=a.getErrorText(),this.errorCallback_?r(this.errorCallback_(a,e)):r(e)}else if(t.canceled){r(this.appDelete_?xv():vv())}else{r(gv())}};this.canceled_?t(0,new Dv(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,a=null,i=null,s=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){a=setTimeout((()=>{a=null,e(m,l())}),t)}function h(){i&&clearTimeout(i)}function m(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function p(e){f||(f=!0,h(),c||(null!==a?(e||(o=2),clearTimeout(a),d(0)):e||(o=1)))}return d(0),i=setTimeout((()=>{s=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Dv{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Rv(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ov(){const e=Rv();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ev())return new Blob(n);throw new dv(hv.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Lv(e){if("undefined"===typeof atob)throw t="base-64",new dv(hv.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Fv="raw",Uv="base64",Mv="base64url",Vv="data_url";class zv{constructor(e,t){this.data=e,this.contentType=t||null}}function Bv(e,t){switch(e){case Fv:return new zv(qv(t));case Uv:case Mv:return new zv(Hv(e,t));case Vv:return new zv(function(e){const t=new Wv(e);return t.base64?Hv(Uv,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Yb){throw wv(Vv,"Malformed data URL.")}return qv(t)}(t.rest)}(t),new Wv(t).contentType)}throw pv()}function qv(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Hv(e,t){switch(e){case Uv:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw wv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Mv:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw wv(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Lv(t)}catch(Yb){if(Yb.message.includes("polyfill"))throw Yb;throw wv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class Wv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw wv(Vv,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Kv{constructor(e,t){let n=0,r="";Sv(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Sv(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Kv(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Kv(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ev()){const e=t.map((e=>e instanceof Kv?e.data_:e));return new Kv(Ov.apply(null,e))}{const e=t.map((e=>Cv(e)?Bv(Fv,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let a=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[a++]=e[t]})),new Kv(r,!0)}}uploadData(){return this.data_}}function Gv(e){let t;try{t=JSON.parse(e)}catch(Yb){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Qv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Yv(e,t){return t}class Xv{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Yv}}let $v=null;function Jv(){if($v)return $v;const e=[];e.push(new Xv("bucket")),e.push(new Xv("generation")),e.push(new Xv("metageneration")),e.push(new Xv("name","fullPath",!0));const t=new Xv("name");t.xform=function(e,t){return function(e){return!Cv(e)||e.length<2?e:Qv(e)}(t)},e.push(t);const n=new Xv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Xv("timeCreated")),e.push(new Xv("updated")),e.push(new Xv("md5Hash",null,!0)),e.push(new Xv("cacheControl",null,!0)),e.push(new Xv("contentDisposition",null,!0)),e.push(new Xv("contentEncoding",null,!0)),e.push(new Xv("contentLanguage",null,!0)),e.push(new Xv("contentType",null,!0)),e.push(new Xv("metadata","customMetadata",!0)),$v=e,$v}function Zv(e,t,n){const r={type:"file"},a=n.length;for(let i=0;i<a;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,a=new jv(n,r);return t._makeStorageReference(a)}})}(r,e),r}function ey(e,t,n){const r=Gv(t);if(null===r)return null;return Zv(e,r,n)}function ty(e,t){const n={},r=t.length;for(let a=0;a<r;a++){const r=t[a];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ny{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ry(e){if(!e)throw pv()}function ay(e,t){return function(n,r){const a=ey(e,r,t);return ry(null!==a),a}}function iy(e,t){return function(n,r){const a=ey(e,r,t);return ry(null!==a),function(e,t,n,r){const a=Gv(t);if(null===a)return null;if(!Cv(a.downloadTokens))return null;const i=a.downloadTokens;if(0===i.length)return null;const s=encodeURIComponent;return i.split(",").map((t=>{const a=e.bucket,i=e.fullPath;return Iv("/b/"+s(a)+"/o/"+s(i),n,r)+Tv({alt:"media",token:t})}))[0]}(a,r,e.host,e._protocol)}}function sy(e){return function(t,n){let r;var a,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new dv(hv.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new dv(hv.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new dv(hv.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(a=e.path,r=new dv(hv.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function oy(e){const t=sy(e);return function(n,r){let a=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,a=new dv(hv.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ly(e,t,n){const r=Iv(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new ny(r,"GET",ay(e,n),a);return i.errorHandler=oy(t),i}function cy(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function uy(e,t,n,r,a){const i=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+o;const l=cy(t,r,a),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ty(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Kv.getBlob(c,r,u);if(null===d)throw yv();const h={name:l.fullPath},m=Iv(i,e.host,e._protocol),f=e.maxUploadRetryTime,p=new ny(m,"POST",ay(e,n),f);return p.urlParams=h,p.headers=s,p.body=d.uploadData(),p.errorHandler=sy(t),p}class dy{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function hy(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Yb){ry(!1)}return ry(!!n&&-1!==(t||["active"]).indexOf(n)),n}const my=262144;function fy(e,t,n,r,a,i,s,o){const l=new dy(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new dv(hv.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;a>0&&(u=Math.min(u,a));const d=l.current,h=d+u;let m="";m=0===u?"finalize":c===u?"upload, finalize":"upload";const f={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":"".concat(l.current)},p=r.slice(d,h);if(null===p)throw yv();const g=t.maxUploadRetryTime,v=new ny(n,"POST",(function(e,n){const a=hy(e,["active","final"]),s=l.current+u,o=r.size();let c;return c="final"===a?ay(t,i)(e,n):null,new dy(s,o,"final"===a,c)}),g);return v.headers=f,v.body=p.uploadData(),v.progressCallback=o||null,v.errorHandler=sy(e),v}const py="running",gy="paused",vy="success",yy="canceled",by="error";function xy(e){switch(e){case"running":case"pausing":case"canceling":return py;case"paused":return gy;case"success":return vy;case"canceled":return yy;default:return by}}class wy{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Ny(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class jy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mv.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=mv.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=mv.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r,a){if(this.sent_)throw Nv("cannot .send() more than once");if(Dt(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Yb){return-1}}getResponse(){if(!this.sent_)throw Nv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ky extends jy{initXhr(){this.xhr_.responseType="text"}}function Cy(){return new ky}class Sy{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Jv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(hv.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Av(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=gv()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(hv.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,a){const i=t.bucketOnlyServerUrl(),s=cy(t,r,a),o={name:s.fullPath},l=Iv(i,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=ty(s,n),d=e.maxUploadRetryTime,h=new ny(l,"POST",(function(e){let t;hy(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Yb){ry(!1)}return ry(Cv(t)),t}),d);return h.urlParams=o,h.headers=c,h.body=u,h.errorHandler=sy(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Cy,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const a=e.maxUploadRetryTime,i=new ny(n,"POST",(function(e){const t=hy(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Yb){ry(!1)}n||ry(!1);const a=Number(n);return ry(!isNaN(a)),new dy(a,r.size(),"final"===t)}),a);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=sy(t),i}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,Cy,t,n);this._request=a,a.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=my*this._chunkMultiplier,t=new dy(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,a)=>{let i;try{i=fy(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(Yb){return this._error=Yb,void this._transition("error")}const s=this._ref.storage._makeRequest(i,Cy,r,a,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(my*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=ly(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Cy,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=uy(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Cy,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=vv(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=xy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const a=new wy(t||void 0,n||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(xy(this._state)){case vy:Ny(this._resolve.bind(null,this.snapshot))();break;case yy:case by:Ny(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(xy(this._state)){case py:case gy:e.next&&Ny(e.next.bind(e,this.snapshot))();break;case vy:e.complete&&Ny(e.complete.bind(e))();break;default:e.error&&Ny(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ey{constructor(e,t){this._service=e,this._location=t instanceof jv?t:jv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ey(e,t)}get root(){const e=new jv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new jv(this._location.bucket,e);return new Ey(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new dv(hv.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function _y(e,t,n){e._throwIfRoot("uploadBytes");const r=uy(e.storage,e._location,Jv(),new Kv(t,!0),n);return e.storage.makeRequestWithTokens(r,Cy).then((t=>({metadata:t,ref:e})))}function Iy(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Iv(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new ny(r,"GET",iy(e,n),a);return i.errorHandler=oy(t),i}(e.storage,e._location,Jv());return e.storage.makeRequestWithTokens(t,Cy).then((e=>{if(null===e)throw new dv(hv.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ty(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Iv(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,a=new ny(n,"DELETE",(function(e,t){}),r);return a.successCodes=[200,204],a.errorHandler=oy(t),a}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Cy)}function Ay(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new jv(e._location.bucket,n);return new Ey(e.storage,r)}function Py(e,t){if(e instanceof Oy){const n=e;if(null==n._bucket)throw new dv(hv.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uv+"' property when initializing the app?");const r=new Ey(n,n._bucket);return null!=t?Py(r,t):r}return void 0!==t?Ay(e,t):e}function Dy(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Oy)return new Ey(e,t);throw bv("To use ref(service, url), the first argument must be a Storage instance.")}return Py(e,t)}function Ry(e,t){const n=null===t||void 0===t?void 0:t[uv];return null==n?null:jv.makeFromBucketSpec(n,e)}class Oy{constructor(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=i,this._bucket=null,this._host=cv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?jv.makeFromBucketSpec(r,this._host):Ry(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=jv.makeFromBucketSpec(this._url,e):this._bucket=Ry(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_v("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_v("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ey(this,e)}_makeRequest(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new kv(xv());{const i=function(e,t,n,r,a,i){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Tv(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Pv(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,s,o)}(e,this._appId,n,r,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Ly="@firebase/storage",Fy="0.13.13",Uy="storage";function My(e,t,n){return _y(e=Zt(e),t,n)}function Vy(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Sy(e,new Kv(t),n)}(e=Zt(e),t,n)}function zy(e){return Iy(e=Zt(e))}function By(e){return Ty(e=Zt(e))}function qy(e,t){return Dy(e=Zt(e),t)}function Hy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr(),t=arguments.length>1?arguments[1]:void 0;e=Zt(e);const n=dr(e,Uy).getImmediate({identifier:t}),r=It("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const a=Dt(t);a&&(Rt("https://".concat(e.host,"/b")),Ut("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ot(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Wy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Oy(r,a,i,n,pr)}ur(new en(Uy,Wy,"PUBLIC").setMultipleInstances(!0)),yr(Ly,Fy,""),yr(Ly,Fy,"esm2017");const Ky=gr({apiKey:"AIzaSyAOFbpbOwdren9NlNtWvRVyf4DsDf9-2H4",authDomain:"procart-8d2f6.firebaseapp.com",projectId:"procart-8d2f6",storageBucket:"procart-8d2f6.firebasestorage.app",messagingSenderId:"1026838026898",appId:"1:1026838026898:web:56b3889e347862ca37a44b",measurementId:"G-RW7V299RPY"}),Gy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();const t=dr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=dr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Kt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Or(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ks,persistence:[ns,Li,zi]}),r=At("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Xs)return;const r=null===t||void 0===t?void 0:t.token;$s!==r&&($s=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Zt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Zt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var a;const i=_t("auth");return i&&ni(n,"http://".concat(i)),n}(Ky),Qy=Qp(Ky),Yy=Hy(Ky);var Xy=n(579);const $y=(0,e.createContext)();function Jy(){return(0,e.useContext)($y)}function Zy(t){let{children:n}=t;const[r,a]=(0,e.useState)(null),[i,s]=(0,e.useState)(!0);(0,e.useEffect)((()=>{const e=function(e,t,n,r){return Zt(e).onAuthStateChanged(t,n,r)}(Gy,(e=>{a(e),s(!1)}));return e}),[]);const o={currentUser:r,signup:async function(e,t,n){try{const r=await async function(e,t,n){if(hr(e.app))return Promise.reject(Ur(e));const r=Ha(e),a=ei(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ni,"EMAIL_PASSWORD_PROVIDER"),i=await a.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ai(e),t})),s=await ji._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(Gy,e,t);return await $g(Bp(Qy,"users",r.user.uid),l(l({},n),{},{email:e,createdAt:sv()})),r}catch(r){throw r}},login:function(e,t){return function(e,t,n){return hr(e.app)?Promise.reject(Ur(e)):Ti(Zt(e),pi.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ai(e),t}))}(Gy,e,t)},logout:function(){return function(e){return Zt(e).signOut()}(Gy)},loading:i};return(0,Xy.jsx)($y.Provider,{value:o,children:!i&&n})}const eb=function(e){let{isOpen:t,closeSidebar:n,mode:r="default"}=e;const a=he(),i=ce(),s=(()=>{const e=[{path:"/dashboard",icon:"fas fa-th-large",label:"Dashboard"},{path:"/users",icon:"fas fa-users",label:"Users"},{path:"/add-user",icon:"fas fa-user-plus",label:"Add User"},{path:"/profile",icon:"fas fa-user-circle",label:"Profile"},{path:"/settings",icon:"fas fa-cog",label:"Settings"}],t=[{path:"/dashboard",icon:"fas fa-th-large",label:"Dashboard"},{path:"/manage-banner",icon:"fas fa-image",label:"Manage Banner"},{path:"/create-items",icon:"fas fa-plus-circle",label:"Create Items"},{path:"/manage-items",icon:"fas fa-boxes",label:"Manage Items"},{path:"/manage-footer",icon:"fas fa-shoe-prints",label:"Manage Footer"}],n=[{path:"/dashboard",icon:"fas fa-th-large",label:"Dashboard"},{path:"/orders",icon:"fas fa-shopping-cart",label:"Orders"},{path:"/delivery",icon:"fas fa-truck",label:"Delivery"},{path:"/users",icon:"fas fa-users",label:"Users"},{path:"/customer-support",icon:"fas fa-headset",label:"Customer Support"},{path:"/reports",icon:"fas fa-chart-bar",label:"Reports"}],a=[{path:"/dashboard",icon:"fas fa-th-large",label:"Dashboard"},{path:"/model-banner",icon:"fas fa-images",label:"Create Model Banner"},{path:"/manage-modals",icon:"fas fa-window-restore",label:"Create Modals"},{path:"/live-hackathons",icon:"fas fa-laptop-code",label:"Create Live Hackathons"},{path:"/featured-products",icon:"fas fa-star",label:"Featured Products"},{path:"/electronics-lab-kit",icon:"fas fa-microchip",label:"Electronics Lab Kit"}];switch(r){case"items":return t;case"orders":return n;case"designHouse":return a;default:return e}})();return(0,Xy.jsxs)("div",{className:"sidebar ".concat(t?"open":""),children:[(0,Xy.jsxs)("div",{className:"sidebar-header",children:[(0,Xy.jsx)("h2",{children:"ProCart"}),(0,Xy.jsx)("button",{className:"sidebar-close",onClick:n,children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]}),(0,Xy.jsx)("div",{className:"sidebar-menu",children:s.map(((e,t)=>{return(0,Xy.jsxs)("div",{className:"menu-item ".concat((r=e.path,i.pathname===r?"active":"")),onClick:()=>(e=>{a(e),window.innerWidth<=992&&n()})(e.path),children:[(0,Xy.jsx)("i",{className:e.icon})," ",e.label]},t);var r}))})]})};const tb=function(t){let{toggleSidebar:n}=t;const{currentUser:r,logout:a}=Jy(),[i,s]=(0,e.useState)(!1),o=he();return(0,Xy.jsxs)("div",{className:"header",children:[(0,Xy.jsx)("button",{onClick:n,className:"toggle-menu",children:(0,Xy.jsx)("i",{className:"fas fa-bars"})}),(0,Xy.jsx)("div",{className:"header-right",children:(0,Xy.jsxs)("div",{className:"admin-profile",onClick:()=>{s(!i)},children:[(0,Xy.jsx)("div",{className:"admin-avatar",children:(l=r,l&&l.email?l.email.charAt(0).toUpperCase():"A")}),(0,Xy.jsx)("div",{className:"admin-name",children:null===r||void 0===r?void 0:r.email}),(0,Xy.jsx)("i",{className:"fas fa-chevron-down dropdown-icon"}),i&&(0,Xy.jsxs)("div",{className:"dropdown-menu",children:[(0,Xy.jsxs)(mt,{to:"/profile",className:"dropdown-item",children:[(0,Xy.jsx)("i",{className:"fas fa-user-circle"})," Profile"]}),(0,Xy.jsxs)(mt,{to:"/settings",className:"dropdown-item",children:[(0,Xy.jsx)("i",{className:"fas fa-cog"})," Settings"]}),(0,Xy.jsxs)("a",{href:"#",onClick:async()=>{try{await a(),o("/login")}catch(e){console.error("Error signing out:",e)}},className:"dropdown-item",children:[(0,Xy.jsx)("i",{className:"fas fa-sign-out-alt"})," Sign Out"]})]})]})})]});var l};const nb=function(){const[t,n]=(0,e.useState)(""),[r,a]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),[o,l]=(0,e.useState)(!1),{login:c}=Jy(),u=he();return(0,Xy.jsx)("div",{className:"login-container",children:(0,Xy.jsxs)("div",{className:"login-card",children:[(0,Xy.jsx)("div",{className:"login-logo",children:(0,Xy.jsx)("h1",{children:"ProCart Admin"})}),(0,Xy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t&&r)try{s(""),l(!0),await c(t,r),u("/dashboard")}catch(n){console.error("Login error:",n),s("Failed to sign in. Please check your credentials.")}finally{l(!1)}else s("Please enter both email and password")},children:[(0,Xy.jsxs)("div",{className:"login-form-group",children:[(0,Xy.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Xy.jsx)("input",{type:"email",id:"email",className:"login-input",value:t,onChange:e=>n(e.target.value),placeholder:"Enter your email"})]}),(0,Xy.jsxs)("div",{className:"login-form-group",children:[(0,Xy.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Xy.jsx)("input",{type:"password",id:"password",className:"login-input",value:r,onChange:e=>a(e.target.value),placeholder:"Enter your password"})]}),i&&(0,Xy.jsx)("div",{className:"login-error",children:i}),(0,Xy.jsx)("button",{type:"submit",className:"login-btn",disabled:o,children:o?"Signing in...":"Sign In"})]})]})})};const rb=function(t){let{setMode:n}=t;const r=he(),[a,i]=(0,e.useState)({users:0,orders:0,products:0,revenue:0,hackathons:0,featuredProducts:0}),[s,o]=(0,e.useState)({users:!0,orders:!0,products:!0,revenue:!0,hackathons:!0,featuredProducts:!0});(0,e.useEffect)((()=>{(async()=>{try{const e=Pg(zp(Qy,"users")),t=await Xg(e);i((e=>l(l({},e),{},{users:t.size})))}catch(e){console.error("Error fetching users:",e)}finally{o((e=>l(l({},e),{},{users:!1})))}})();const e=tv(zp(Qy,"users"),(e=>{i((t=>l(l({},t),{},{users:e.size}))),o((e=>l(l({},e),{},{users:!1})))}),(e=>{console.error("Error in users listener:",e),o((e=>l(l({},e),{},{users:!1})))}));return()=>e()}),[]),(0,e.useEffect)((()=>{(async()=>{try{const e=Pg(zp(Qy,"orders")),t=await Xg(e);i((e=>l(l({},e),{},{orders:t.size})));let n=0;t.forEach((e=>{const t=e.data();t.totalAmount&&(n+=t.totalAmount)})),i((e=>l(l({},e),{},{revenue:n})))}catch(e){console.error("Error fetching orders:",e)}finally{o((e=>l(l({},e),{},{orders:!1,revenue:!1})))}})();const e=tv(zp(Qy,"orders"),(e=>{i((t=>l(l({},t),{},{orders:e.size})));let t=0;e.forEach((e=>{const n=e.data();n.totalAmount&&(t+=n.totalAmount)})),i((e=>l(l({},e),{},{revenue:t}))),o((e=>l(l({},e),{},{orders:!1,revenue:!1})))}),(e=>{console.error("Error in orders listener:",e),o((e=>l(l({},e),{},{orders:!1,revenue:!1})))}));return()=>e()}),[]),(0,e.useEffect)((()=>{(async()=>{try{const e=Pg(zp(Qy,"categoryItems")),t=await Xg(e);i((e=>l(l({},e),{},{products:t.size})))}catch(e){console.error("Error fetching products:",e)}finally{o((e=>l(l({},e),{},{products:!1})))}})();const e=tv(zp(Qy,"categoryItems"),(e=>{i((t=>l(l({},t),{},{products:e.size}))),o((e=>l(l({},e),{},{products:!1})))}),(e=>{console.error("Error in products listener:",e),o((e=>l(l({},e),{},{products:!1})))}));return()=>e()}),[]),(0,e.useEffect)((()=>{(async()=>{try{const e=Pg(zp(Qy,"liveHackathons")),t=await Xg(e);i((e=>l(l({},e),{},{hackathons:t.size})))}catch(e){console.error("Error fetching hackathons:",e)}finally{o((e=>l(l({},e),{},{hackathons:!1})))}})();const e=tv(zp(Qy,"liveHackathons"),(e=>{i((t=>l(l({},t),{},{hackathons:e.size}))),o((e=>l(l({},e),{},{hackathons:!1})))}),(e=>{console.error("Error in hackathons listener:",e),o((e=>l(l({},e),{},{hackathons:!1})))}));return()=>e()}),[]),(0,e.useEffect)((()=>{(async()=>{try{const e=Pg(zp(Qy,"featuredProducts")),t=await Xg(e);i((e=>l(l({},e),{},{featuredProducts:t.size})))}catch(e){console.error("Error fetching featured products:",e)}finally{o((e=>l(l({},e),{},{featuredProducts:!1})))}})();const e=tv(zp(Qy,"featuredProducts"),(e=>{i((t=>l(l({},t),{},{featuredProducts:e.size}))),o((e=>l(l({},e),{},{featuredProducts:!1})))}),(e=>{console.error("Error in featured products listener:",e),o((e=>l(l({},e),{},{featuredProducts:!1})))}));return()=>e()}),[]);const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(e),t&&r(t)};return(0,Xy.jsxs)("div",{className:"content",children:[(0,Xy.jsx)("h1",{className:"page-title",children:"Dashboard"}),(0,Xy.jsxs)("div",{className:"dashboard-cards",children:[(0,Xy.jsxs)("div",{className:"card stats-card",children:[(0,Xy.jsx)("div",{className:"stats-icon primary",children:(0,Xy.jsx)("i",{className:"fas fa-users"})}),(0,Xy.jsxs)("div",{className:"stats-info",children:[s.users?(0,Xy.jsx)("div",{className:"loading-spinner-small"}):(0,Xy.jsx)("h3",{children:a.users}),(0,Xy.jsx)("p",{children:"Total Users"})]})]}),(0,Xy.jsxs)("div",{className:"card stats-card",children:[(0,Xy.jsx)("div",{className:"stats-icon success",children:(0,Xy.jsx)("i",{className:"fas fa-shopping-cart"})}),(0,Xy.jsxs)("div",{className:"stats-info",children:[s.orders?(0,Xy.jsx)("div",{className:"loading-spinner-small"}):(0,Xy.jsx)("h3",{children:a.orders}),(0,Xy.jsx)("p",{children:"Orders"})]})]}),(0,Xy.jsxs)("div",{className:"card stats-card",children:[(0,Xy.jsx)("div",{className:"stats-icon info",children:(0,Xy.jsx)("i",{className:"fas fa-rupee-sign"})}),(0,Xy.jsxs)("div",{className:"stats-info",children:[s.revenue?(0,Xy.jsx)("div",{className:"loading-spinner-small"}):(0,Xy.jsx)("h3",{children:(u=a.revenue,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(u))}),(0,Xy.jsx)("p",{children:"Revenue"})]})]})]}),(0,Xy.jsxs)("div",{className:"management-buttons",children:[(0,Xy.jsxs)("button",{className:"manage-btn btn-primary",onClick:()=>c("items","/manage-items"),children:[(0,Xy.jsx)("i",{className:"fas fa-boxes mr-2"})," Manage Items"]}),(0,Xy.jsxs)("button",{className:"manage-btn btn-success",onClick:()=>c("orders","/orders"),children:[(0,Xy.jsx)("i",{className:"fas fa-shopping-cart mr-2"})," Manage Orders"]}),(0,Xy.jsxs)("button",{className:"manage-btn btn-warning",onClick:()=>c("designHouse","/model-banner"),children:[(0,Xy.jsx)("i",{className:"fas fa-microchip mr-2"})," Manage Design House"]})]})]});var u};const ab=function(){const[t,n]=(0,e.useState)([]),[r,a]=(0,e.useState)(!0),[i,s]=(0,e.useState)(""),[o,c]=(0,e.useState)("");(0,e.useEffect)((()=>{u()}),[]);const u=async()=>{try{a(!0);const e=(await Xg(zp(Qy,"users"))).docs.map((e=>l({id:e.id},e.data())));n(e)}catch(e){console.error("Error fetching users:",e),s("Failed to load users. Please try again.")}finally{a(!1)}},d=t.filter((e=>{var t,n,r;const a=o.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(a))||(null===(r=e.role)||void 0===r?void 0:r.toLowerCase().includes(a))}));return(0,Xy.jsxs)("div",{className:"content",children:[(0,Xy.jsxs)("div",{className:"users-header",children:[(0,Xy.jsx)("h1",{className:"page-title",children:"Users Management"}),(0,Xy.jsxs)(mt,{to:"/add-user",className:"add-user-btn",children:[(0,Xy.jsx)("i",{className:"fas fa-plus"})," Add New User"]})]}),(0,Xy.jsxs)("div",{className:"card",children:[(0,Xy.jsx)("div",{className:"users-toolbar",children:(0,Xy.jsxs)("div",{className:"search-box",children:[(0,Xy.jsx)("i",{className:"fas fa-search search-icon"}),(0,Xy.jsx)("input",{type:"text",placeholder:"Search users...",value:o,onChange:e=>c(e.target.value),className:"search-input"})]})}),i&&(0,Xy.jsx)("div",{className:"alert alert-danger",children:i}),r?(0,Xy.jsx)("div",{className:"loading",children:"Loading users..."}):(0,Xy.jsx)("div",{className:"table-container",children:(0,Xy.jsxs)("table",{className:"data-table users-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"User"}),(0,Xy.jsx)("th",{children:"Email"}),(0,Xy.jsx)("th",{children:"Role"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:d.length>0?d.map((e=>{var r,a;return(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{children:(0,Xy.jsxs)("div",{className:"user-info",children:[(0,Xy.jsx)("div",{className:"user-avatar",children:(null===(r=e.name)||void 0===r?void 0:r.charAt(0))||(null===(a=e.email)||void 0===a?void 0:a.charAt(0).toUpperCase())}),(0,Xy.jsx)("span",{children:e.name||"N/A"})]})}),(0,Xy.jsx)("td",{children:e.email}),(0,Xy.jsx)("td",{children:e.role||"User"}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"status-badge ".concat("Active"===e.status?"badge-success":"badge-pending"),children:e.status||"Active"})}),(0,Xy.jsx)("td",{children:(0,Xy.jsxs)("div",{className:"table-actions",children:[(0,Xy.jsx)(mt,{to:"/users/".concat(e.id),className:"action-btn edit-btn",children:(0,Xy.jsx)("i",{className:"fas fa-edit"})}),(0,Xy.jsx)("button",{className:"action-btn delete-btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await Zg(Bp(Qy,"users",e)),n(t.filter((t=>t.id!==e)))}catch(r){console.error("Error deleting user:",r),s("Failed to delete user. Please try again.")}})(e.id),children:(0,Xy.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id)})):(0,Xy.jsx)("tr",{children:(0,Xy.jsx)("td",{colSpan:"5",className:"no-data",children:o?"No users match your search":"No users found"})})})]})})]})]})};const ib=function(){const[t,n]=(0,e.useState)({name:"",email:"",password:"",confirmPassword:"",role:"User",status:"Active"}),[r,a]=(0,e.useState)(!1),[i,s]=(0,e.useState)(""),[o,c]=(0,e.useState)(""),{signup:u}=Jy(),d=he(),h=e=>{const{name:r,value:a}=e.target;n(l(l({},t),{},{[r]:a}))};return(0,Xy.jsxs)("div",{className:"content",children:[(0,Xy.jsx)("h1",{className:"page-title",children:"Add New User"}),(0,Xy.jsxs)("div",{className:"card form-card",children:[(0,Xy.jsx)("h2",{className:"form-title",children:"User Information"}),i&&(0,Xy.jsxs)("div",{className:"alert alert-danger",children:[(0,Xy.jsx)("i",{className:"fas fa-exclamation-circle"})," ",i]}),o&&(0,Xy.jsxs)("div",{className:"alert alert-success",children:[(0,Xy.jsx)("i",{className:"fas fa-check-circle"})," ",o]}),(0,Xy.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{name:r,email:i,password:o,confirmPassword:l,role:h,status:m}=t;if(r&&i&&o&&l)if(o===l)if(o.length<6)s("Password should be at least 6 characters");else try{a(!0),s("");const e={name:r,role:h,status:m};await u(i,o,e),c("User created successfully!"),n({name:"",email:"",password:"",confirmPassword:"",role:"User",status:"Active"}),setTimeout((()=>{d("/users")}),2e3)}catch(f){console.error("Error creating user:",f),s(f.message||"Failed to create user")}finally{a(!1)}else s("Passwords do not match");else s("Please fill in all required fields")},children:[(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsxs)("label",{htmlFor:"name",children:["Full Name",(0,Xy.jsx)("span",{className:"required",children:"*"})]}),(0,Xy.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:t.name,onChange:h,placeholder:"Enter full name"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsxs)("label",{htmlFor:"email",children:["Email",(0,Xy.jsx)("span",{className:"required",children:"*"})]}),(0,Xy.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",value:t.email,onChange:h,placeholder:"Enter email address"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsxs)("label",{htmlFor:"password",children:["Password",(0,Xy.jsx)("span",{className:"required",children:"*"})]}),(0,Xy.jsx)("input",{type:"password",id:"password",name:"password",className:"form-control",value:t.password,onChange:h,placeholder:"Enter password"}),(0,Xy.jsx)("small",{className:"form-text",children:"Password must be at least 6 characters"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsxs)("label",{htmlFor:"confirmPassword",children:["Confirm Password",(0,Xy.jsx)("span",{className:"required",children:"*"})]}),(0,Xy.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"form-control",value:t.confirmPassword,onChange:h,placeholder:"Confirm password"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"role",children:"Role"}),(0,Xy.jsxs)("select",{id:"role",name:"role",className:"form-control",value:t.role,onChange:h,children:[(0,Xy.jsx)("option",{value:"Admin",children:"Admin"}),(0,Xy.jsx)("option",{value:"User",children:"User"})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"status",children:"Status"}),(0,Xy.jsxs)("select",{id:"status",name:"status",className:"form-control",value:t.status,onChange:h,children:[(0,Xy.jsx)("option",{value:"Active",children:"Active"}),(0,Xy.jsx)("option",{value:"Inactive",children:"Inactive"})]})]})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d("/users")},children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?"Creating...":"Create User"})]})]})]})]})},sb=()=>{const[t,n]=(0,e.useState)([]),[r,a]=(0,e.useState)(!0),[i,s]=(0,e.useState)("add"),[o,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(null),[h,m]=(0,e.useState)(null),[f,p]=(0,e.useState)(0),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)({title:"",highlightText:"",description:"",active:!0,imageUrl:"",features:[{icon:"\u26a1",text:"Genuine Products"},{icon:"\ud83d\ude9a",text:"Fast Delivery"},{icon:"\u2b50",text:"Expert Support"}],badge:{icon:"\u26a1",text:"Latest Tech Components"},primaryButtonText:"Shop Now",secondaryButtonText:"Watch Demo"}),[x,w]=(0,e.useState)([{icon:"\ud83d\udd27",text:"Arduino & IoT"},{icon:"\u26a1",text:"Smart Sensors"},{icon:"\ud83d\udd0c",text:"Components"}]);(0,e.useEffect)((()=>{N()}),[]);const N=async()=>{try{a(!0);const e=Pg(zp(Qy,"banners"),Fg("createdAt","desc")),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));n(t)}catch(e){console.error("Error fetching banners:",e),alert("Failed to load banners. Please check your connection and try again.")}finally{a(!1)}},j=e=>{const{name:t,value:n,type:r,checked:a}=e.target;b(l(l({},y),{},{[t]:"checkbox"===r?a:n}))},k=(e,t)=>{b(l(l({},y),{},{badge:l(l({},y.badge),{},{[e]:t})}))},C=(e,t,n)=>{const r=[...x];r[e][t]=n,w(r)},S=async()=>{if(!u)return null;v(!0),p(0);try{const e=Vy(qy(Yy,"banners/".concat(Date.now(),"_").concat(u.name)),u);return new Promise(((t,n)=>{e.on("state_changed",(e=>{const t=Math.round(e.bytesTransferred/e.totalBytes*100);p(t)}),(e=>{console.error("Error uploading image:",e),v(!1),n(e)}),(async()=>{const n=await zy(e.snapshot.ref);v(!1),t(n)}))}))}catch(e){return console.error("Error in upload process:",e),v(!1),null}},E=async e=>{if(e&&e.startsWith("https://firebasestorage.googleapis.com"))try{const t=qy(Yy,e);await By(t)}catch(t){console.error("Error deleting image:",t)}},_=()=>{s("add"),c(null),d(null),m(null),p(0),b({title:"",highlightText:"",description:"",active:!0,imageUrl:"",features:[{icon:"\u26a1",text:"Genuine Products"},{icon:"\ud83d\ude9a",text:"Fast Delivery"},{icon:"\u2b50",text:"Expert Support"}],badge:{icon:"\u26a1",text:"Latest Tech Components"},primaryButtonText:"Shop Now",secondaryButtonText:"Watch Demo"}),w([{icon:"\ud83d\udd27",text:"Arduino & IoT"},{icon:"\u26a1",text:"Smart Sensors"},{icon:"\ud83d\udd0c",text:"Components"}])};return(0,Xy.jsxs)("div",{className:"content",children:[(0,Xy.jsx)("h1",{className:"page-title",children:"Banner Management"}),(0,Xy.jsxs)("div",{className:"card form-card",children:[(0,Xy.jsx)("h2",{children:"add"===i?"Add New Banner":"Edit Banner"}),(0,Xy.jsxs)("form",{onSubmit:"add"===i?async e=>{e.preventDefault();try{let e=y.imageUrl;if(u&&(e=await S(),!e))return void alert("Failed to upload image. Please try again.");const t=l(l({},y),{},{floatingCards:x,imageUrl:e,createdAt:sv(),updatedAt:sv()});console.log("Adding new banner with data:",t),await ev(zp(Qy,"banners"),t),_(),N(),alert("Banner added successfully!")}catch(t){console.error("Error adding banner:",t),alert("Failed to add banner. Please try again.")}}:async e=>{if(e.preventDefault(),o)try{let e=y.imageUrl;if(u&&(e&&e.startsWith("https://firebasestorage.googleapis.com")&&await E(e),e=await S(),!e))return void alert("Failed to upload image. Please try again.");const t=l(l({},y),{},{floatingCards:x,imageUrl:e,updatedAt:sv()});console.log("Updating banner with data:",t);const n=Bp(Qy,"banners",o);await Jg(n,t),_(),N(),alert("Banner updated successfully!")}catch(t){console.error("Error updating banner:",t),alert("Failed to update banner. Please try again.")}},children:[(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Banner Content"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Banner Title"}),(0,Xy.jsx)("input",{type:"text",name:"title",value:y.title,onChange:j,placeholder:"Power Your Innovation with Premium Electronics",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Highlight Text (will be colored differently)"}),(0,Xy.jsx)("input",{type:"text",name:"highlightText",value:y.highlightText,onChange:j,placeholder:"Innovation"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Description"}),(0,Xy.jsx)("textarea",{name:"description",value:y.description,onChange:j,placeholder:"Discover cutting-edge Arduino boards, sensors, components and development tools...",rows:"3",required:!0})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Banner Image"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Banner Image"}),(0,Xy.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:e=>{const t=e.target.files[0];if(t){const e=5242880;if(!["image/jpeg","image/png","image/webp","image/gif"].includes(t.type))return void alert("Please select a valid image file (JPEG, PNG, WEBP, or GIF)");if(t.size>e)return void alert("Image size should be less than 5MB");d(t);const n=URL.createObjectURL(t);m(n)}}}),g&&(0,Xy.jsxs)("div",{className:"upload-progress",children:[(0,Xy.jsx)("div",{className:"progress-bar",style:{width:"".concat(f,"%")}}),(0,Xy.jsxs)("span",{children:[f,"%"]})]}),h&&(0,Xy.jsx)("div",{className:"image-preview",children:(0,Xy.jsx)("img",{src:h,alt:"Banner Preview"})})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Badge"}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Badge Icon"}),(0,Xy.jsx)("input",{type:"text",value:y.badge.icon,onChange:e=>k("icon",e.target.value),placeholder:"\u26a1"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Badge Text"}),(0,Xy.jsx)("input",{type:"text",value:y.badge.text,onChange:e=>k("text",e.target.value),placeholder:"Latest Tech Components"})]})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Features"}),y.features.map(((e,t)=>(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group quarter",children:[(0,Xy.jsxs)("label",{children:["Icon ",t+1]}),(0,Xy.jsx)("input",{type:"text",value:e.icon,onChange:e=>((e,t)=>{const n=[...y.features];n[e].icon=t,b(l(l({},y),{},{features:n}))})(t,e.target.value),placeholder:"\u26a1"})]}),(0,Xy.jsxs)("div",{className:"form-group three-quarters",children:[(0,Xy.jsxs)("label",{children:["Text ",t+1]}),(0,Xy.jsx)("input",{type:"text",value:e.text,onChange:e=>((e,t)=>{const n=[...y.features];n[e].text=t,b(l(l({},y),{},{features:n}))})(t,e.target.value),placeholder:"Feature description"})]})]},t)))]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Floating Cards"}),x.map(((e,t)=>(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group quarter",children:[(0,Xy.jsxs)("label",{children:["Icon ",t+1]}),(0,Xy.jsx)("input",{type:"text",value:e.icon,onChange:e=>C(t,"icon",e.target.value),placeholder:"\ud83d\udd27"})]}),(0,Xy.jsxs)("div",{className:"form-group three-quarters",children:[(0,Xy.jsxs)("label",{children:["Text ",t+1]}),(0,Xy.jsx)("input",{type:"text",value:e.text,onChange:e=>C(t,"text",e.target.value),placeholder:"Arduino & IoT"})]})]},t)))]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Buttons"}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Primary Button Text"}),(0,Xy.jsx)("input",{type:"text",name:"primaryButtonText",value:y.primaryButtonText,onChange:j,placeholder:"Shop Now"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Secondary Button Text"}),(0,Xy.jsx)("input",{type:"text",name:"secondaryButtonText",value:y.secondaryButtonText,onChange:j,placeholder:"Watch Demo"})]})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Status"}),(0,Xy.jsx)("div",{className:"form-group",children:(0,Xy.jsxs)("div",{className:"checkbox-container",children:[(0,Xy.jsx)("input",{type:"checkbox",name:"active",id:"active",checked:y.active,onChange:j}),(0,Xy.jsx)("label",{htmlFor:"active",children:"Active (visible on website)"})]})})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsx)("button",{type:"button",className:"cancel-btn",onClick:_,children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"submit-btn",disabled:g,children:"add"===i?"Add Banner":"Update Banner"})]})]})]}),(0,Xy.jsxs)("div",{className:"card table-card",children:[(0,Xy.jsx)("h2",{children:"Existing Banners"}),r?(0,Xy.jsx)("div",{className:"loading",children:"Loading banners..."}):(0,Xy.jsx)("div",{className:"banners-list",children:t.length>0?t.map((e=>(0,Xy.jsxs)("div",{className:"banner-item",children:[(0,Xy.jsx)("div",{className:"banner-preview",children:e.imageUrl?(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.title}):(0,Xy.jsx)("div",{className:"no-image",children:"No Image"})}),(0,Xy.jsxs)("div",{className:"banner-details",children:[(0,Xy.jsx)("h3",{children:e.title||"Untitled Banner"}),(0,Xy.jsx)("p",{children:e.description||"No description"}),(0,Xy.jsx)("div",{className:"status-badge",children:(0,Xy.jsx)("span",{className:e.active?"active":"inactive",children:e.active?"Active":"Inactive"})})]}),(0,Xy.jsxs)("div",{className:"banner-actions",children:[(0,Xy.jsx)("button",{className:"status-toggle-btn ".concat(e.active?"deactivate":"activate"),onClick:()=>(async(e,t)=>{try{const n=Bp(Qy,"banners",e);await Jg(n,{active:!t,updatedAt:sv()}),console.log("Banner ".concat(e," ").concat(t?"deactivated":"activated")),N()}catch(n){console.error("Error toggling banner status:",n),alert("Failed to update banner status. Please try again.")}})(e.id,e.active),children:e.active?"Deactivate":"Activate"}),(0,Xy.jsxs)("button",{className:"edit-btn",onClick:()=>(e=>{s("edit"),c(e.id),b({title:e.title||"",highlightText:e.highlightText||"",description:e.description||"",active:void 0===e.active||e.active,imageUrl:e.imageUrl||"",features:e.features||[{icon:"\u26a1",text:"Genuine Products"},{icon:"\ud83d\ude9a",text:"Fast Delivery"},{icon:"\u2b50",text:"Expert Support"}],badge:e.badge||{icon:"\u26a1",text:"Latest Tech Components"},primaryButtonText:e.primaryButtonText||"Shop Now",secondaryButtonText:e.secondaryButtonText||"Watch Demo"}),w(e.floatingCards||[{icon:"\ud83d\udd27",text:"Arduino & IoT"},{icon:"\u26a1",text:"Smart Sensors"},{icon:"\ud83d\udd0c",text:"Components"}]),m(e.imageUrl),window.scrollTo({top:0,behavior:"smooth"})})(e),children:[(0,Xy.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,Xy.jsxs)("button",{className:"delete-btn",onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete this banner?"))try{await Zg(Bp(Qy,"banners",e)),t&&t.startsWith("https://firebasestorage.googleapis.com")&&await E(t),N(),alert("Banner deleted successfully!")}catch(n){console.error("Error deleting banner:",n),alert("Failed to delete banner. Please try again.")}})(e.id,e.imageUrl),children:[(0,Xy.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]},e.id))):(0,Xy.jsx)("div",{className:"no-data",children:"No banners found. Add your first banner above."})})]})]})},ob=e=>{let{itemData:t,itemType:n}=e;const r=(()=>{let e={};switch(n){case"trending":e={Microcontroller:t.microcontroller||"","Operating Voltage":t.operatingVoltage||"","Input Voltage (Recommended)":t.inputVoltageRecommended||"","Input Voltage (Limits)":t.inputVoltageLimits||"","Digital I/O Pins":t.digitalIOPins||"","Analog Input Pins":t.analogInputPins||"","PWM Channels":t.pwmChannels||"","Clock Speed":t.clockSpeed||"","Flash Memory":t.flashMemory||"",SRAM:t.sram||"",EEPROM:t.eeprom||"","USB Interface":t.usbInterface||"","Communication Interfaces":t.communicationInterfaces||"",Dimensions:t.dimensions||"",Weight:t.weight||"","Operating Temperature":t.operatingTemperature||"","Power Consumption":t.powerConsumption||"","LED Indicators":t.ledIndicators||""};break;case"categories":e={"Category Name":t.name||"",Description:t.description||"",Status:t.active?"Active":"Inactive"};break;case"categoryItems":e={"Category Name":t.categoryName||"","Item Name":t.name||"","Original Price":t.originalPrice?"\u20b9".concat(parseFloat(t.originalPrice).toFixed(2)):"",Discount:t.discountPercentage?"".concat(parseFloat(t.discountPercentage).toFixed(2),"%"):"","Selling Price":t.price?"\u20b9".concat(parseFloat(t.price).toFixed(2)):"",Material:t.material||"",Dimensions:t.dimensions||"",Weight:t.weight||"",Warranty:t.warranty||"","Delivery Speed":t.deliverySpeed?t.deliverySpeed.charAt(0).toUpperCase()+t.deliverySpeed.slice(1):""};break;default:return{}}const r=Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return n&&""!==n.trim()})));return t.customSpecifications&&t.customSpecifications.length>0&&t.customSpecifications.forEach((e=>{e.title&&e.value&&(r[e.title]=e.value)})),r})();return(0,Xy.jsxs)("div",{className:"card spec-card",children:[(0,Xy.jsxs)("h2",{children:["Specifications of ",t.name||"Uploaded Item"]}),Object.keys(r).length>0?(0,Xy.jsx)("table",{className:"spec-table",children:(0,Xy.jsx)("tbody",{children:Object.entries(r).map((e=>{let[t,n]=e;return(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{className:"spec-name",children:t}),(0,Xy.jsx)("td",{className:"spec-value",children:n})]},t)}))})}):(0,Xy.jsx)("p",{className:"no-specs-message",children:"No specifications added yet"}),t.packagePoints&&t.packagePoints.length>0&&(0,Xy.jsxs)("div",{className:"package-points-section",children:[(0,Xy.jsx)("h3",{children:"Package Contents"}),(0,Xy.jsx)("ul",{className:"package-points-list",children:t.packagePoints.map(((e,t)=>(0,Xy.jsx)("li",{children:e},t)))})]}),t.keyFeatures&&t.keyFeatures.length>0&&(0,Xy.jsxs)("div",{className:"package-points-section",children:[(0,Xy.jsx)("h3",{children:"Key Features"}),(0,Xy.jsx)("ul",{className:"package-points-list",children:t.keyFeatures.map(((e,t)=>(0,Xy.jsx)("li",{children:e},t)))})]}),t.applications&&t.applications.length>0&&(0,Xy.jsxs)("div",{className:"package-points-section",children:[(0,Xy.jsx)("h3",{children:"Applications"}),(0,Xy.jsx)("ul",{className:"package-points-list",children:t.applications.map(((e,t)=>(0,Xy.jsx)("li",{children:e},t)))})]})]})},lb=()=>{const t=he(),n=ce(),r=new URLSearchParams(n.search),a=r.get("mode"),i=r.get("edit"),[s,o]=(0,e.useState)(a||"trending"),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)([]),[m,f]=(0,e.useState)([]),[p,g]=(0,e.useState)(!0),[v,y]=(0,e.useState)("add"),[b,x]=(0,e.useState)(null),[w,N]=(0,e.useState)(null),[j,k]=(0,e.useState)(null),[C,S]=(0,e.useState)(0),[E,_]=(0,e.useState)(!1),[I,T]=(0,e.useState)([]),[A,P]=(0,e.useState)([]),[D,R]=(0,e.useState)([]),[O,L]=(0,e.useState)([]),[F,U]=(0,e.useState)({name:"",price:"",originalPrice:"",discountPercentage:0,description:"",fullDescription:"",microcontroller:"",operatingVoltage:"",inputVoltageRecommended:"",inputVoltageLimits:"",digitalIOPins:"",analogInputPins:"",pwmChannels:"",clockSpeed:"",flashMemory:"",sram:"",eeprom:"",usbInterface:"",communicationInterfaces:"",dimensions:"",weight:"",operatingTemperature:"",powerConsumption:"",ledIndicators:"",material:"",warranty:"",projectUsages:["","","",""],deliverySpeed:"normal",isQuick:!0,active:!0,imageUrl:"",customSpecifications:[],packagePoints:[],keyFeatures:[],applications:[]}),[M,V]=(0,e.useState)({name:"",description:"",active:!0,imageUrl:"",customSpecifications:[],packagePoints:[],keyFeatures:[],applications:[]}),[z,B]=(0,e.useState)({categoryId:"",categoryName:"",name:"",price:"",originalPrice:"",discountPercentage:0,description:"",fullDescription:"",microcontroller:"",operatingVoltage:"",inputVoltageRecommended:"",inputVoltageLimits:"",digitalIOPins:"",analogInputPins:"",pwmChannels:"",clockSpeed:"",flashMemory:"",sram:"",eeprom:"",usbInterface:"",communicationInterfaces:"",dimensions:"",weight:"",operatingTemperature:"",powerConsumption:"",ledIndicators:"",material:"",warranty:"",deliverySpeed:"normal",active:!0,imageUrl:"",customSpecifications:[],packagePoints:[],keyFeatures:[],applications:[]});(0,e.useEffect)((()=>{q(),i&&a&&H(i,a)}),[]),(0,e.useEffect)((()=>{q()}),[s]),(0,e.useEffect)((()=>{"categoryItems"===s&&K()}),[s]);const q=async()=>{switch(s){case"trending":default:W();break;case"categories":K();break;case"categoryItems":G(),K()}},H=async(e,t)=>{try{let n;switch(g(!0),y("edit"),x(e),t){case"trending":default:n="products";break;case"categories":n="categories";break;case"categoryItems":n="categoryItems"}const r=await Qg(Bp(Qy,n,e));if(r.exists()){const e=r.data();switch(t){case"trending":let t=Array.isArray(e.projectUsages)?[...e.projectUsages]:[];for(;t.length<4;)t.push("");U(l(l({},e),{},{projectUsages:t,price:e.price||""})),T(e.customSpecifications||[]),P(e.packagePoints||[]),R(e.keyFeatures||[]),L(e.applications||[]);break;case"categories":V(e),T(e.customSpecifications||[]),P(e.packagePoints||[]),R(e.keyFeatures||[]),L(e.applications||[]);break;case"categoryItems":B(l(l({},e),{},{price:e.price||""})),T(e.customSpecifications||[]),P(e.packagePoints||[]),R(e.keyFeatures||[]),L(e.applications||[])}k(e.imageUrl)}}catch(n){console.error("Error loading ".concat(t," for edit:"),n),alert("Failed to load ".concat(t," for editing. Please try again."))}finally{g(!1)}},W=async()=>{try{g(!0);const e=Pg(zp(Qy,"products"),Fg("createdAt","desc")),t=await Xg(e);u(t.docs.map((e=>l({id:e.id},e.data()))))}catch(e){console.error("Error fetching products:",e),alert("Failed to load products. Please check your connection and try again.")}finally{g(!1)}},K=async()=>{try{g(!0);const e=Pg(zp(Qy,"categories"),Fg("createdAt","desc")),t=await Xg(e);h(t.docs.map((e=>l({id:e.id},e.data()))))}catch(e){console.error("Error fetching categories:",e),alert("Failed to load categories. Please check your connection and try again.")}finally{g(!1)}},G=async()=>{try{g(!0);const e=Pg(zp(Qy,"categoryItems"),Fg("createdAt","desc")),t=await Xg(e);f(t.docs.map((e=>l({id:e.id},e.data()))))}catch(e){console.error("Error fetching category items:",e),alert("Failed to load category items. Please check your connection and try again.")}finally{g(!1)}},Q=()=>{T([...I,{title:"",value:""}])},Y=(e,t,n)=>{const r=[...I];r[e][t]=n,T(r)},X=()=>{P([...A,""])},$=()=>{R([...D,""])},J=()=>{L([...O,""])},Z=e=>{if(!e)return[];return e.split("\n").map((e=>e.replace(/^[\u2022\u25cf\-\*]\s*/,"").replace(/^\d+\.\s*/,"").trim())).filter((e=>e.length>0))},ee=e=>{const t=e.target.value,n=Z(t);n.length>0&&(R(n),e.target.value="")},te=e=>{const t=e.target.value,n=Z(t);n.length>0&&(L(n),e.target.value="")},ne=e=>{const{name:t,value:n,type:r,checked:a}=e.target;U((e=>{const i=l(l({},e),{},{[t]:"checkbox"===r?a:"price"!==t&&"originalPrice"!==t&&"discountPercentage"!==t||""===n?n:parseFloat(n)});if("originalPrice"===t||"discountPercentage"===t){const r="originalPrice"===t?parseFloat(n)||0:e.originalPrice||0,a="discountPercentage"===t?parseFloat(n)||0:e.discountPercentage||0;r>0&&(i.price=(r-r*a/100).toFixed(2))}return i}))},re=e=>{const{name:t,value:n,type:r,checked:a}=e.target;V((e=>l(l({},e),{},{[t]:"checkbox"===r?a:n})))},ae=e=>{const{name:t,value:n,type:r,checked:a}=e.target;B((e=>{var i;const s=l(l({},e),{},{[t]:"checkbox"===r?a:"price"!==t&&"originalPrice"!==t&&"discountPercentage"!==t||""===n?n:parseFloat(n)},"categoryId"===t&&{categoryName:(null===(i=d.find((e=>e.id===n)))||void 0===i?void 0:i.name)||""});if("originalPrice"===t||"discountPercentage"===t){const r="originalPrice"===t?parseFloat(n)||0:e.originalPrice||0,a="discountPercentage"===t?parseFloat(n)||0:e.discountPercentage||0;r>0&&(s.price=(r-r*a/100).toFixed(2))}return s}))},ie=function(e){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"product"){case"product":U((t=>l(l({},t),{},{[e]:""})));break;case"category":V((t=>l(l({},t),{},{[e]:""})));break;case"categoryItem":B((t=>l(l({},t),{},{[e]:""})))}},se=e=>{const t=e.target.files[0];t&&(N(t),k(URL.createObjectURL(t)))},oe=async()=>{if(!w)return null;_(!0),S(0);try{const e=Vy(qy(Yy,"".concat(s,"/").concat(Date.now(),"_").concat(w.name)),w);return new Promise((t=>{e.on("state_changed",(e=>{S(Math.round(e.bytesTransferred/e.totalBytes*100))}),(e=>{console.error("Error uploading image:",e),_(!1)}),(async()=>{const n=await zy(e.snapshot.ref);_(!1),t(n)}))}))}catch(e){return console.error("Error in upload process:",e),_(!1),null}},le=async e=>{if(e&&e.startsWith("https://firebasestorage.googleapis.com"))try{await By(qy(Yy,e))}catch(t){console.error("Error deleting image:",t)}},ue=async e=>{if(e.preventDefault(),!F.name.trim()||isNaN(F.price))return alert("Please enter valid product details");try{let e=await oe();const t=l(l({},F),{},{price:parseFloat(F.price),originalPrice:parseFloat(F.originalPrice)||parseFloat(F.price),discountPercentage:parseFloat(F.discountPercentage)||0,projectUsages:F.projectUsages.filter((e=>""!==e.trim())),isQuick:"quick"===F.deliverySpeed,imageUrl:e||F.imageUrl,customSpecifications:I.filter((e=>""!==e.title.trim()&&""!==e.value.trim())),packagePoints:A.filter((e=>""!==e.trim())),keyFeatures:D.filter((e=>""!==e.trim())),applications:O.filter((e=>""!==e.trim())),createdAt:sv(),updatedAt:sv()});await ev(zp(Qy,"products"),t),pe(),W(),alert("Product added successfully!")}catch(t){console.error("Error adding product:",t),alert("Failed to add product. Please try again.")}},de=async(e,t,n)=>{if(window.confirm("Are you sure you want to delete this ".concat("trending"===n?"product":"categories"===n?"category":"category item","?")))try{if("categories"===n){const t=Pg(zp(Qy,"categoryItems"),Rg("categoryId","==",e)),n=await Xg(t);if(!n.empty){if(!window.confirm("This category has ".concat(n.size," items. Deleting it will also delete all associated items. Continue?")))return;const e=lv(Qy);n.docs.forEach((t=>{e.delete(t.ref),le(t.data().imageUrl)})),await e.commit()}}await Zg(Bp(Qy,"trending"===n?"products":"categories"===n?"categories":"categoryItems",e)),await le(t),"trending"===n?W():"categories"===n?K():G(),alert("".concat(n.charAt(0).toUpperCase()+n.slice(1)," deleted successfully!"))}catch(r){console.error("Error deleting ".concat(n,":"),r),alert("Failed to delete ".concat(n,". Please try again."))}},me=async(e,t,n)=>{try{await Jg(Bp(Qy,"trending"===n?"products":"categories"===n?"categories":"categoryItems",e),{active:!t,updatedAt:sv()}),"trending"===n?W():"categories"===n?K():G()}catch(r){console.error("Error toggling item status:",r),alert("Failed to update item status. Please try again.")}},fe=(e,t)=>{if(y("edit"),x(e.id),"trending"===t){let t=Array.isArray(e.projectUsages)?[...e.projectUsages]:[];for(;t.length<4;)t.push("");U(l(l({},e),{},{projectUsages:t}))}else"categories"===t?V(e):B(e);T(e.customSpecifications||[]),P(e.packagePoints||[]),R(e.keyFeatures||[]),L(e.applications||[]),k(e.imageUrl),window.scrollTo({top:0,behavior:"smooth"})},pe=()=>{y("add"),x(null),N(null),k(null),S(0),T([]),P([]),R([]),L([]),U({name:"",price:"",originalPrice:"",discountPercentage:0,description:"",fullDescription:"",microcontroller:"",operatingVoltage:"",inputVoltageRecommended:"",inputVoltageLimits:"",digitalIOPins:"",analogInputPins:"",pwmChannels:"",clockSpeed:"",flashMemory:"",sram:"",eeprom:"",usbInterface:"",communicationInterfaces:"",dimensions:"",weight:"",operatingTemperature:"",powerConsumption:"",ledIndicators:"",material:"",warranty:"",projectUsages:["","","",""],deliverySpeed:"normal",isQuick:!0,active:!0,imageUrl:""})},ge=()=>{y("add"),x(null),N(null),k(null),S(0),T([]),P([]),R([]),L([]),V({name:"",description:"",active:!0,imageUrl:""})},ve=()=>{y("add"),x(null),N(null),k(null),S(0),T([]),P([]),R([]),L([]),B({categoryId:"",categoryName:"",name:"",price:"",originalPrice:"",discountPercentage:0,description:"",fullDescription:"",microcontroller:"",operatingVoltage:"",inputVoltageRecommended:"",inputVoltageLimits:"",digitalIOPins:"",analogInputPins:"",pwmChannels:"",clockSpeed:"",flashMemory:"",sram:"",eeprom:"",usbInterface:"",communicationInterfaces:"",dimensions:"",weight:"",operatingTemperature:"",powerConsumption:"",ledIndicators:"",material:"",warranty:"",deliverySpeed:"normal",active:!0,imageUrl:""})},ye=()=>{switch(s){case"trending":default:pe();break;case"categories":ge();break;case"categoryItems":ve()}},be=e=>{switch(e.preventDefault(),s){case"trending":"add"===v?ue(e):(async e=>{if(e.preventDefault(),!b||!F.name.trim()||isNaN(F.price))return alert("Please enter valid product details");try{let e=F.imageUrl;w&&(await le(e),e=await oe());const t=l(l({},F),{},{price:parseFloat(F.price),originalPrice:parseFloat(F.originalPrice)||parseFloat(F.price),discountPercentage:parseFloat(F.discountPercentage)||0,projectUsages:F.projectUsages.filter((e=>""!==e.trim())),isQuick:"quick"===F.deliverySpeed,imageUrl:e||F.imageUrl,customSpecifications:I.filter((e=>""!==e.title.trim()&&""!==e.value.trim())),packagePoints:A.filter((e=>""!==e.trim())),keyFeatures:D.filter((e=>""!==e.trim())),applications:O.filter((e=>""!==e.trim())),updatedAt:sv()});await Jg(Bp(Qy,"products",b),t),pe(),W(),alert("Product updated successfully!")}catch(t){console.error("Error updating product:",t),alert("Failed to update product. Please try again.")}})(e);break;case"categories":"add"===v?(async e=>{if(e.preventDefault(),!M.name.trim())return alert("Please enter a category name");try{let e=await oe();const t=l(l({},M),{},{imageUrl:e||M.imageUrl,customSpecifications:I.filter((e=>""!==e.title.trim()&&""!==e.value.trim())),packagePoints:A.filter((e=>""!==e.trim())),keyFeatures:D.filter((e=>""!==e.trim())),applications:O.filter((e=>""!==e.trim())),createdAt:sv(),updatedAt:sv()});await ev(zp(Qy,"categories"),t),ge(),K(),alert("Category added successfully!")}catch(t){console.error("Error adding category:",t),alert("Failed to add category. Please try again.")}})(e):(async e=>{if(e.preventDefault(),!b||!M.name.trim())return alert("Please enter a category name");try{let e=M.imageUrl;w&&(await le(e),e=await oe());const t=l(l({},M),{},{imageUrl:e||M.imageUrl,customSpecifications:I.filter((e=>""!==e.title.trim()&&""!==e.value.trim())),packagePoints:A.filter((e=>""!==e.trim())),keyFeatures:D.filter((e=>""!==e.trim())),applications:O.filter((e=>""!==e.trim())),updatedAt:sv()}),n=Bp(Qy,"categories",b);await Jg(n,t);const r=lv(Qy),a=Pg(zp(Qy,"categoryItems"),Rg("categoryId","==",b));(await Xg(a)).docs.forEach((e=>r.update(e.ref,{categoryName:M.name,updatedAt:sv()}))),await r.commit(),ge(),K(),alert("Category updated successfully!")}catch(t){console.error("Error updating category:",t),alert("Failed to update category. Please try again.")}})(e);break;case"categoryItems":"add"===v?(async e=>{if(e.preventDefault(),!z.name.trim()||isNaN(z.price)||!z.categoryId)return alert("Please enter valid item details");try{let e=await oe();const t=l(l({},z),{},{price:parseFloat(z.price),originalPrice:parseFloat(z.originalPrice)||parseFloat(z.price),discountPercentage:parseFloat(z.discountPercentage)||0,isQuick:"quick"===z.deliverySpeed,imageUrl:e||z.imageUrl,customSpecifications:I.filter((e=>""!==e.title.trim()&&""!==e.value.trim())),packagePoints:A.filter((e=>""!==e.trim())),keyFeatures:D.filter((e=>""!==e.trim())),applications:O.filter((e=>""!==e.trim())),createdAt:sv(),updatedAt:sv()});await ev(zp(Qy,"categoryItems"),t),ve(),G(),alert("Category item added successfully!")}catch(t){console.error("Error adding category item:",t),alert("Failed to add category item. Please try again.")}})(e):(async e=>{if(e.preventDefault(),!b||!z.name.trim()||isNaN(z.price)||!z.categoryId)return alert("Please enter valid item details");try{let e=z.imageUrl;w&&(await le(e),e=await oe());const t=l(l({},z),{},{price:parseFloat(z.price),originalPrice:parseFloat(z.originalPrice)||parseFloat(z.price),discountPercentage:parseFloat(z.discountPercentage)||0,isQuick:"quick"===z.deliverySpeed,imageUrl:e||z.imageUrl,customSpecifications:I.filter((e=>""!==e.title.trim()&&""!==e.value.trim())),packagePoints:A.filter((e=>""!==e.trim())),keyFeatures:D.filter((e=>""!==e.trim())),applications:O.filter((e=>""!==e.trim())),updatedAt:sv()});await Jg(Bp(Qy,"categoryItems",b),t),ve(),G(),alert("Category item updated successfully!")}catch(t){console.error("Error updating category item:",t),alert("Failed to update category item. Please try again.")}})(e);break;default:ue(e)}},xe=e=>{ye(),o(e);const t=new URL(window.location);t.searchParams.set("mode",e),window.history.pushState({},"",t)},we=()=>t("/manage-items"),Ne=()=>(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsxs)("div",{className:"section-header",children:[(0,Xy.jsx)("h3",{children:"Custom Specifications"}),(0,Xy.jsxs)("button",{type:"button",className:"add-btn",onClick:Q,children:[(0,Xy.jsx)("i",{className:"fas fa-plus"})," Add Specification"]})]}),I.map(((e,t)=>(0,Xy.jsx)("div",{className:"custom-specification-row",children:(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsx)("div",{className:"form-group half",children:(0,Xy.jsx)("input",{type:"text",placeholder:"Specification Title",value:e.title,onChange:e=>Y(t,"title",e.target.value)})}),(0,Xy.jsx)("div",{className:"form-group half",children:(0,Xy.jsx)("input",{type:"text",placeholder:"Specification Value",value:e.value,onChange:e=>Y(t,"value",e.target.value)})}),(0,Xy.jsx)("button",{type:"button",className:"remove-btn",onClick:()=>(e=>{const t=[...I];t.splice(e,1),T(t)})(t),children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]})},t))),0===I.length&&(0,Xy.jsx)("p",{className:"no-items-text",children:"No custom specifications added yet"})]}),je=()=>(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsxs)("div",{className:"section-header",children:[(0,Xy.jsx)("h3",{children:"Package Contents"}),(0,Xy.jsxs)("button",{type:"button",className:"add-btn",onClick:X,children:[(0,Xy.jsx)("i",{className:"fas fa-plus"})," Add Package Item"]})]}),A.map(((e,t)=>(0,Xy.jsx)("div",{className:"package-point-row",children:(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group bullet-input",children:[(0,Xy.jsx)("i",{className:"fas fa-circle bullet-icon"}),(0,Xy.jsx)("input",{type:"text",placeholder:"Package item description",value:e,onChange:e=>((e,t)=>{const n=[...A];n[e]=t,P(n)})(t,e.target.value)})]}),(0,Xy.jsx)("button",{type:"button",className:"remove-btn",onClick:()=>(e=>{const t=[...A];t.splice(e,1),P(t)})(t),children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]})},t))),0===A.length&&(0,Xy.jsx)("p",{className:"no-items-text",children:"No package items added yet"})]}),ke=()=>(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsxs)("div",{className:"section-header",children:[(0,Xy.jsx)("h3",{children:"Key Features"}),(0,Xy.jsxs)("button",{type:"button",className:"add-btn",onClick:$,children:[(0,Xy.jsx)("i",{className:"fas fa-plus"})," Add Key Feature"]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsxs)("label",{className:"bulk-paste-label",children:[(0,Xy.jsx)("i",{className:"fas fa-paste"})," Bulk Paste (paste multiple features, each on a new line)"]}),(0,Xy.jsx)("textarea",{className:"bulk-paste-textarea",placeholder:"Paste multiple features here (with or without bullet points)...\n\u2022 Feature 1\n\u2022 Feature 2\n\u2022 Feature 3",rows:"4",onBlur:ee})]}),D.map(((e,t)=>(0,Xy.jsx)("div",{className:"package-point-row",children:(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group bullet-input",children:[(0,Xy.jsx)("i",{className:"fas fa-star bullet-icon"}),(0,Xy.jsx)("input",{type:"text",placeholder:"Key feature description",value:e,onChange:e=>((e,t)=>{const n=[...D];n[e]=t,R(n)})(t,e.target.value)})]}),(0,Xy.jsx)("button",{type:"button",className:"remove-btn",onClick:()=>(e=>{const t=[...D];t.splice(e,1),R(t)})(t),children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]})},t))),0===D.length&&(0,Xy.jsx)("p",{className:"no-items-text",children:"No key features added yet"})]}),Ce=()=>(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsxs)("div",{className:"section-header",children:[(0,Xy.jsx)("h3",{children:"Applications"}),(0,Xy.jsxs)("button",{type:"button",className:"add-btn",onClick:J,children:[(0,Xy.jsx)("i",{className:"fas fa-plus"})," Add Application"]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsxs)("label",{className:"bulk-paste-label",children:[(0,Xy.jsx)("i",{className:"fas fa-paste"})," Bulk Paste (paste multiple applications, each on a new line)"]}),(0,Xy.jsx)("textarea",{className:"bulk-paste-textarea",placeholder:"Paste multiple applications here (with or without bullet points)...\n\u2022 Application 1\n\u2022 Application 2\n\u2022 Application 3",rows:"4",onBlur:te})]}),O.map(((e,t)=>(0,Xy.jsx)("div",{className:"package-point-row",children:(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group bullet-input",children:[(0,Xy.jsx)("i",{className:"fas fa-lightbulb bullet-icon"}),(0,Xy.jsx)("input",{type:"text",placeholder:"Application description",value:e,onChange:e=>((e,t)=>{const n=[...O];n[e]=t,L(n)})(t,e.target.value)})]}),(0,Xy.jsx)("button",{type:"button",className:"remove-btn",onClick:()=>(e=>{const t=[...O];t.splice(e,1),L(t)})(t),children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]})},t))),0===O.length&&(0,Xy.jsx)("p",{className:"no-items-text",children:"No applications added yet"})]});return(0,Xy.jsxs)("div",{className:"content",children:[(0,Xy.jsx)("h1",{className:"page-title",children:"Create Items"}),(0,Xy.jsxs)("div",{className:"management-tabs",children:[(0,Xy.jsx)("button",{className:"tab-btn ".concat("trending"===s?"active":""),onClick:()=>xe("trending"),children:"Create Trending Components"}),(0,Xy.jsx)("button",{className:"tab-btn ".concat("categories"===s?"active":""),onClick:()=>xe("categories"),children:"Create Categories"}),(0,Xy.jsx)("button",{className:"tab-btn ".concat("categoryItems"===s?"active":""),onClick:()=>xe("categoryItems"),children:"Create Category Items"})]}),"trending"===s&&(0,Xy.jsxs)("div",{className:"card form-card",children:[(0,Xy.jsx)("h2",{children:"add"===v?"Add New Trending Component":"Edit Trending Component"}),(0,Xy.jsxs)("form",{onSubmit:be,children:[(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Basic Information"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Product Name"}),(0,Xy.jsx)("input",{type:"text",name:"name",value:F.name,onChange:ne,placeholder:"Arduino Uno R3",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Original Price (\u20b9)"}),(0,Xy.jsx)("input",{type:"number",name:"originalPrice",value:F.originalPrice,onChange:ne,placeholder:"500",step:"0.01",min:"0",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Discount Percentage (%)"}),(0,Xy.jsx)("input",{type:"number",name:"discountPercentage",value:F.discountPercentage,onChange:ne,placeholder:"10",step:"0.01",min:"0",max:"100"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Selling Price (\u20b9)"}),(0,Xy.jsx)("input",{type:"number",name:"price",value:F.price,onChange:ne,placeholder:"450",step:"0.01",min:"0",required:!0,readOnly:F.originalPrice&&F.discountPercentage>0,className:F.originalPrice&&F.discountPercentage>0?"calculated-price":""}),F.originalPrice&&F.discountPercentage>0&&(0,Xy.jsx)("small",{className:"price-info",children:"Calculated based on original price and discount"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Short Description"}),(0,Xy.jsx)("textarea",{name:"description",value:F.description,onChange:ne,placeholder:"The Arduino Uno is an open-source microcontroller board...",rows:"2",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Full Description"}),(0,Xy.jsx)("textarea",{name:"fullDescription",value:F.fullDescription,onChange:ne,placeholder:"Detailed product description...",rows:"4"})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Specifications"}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsxs)("label",{children:["Microcontroller",F.microcontroller&&(0,Xy.jsx)("button",{type:"button",className:"clear-field-btn",onClick:()=>ie("microcontroller","product"),title:"Clear field",children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]}),(0,Xy.jsx)("input",{type:"text",name:"microcontroller",value:F.microcontroller,onChange:ne,placeholder:"ATmega328P"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsxs)("label",{children:["Operating Voltage",F.operatingVoltage&&(0,Xy.jsx)("button",{type:"button",className:"clear-field-btn",onClick:()=>ie("operatingVoltage","product"),title:"Clear field",children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]}),(0,Xy.jsx)("input",{type:"text",name:"operatingVoltage",value:F.operatingVoltage,onChange:ne,placeholder:"5V"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Input Voltage (Recommended)"}),(0,Xy.jsx)("input",{type:"text",name:"inputVoltageRecommended",value:F.inputVoltageRecommended,onChange:ne,placeholder:"7-12V"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Input Voltage (Limits)"}),(0,Xy.jsx)("input",{type:"text",name:"inputVoltageLimits",value:F.inputVoltageLimits,onChange:ne,placeholder:"6-20V"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Digital I/O Pins"}),(0,Xy.jsx)("input",{type:"text",name:"digitalIOPins",value:F.digitalIOPins,onChange:ne,placeholder:"14 (6 PWM)"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Analog Input Pins"}),(0,Xy.jsx)("input",{type:"text",name:"analogInputPins",value:F.analogInputPins,onChange:ne,placeholder:"8 (A0 to A7)"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"PWM Channels"}),(0,Xy.jsx)("input",{type:"text",name:"pwmChannels",value:F.pwmChannels,onChange:ne,placeholder:"6"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Clock Speed"}),(0,Xy.jsx)("input",{type:"text",name:"clockSpeed",value:F.clockSpeed,onChange:ne,placeholder:"16 MHz"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Flash Memory"}),(0,Xy.jsx)("input",{type:"text",name:"flashMemory",value:F.flashMemory,onChange:ne,placeholder:"32 KB"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"SRAM"}),(0,Xy.jsx)("input",{type:"text",name:"sram",value:F.sram,onChange:ne,placeholder:"2 KB"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"EEPROM"}),(0,Xy.jsx)("input",{type:"text",name:"eeprom",value:F.eeprom,onChange:ne,placeholder:"1 KB"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"USB Interface"}),(0,Xy.jsx)("input",{type:"text",name:"usbInterface",value:F.usbInterface,onChange:ne,placeholder:"Mini USB"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Communication Interfaces"}),(0,Xy.jsx)("input",{type:"text",name:"communicationInterfaces",value:F.communicationInterfaces,onChange:ne,placeholder:"UART, SPI, I2C"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Dimensions"}),(0,Xy.jsx)("input",{type:"text",name:"dimensions",value:F.dimensions,onChange:ne,placeholder:"45mm x 18mm"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Weight"}),(0,Xy.jsx)("input",{type:"text",name:"weight",value:F.weight,onChange:ne,placeholder:"7 grams"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Operating Temperature"}),(0,Xy.jsx)("input",{type:"text",name:"operatingTemperature",value:F.operatingTemperature,onChange:ne,placeholder:"-40\xb0C to 85\xb0C"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Power Consumption"}),(0,Xy.jsx)("input",{type:"text",name:"powerConsumption",value:F.powerConsumption,onChange:ne,placeholder:"Low power with sleep modes"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"LED Indicators"}),(0,Xy.jsx)("input",{type:"text",name:"ledIndicators",value:F.ledIndicators,onChange:ne,placeholder:"Power LED, TX/RX LEDs"})]})]})]}),Ne(),je(),ke(),Ce(),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Product Image"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Product Image"}),(0,Xy.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:se}),E&&(0,Xy.jsxs)("div",{className:"upload-progress",children:[(0,Xy.jsx)("div",{className:"progress-bar",style:{width:"".concat(C,"%")}}),(0,Xy.jsxs)("span",{children:[C,"%"]})]}),j&&(0,Xy.jsx)("div",{className:"image-preview",children:(0,Xy.jsx)("img",{src:j,alt:"Product Preview"})})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Project Usages"}),F.projectUsages.map(((e,t)=>(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsxs)("label",{children:["Usage ",t+1]}),(0,Xy.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{U((n=>l(l({},n),{},{projectUsages:n.projectUsages.map(((n,r)=>r===e?t:n))})))})(t,e.target.value),placeholder:"Project usage example ".concat(t+1)})]},t)))]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Display Options"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Delivery Speed"}),(0,Xy.jsx)("div",{className:"delivery-speed-options",children:["quick","normal","late"].map((e=>(0,Xy.jsxs)("label",{className:"radio-container",children:[(0,Xy.jsx)("input",{type:"radio",name:"deliverySpeed",value:e,checked:F.deliverySpeed===e,onChange:ne}),(0,Xy.jsx)("span",{className:"radio-label",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)))})]}),(0,Xy.jsx)("div",{className:"form-group",children:(0,Xy.jsxs)("div",{className:"checkbox-container",children:[(0,Xy.jsx)("input",{type:"checkbox",name:"active",id:"active",checked:F.active,onChange:ne}),(0,Xy.jsx)("label",{htmlFor:"active",children:"Active (visible on website)"})]})})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsx)("button",{type:"button",className:"cancel-btn",onClick:ye,children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"submit-btn",disabled:E,children:"add"===v?"Add Product":"Update Product"})]})]}),"edit"===v&&(0,Xy.jsx)(ob,{itemData:l(l({},F),{},{customSpecifications:I,packagePoints:A,keyFeatures:D,applications:O}),itemType:"trending"})]}),"categories"===s&&(0,Xy.jsxs)("div",{className:"card form-card",children:[(0,Xy.jsx)("h2",{children:"add"===v?"Add New Category":"Edit Category"}),(0,Xy.jsxs)("form",{onSubmit:be,children:[(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Basic Information"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Category Name"}),(0,Xy.jsx)("input",{type:"text",name:"name",value:M.name,onChange:re,placeholder:"Microcontrollers",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Description"}),(0,Xy.jsx)("textarea",{name:"description",value:M.description,onChange:re,placeholder:"A collection of microcontroller boards...",rows:"3"})]}),(0,Xy.jsx)("div",{className:"form-group",children:(0,Xy.jsxs)("div",{className:"checkbox-container",children:[(0,Xy.jsx)("input",{type:"checkbox",name:"active",id:"categoryActive",checked:M.active,onChange:re}),(0,Xy.jsx)("label",{htmlFor:"categoryActive",children:"Active (visible on website)"})]})})]}),Ne(),je(),ke(),Ce(),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Category Image"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Category Image"}),(0,Xy.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:se}),E&&(0,Xy.jsxs)("div",{className:"upload-progress",children:[(0,Xy.jsx)("div",{className:"progress-bar",style:{width:"".concat(C,"%")}}),(0,Xy.jsxs)("span",{children:[C,"%"]})]}),j&&(0,Xy.jsx)("div",{className:"image-preview",children:(0,Xy.jsx)("img",{src:j,alt:"Category Preview"})})]})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsx)("button",{type:"button",className:"cancel-btn",onClick:ye,children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"submit-btn",disabled:E,children:"add"===v?"Add Category":"Update Category"})]})]}),"edit"===v&&(0,Xy.jsx)(ob,{itemData:l(l({},M),{},{customSpecifications:I,packagePoints:A,keyFeatures:D,applications:O}),itemType:"categories"})]}),"categoryItems"===s&&(0,Xy.jsxs)("div",{className:"card form-card",children:[(0,Xy.jsx)("h2",{children:"add"===v?"Add New Category Item":"Edit Category Item"}),(0,Xy.jsxs)("form",{onSubmit:be,children:[(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Category Selection"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Select Category"}),(0,Xy.jsxs)("select",{name:"categoryId",value:z.categoryId,onChange:ae,required:!0,children:[(0,Xy.jsx)("option",{value:"",children:"-- Select a Category --"}),d.map((e=>(0,Xy.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Basic Information"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Item Name"}),(0,Xy.jsx)("input",{type:"text",name:"name",value:z.name,onChange:ae,placeholder:"ESP32 Development Board",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Original Price (\u20b9)"}),(0,Xy.jsx)("input",{type:"number",name:"originalPrice",value:z.originalPrice,onChange:ae,placeholder:"500",step:"0.01",min:"0",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Discount Percentage (%)"}),(0,Xy.jsx)("input",{type:"number",name:"discountPercentage",value:z.discountPercentage,onChange:ae,placeholder:"10",step:"0.01",min:"0",max:"100"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Selling Price (\u20b9)"}),(0,Xy.jsx)("input",{type:"number",name:"price",value:z.price,onChange:ae,placeholder:"450",step:"0.01",min:"0",required:!0,readOnly:z.originalPrice&&z.discountPercentage>0,className:z.originalPrice&&z.discountPercentage>0?"calculated-price":""}),z.originalPrice&&z.discountPercentage>0&&(0,Xy.jsx)("small",{className:"price-info",children:"Calculated based on original price and discount"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Short Description"}),(0,Xy.jsx)("textarea",{name:"description",value:z.description,onChange:ae,placeholder:"ESP32 is a powerful, low-cost microcontroller...",rows:"2",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Full Description"}),(0,Xy.jsx)("textarea",{name:"fullDescription",value:z.fullDescription,onChange:ae,placeholder:"Detailed item description...",rows:"4"})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Item Image"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Item Image"}),(0,Xy.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:se}),E&&(0,Xy.jsxs)("div",{className:"upload-progress",children:[(0,Xy.jsx)("div",{className:"progress-bar",style:{width:"".concat(C,"%")}}),(0,Xy.jsxs)("span",{children:[C,"%"]})]}),j&&(0,Xy.jsx)("div",{className:"image-preview",children:(0,Xy.jsx)("img",{src:j,alt:"Item Preview"})})]})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Specifications"}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Microcontroller"}),(0,Xy.jsx)("input",{type:"text",name:"microcontroller",value:z.microcontroller,onChange:ae,placeholder:"ESP32"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Operating Voltage"}),(0,Xy.jsx)("input",{type:"text",name:"operatingVoltage",value:z.operatingVoltage,onChange:ae,placeholder:"3.3V"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Input Voltage (Recommended)"}),(0,Xy.jsx)("input",{type:"text",name:"inputVoltageRecommended",value:z.inputVoltageRecommended,onChange:ae,placeholder:"7-12V"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Input Voltage (Limits)"}),(0,Xy.jsx)("input",{type:"text",name:"inputVoltageLimits",value:z.inputVoltageLimits,onChange:ae,placeholder:"5-20V"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Digital I/O Pins"}),(0,Xy.jsx)("input",{type:"text",name:"digitalIOPins",value:z.digitalIOPins,onChange:ae,placeholder:"34"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Analog Input Pins"}),(0,Xy.jsx)("input",{type:"text",name:"analogInputPins",value:z.analogInputPins,onChange:ae,placeholder:"18"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"PWM Channels"}),(0,Xy.jsx)("input",{type:"text",name:"pwmChannels",value:z.pwmChannels,onChange:ae,placeholder:"16"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Clock Speed"}),(0,Xy.jsx)("input",{type:"text",name:"clockSpeed",value:z.clockSpeed,onChange:ae,placeholder:"240 MHz"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Flash Memory"}),(0,Xy.jsx)("input",{type:"text",name:"flashMemory",value:z.flashMemory,onChange:ae,placeholder:"4 MB"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"SRAM"}),(0,Xy.jsx)("input",{type:"text",name:"sram",value:z.sram,onChange:ae,placeholder:"520 KB"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"EEPROM"}),(0,Xy.jsx)("input",{type:"text",name:"eeprom",value:z.eeprom,onChange:ae,placeholder:"No dedicated EEPROM"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"USB Interface"}),(0,Xy.jsx)("input",{type:"text",name:"usbInterface",value:z.usbInterface,onChange:ae,placeholder:"USB-C"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Communication Interfaces"}),(0,Xy.jsx)("input",{type:"text",name:"communicationInterfaces",value:z.communicationInterfaces,onChange:ae,placeholder:"Wi-Fi, Bluetooth, UART, SPI, I2C"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Dimensions"}),(0,Xy.jsx)("input",{type:"text",name:"dimensions",value:z.dimensions,onChange:ae,placeholder:"60mm x 28mm x 13mm"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Weight"}),(0,Xy.jsx)("input",{type:"text",name:"weight",value:z.weight,onChange:ae,placeholder:"25g"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Operating Temperature"}),(0,Xy.jsx)("input",{type:"text",name:"operatingTemperature",value:z.operatingTemperature,onChange:ae,placeholder:"-40\xb0C to 85\xb0C"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Power Consumption"}),(0,Xy.jsx)("input",{type:"text",name:"powerConsumption",value:z.powerConsumption,onChange:ae,placeholder:"Variable, sleep modes available"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"LED Indicators"}),(0,Xy.jsx)("input",{type:"text",name:"ledIndicators",value:z.ledIndicators,onChange:ae,placeholder:"Power LED, Status LED"})]})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Material"}),(0,Xy.jsx)("input",{type:"text",name:"material",value:z.material,onChange:ae,placeholder:"High-grade PCB"})]}),(0,Xy.jsxs)("div",{className:"form-group half",children:[(0,Xy.jsx)("label",{children:"Warranty"}),(0,Xy.jsx)("input",{type:"text",name:"warranty",value:z.warranty,onChange:ae,placeholder:"1 year"})]})]})]}),Ne(),je(),ke(),Ce(),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsx)("h3",{children:"Display Options"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Delivery Speed"}),(0,Xy.jsx)("div",{className:"delivery-speed-options",children:["quick","normal","late"].map((e=>(0,Xy.jsxs)("label",{className:"radio-container",children:[(0,Xy.jsx)("input",{type:"radio",name:"deliverySpeed",value:e,checked:z.deliverySpeed===e,onChange:ae}),(0,Xy.jsx)("span",{className:"radio-label",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)))})]}),(0,Xy.jsx)("div",{className:"form-group",children:(0,Xy.jsxs)("div",{className:"checkbox-container",children:[(0,Xy.jsx)("input",{type:"checkbox",name:"active",id:"itemActive",checked:z.active,onChange:ae}),(0,Xy.jsx)("label",{htmlFor:"itemActive",children:"Active (visible on website)"})]})})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsx)("button",{type:"button",className:"cancel-btn",onClick:ye,children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"submit-btn",disabled:E,children:"add"===v?"Add Item":"Update Item"})]})]}),"edit"===v&&(0,Xy.jsx)(ob,{itemData:l(l({},z),{},{customSpecifications:I,packagePoints:A,keyFeatures:D,applications:O}),itemType:"categoryItems"})]}),(0,Xy.jsx)("div",{className:"view-all-section",children:(0,Xy.jsx)("button",{className:"view-all-btn",onClick:we,children:"View All Items"})}),"trending"===s&&(0,Xy.jsxs)("div",{className:"card table-card",children:[(0,Xy.jsx)("h2",{children:"Recently Added Trending Components"}),p?(0,Xy.jsx)("div",{className:"loading",children:"Loading products..."}):(0,Xy.jsxs)("div",{className:"products-list",children:[c.slice(0,3).map((e=>(0,Xy.jsxs)("div",{className:"product-item",children:[(0,Xy.jsx)("div",{className:"product-preview",children:e.imageUrl?(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.name}):(0,Xy.jsx)("div",{className:"no-image",children:"No Image"})}),(0,Xy.jsxs)("div",{className:"product-details",children:[(0,Xy.jsx)("h3",{children:e.name||"Untitled Product"}),(0,Xy.jsxs)("p",{className:"product-price",children:[e.originalPrice&&e.originalPrice>e.price?(0,Xy.jsxs)(Xy.Fragment,{children:[(0,Xy.jsxs)("span",{className:"original-price",children:["\u20b9",e.originalPrice.toFixed(2)]}),(0,Xy.jsxs)("span",{className:"discount-badge",children:["-",e.discountPercentage,"%"]})]}):null,(0,Xy.jsxs)("span",{className:"selling-price",children:["\u20b9",e.price?e.price.toFixed(2):"0.00"]})]}),(0,Xy.jsx)("p",{children:e.description||"No description"}),(0,Xy.jsxs)("div",{className:"status-badge",children:[(0,Xy.jsx)("span",{className:e.active?"active":"inactive",children:e.active?"Active":"Inactive"}),(0,Xy.jsx)("span",{className:"delivery-badge ".concat(e.deliverySpeed||"normal"),children:e.deliverySpeed?e.deliverySpeed.charAt(0).toUpperCase()+e.deliverySpeed.slice(1):"Normal"})]})]}),(0,Xy.jsxs)("div",{className:"product-actions",children:[(0,Xy.jsx)("button",{className:"status-toggle-btn ".concat(e.active?"deactivate":"activate"),onClick:()=>me(e.id,e.active,"trending"),children:e.active?"Deactivate":"Activate"}),(0,Xy.jsxs)("button",{className:"edit-btn",onClick:()=>fe(e,"trending"),children:[(0,Xy.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,Xy.jsxs)("button",{className:"delete-btn",onClick:()=>de(e.id,e.imageUrl,"trending"),children:[(0,Xy.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]},e.id))),c.length>3&&(0,Xy.jsx)("div",{className:"view-more",children:(0,Xy.jsxs)("button",{className:"view-more-btn",onClick:we,children:["View All Trending Components (",c.length,")"]})})]})]}),"categories"===s&&(0,Xy.jsxs)("div",{className:"card table-card",children:[(0,Xy.jsx)("h2",{children:"Recently Added Categories"}),p?(0,Xy.jsx)("div",{className:"loading",children:"Loading categories..."}):(0,Xy.jsxs)("div",{className:"categories-list",children:[d.slice(0,3).map((e=>(0,Xy.jsxs)("div",{className:"category-item",children:[(0,Xy.jsx)("div",{className:"category-preview",children:e.imageUrl?(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.name}):(0,Xy.jsx)("div",{className:"no-image",children:"No Image"})}),(0,Xy.jsxs)("div",{className:"category-details",children:[(0,Xy.jsx)("h3",{children:e.name||"Untitled Category"}),(0,Xy.jsx)("p",{children:e.description||"No description"}),(0,Xy.jsx)("div",{className:"status-badge",children:(0,Xy.jsx)("span",{className:e.active?"active":"inactive",children:e.active?"Active":"Inactive"})})]}),(0,Xy.jsxs)("div",{className:"category-actions",children:[(0,Xy.jsx)("button",{className:"status-toggle-btn ".concat(e.active?"deactivate":"activate"),onClick:()=>me(e.id,e.active,"categories"),children:e.active?"Deactivate":"Activate"}),(0,Xy.jsxs)("button",{className:"edit-btn",onClick:()=>fe(e,"categories"),children:[(0,Xy.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,Xy.jsxs)("button",{className:"delete-btn",onClick:()=>de(e.id,e.imageUrl,"categories"),children:[(0,Xy.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]},e.id))),d.length>3&&(0,Xy.jsx)("div",{className:"view-more",children:(0,Xy.jsxs)("button",{className:"view-more-btn",onClick:we,children:["View All Categories (",d.length,")"]})})]})]}),"categoryItems"===s&&(0,Xy.jsxs)("div",{className:"card table-card",children:[(0,Xy.jsx)("h2",{children:"Recently Added Category Items"}),p?(0,Xy.jsx)("div",{className:"loading",children:"Loading category items..."}):(0,Xy.jsxs)("div",{className:"category-items-list",children:[m.slice(0,3).map((e=>(0,Xy.jsxs)("div",{className:"category-item-row",children:[(0,Xy.jsx)("div",{className:"item-preview",children:e.imageUrl?(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.name}):(0,Xy.jsx)("div",{className:"no-image",children:"No Image"})}),(0,Xy.jsxs)("div",{className:"item-details",children:[(0,Xy.jsx)("h3",{children:e.name||"Untitled Item"}),(0,Xy.jsxs)("p",{className:"item-category",children:["Category: ",e.categoryName||"Unknown"]}),(0,Xy.jsxs)("p",{className:"item-price",children:[e.originalPrice&&e.originalPrice>e.price?(0,Xy.jsxs)(Xy.Fragment,{children:[(0,Xy.jsxs)("span",{className:"original-price",children:["\u20b9",e.originalPrice.toFixed(2)]}),(0,Xy.jsxs)("span",{className:"discount-badge",children:["-",e.discountPercentage,"%"]})]}):null,(0,Xy.jsxs)("span",{className:"selling-price",children:["\u20b9",e.price?e.price.toFixed(2):"0.00"]})]}),(0,Xy.jsx)("p",{children:e.description||"No description"}),(0,Xy.jsxs)("div",{className:"status-badge",children:[(0,Xy.jsx)("span",{className:e.active?"active":"inactive",children:e.active?"Active":"Inactive"}),(0,Xy.jsx)("span",{className:"delivery-badge ".concat(e.deliverySpeed||"normal"),children:e.deliverySpeed?e.deliverySpeed.charAt(0).toUpperCase()+e.deliverySpeed.slice(1):"Normal"})]})]}),(0,Xy.jsxs)("div",{className:"item-actions",children:[(0,Xy.jsx)("button",{className:"status-toggle-btn ".concat(e.active?"deactivate":"activate"),onClick:()=>me(e.id,e.active,"categoryItems"),children:e.active?"Deactivate":"Activate"}),(0,Xy.jsxs)("button",{className:"edit-btn",onClick:()=>fe(e,"categoryItems"),children:[(0,Xy.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,Xy.jsxs)("button",{className:"delete-btn",onClick:()=>de(e.id,e.imageUrl,"categoryItems"),children:[(0,Xy.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]},e.id))),m.length>3&&(0,Xy.jsx)("div",{className:"view-more",children:(0,Xy.jsxs)("button",{className:"view-more-btn",onClick:we,children:["View All Category Items (",m.length,")"]})})]})]})]})},cb=()=>{var t;const[n,r]=(0,e.useState)("trending"),[a,i]=(0,e.useState)([]),[s,o]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)("all"),[m,f]=(0,e.useState)(!0),[p,g]=(0,e.useState)(null),[v,y]=(0,e.useState)(null),b=he();(0,e.useEffect)((()=>{x()}),[n]),(0,e.useEffect)((()=>{"categoryItems"===n&&d&&j()}),[d]);const x=async()=>{switch(n){case"trending":default:w();break;case"categories":N();break;case"categoryItems":N(),j()}},w=async()=>{try{f(!0);const e=Pg(zp(Qy,"products"),Fg("createdAt","desc")),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));i(t)}catch(e){console.error("Error fetching products:",e),alert("Failed to load products. Please check your connection and try again.")}finally{f(!1)}},N=async()=>{try{f(!0);const e=Pg(zp(Qy,"categories"),Fg("createdAt","desc")),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));o(t)}catch(e){console.error("Error fetching categories:",e),alert("Failed to load categories. Please check your connection and try again.")}finally{f(!1)}},j=async()=>{try{let e;f(!0),e="all"===d?Pg(zp(Qy,"categoryItems"),Fg("createdAt","desc")):Pg(zp(Qy,"categoryItems"),Rg("categoryId","==",d),Fg("createdAt","desc"));const t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));u(t)}catch(e){console.error("Error fetching category items:",e),alert("Failed to load category items. Please check your connection and try again.")}finally{f(!1)}},k=async(e,t,n)=>{try{const r=Bp(Qy,"trending"===n?"products":"categories"===n?"categories":"categoryItems",e);await Jg(r,{active:!t,updatedAt:sv()}),x(),alert("Item ".concat(t?"deactivated":"activated"," successfully!"))}catch(r){console.error("Error toggling item status:",r),alert("Failed to update item status. Please try again.")}},C=async e=>{if(e&&e.startsWith("https://firebasestorage.googleapis.com"))try{const t=qy(Yy,e);await By(t)}catch(t){console.error("Error deleting image:",t)}},S=(e,t)=>{b("/create-items?edit=".concat(e,"&mode=").concat(t))},E=e=>{r(e),h("all")},_=(e,t)=>{y({item:e,type:t})},I=e=>{if(!e)return"N/A";try{return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return"Invalid date"}};return(0,Xy.jsxs)("div",{className:"content",children:[(0,Xy.jsx)("h1",{className:"page-title",children:"Manage Items"}),(0,Xy.jsxs)("div",{className:"management-tabs",children:[(0,Xy.jsx)("button",{className:"tab-btn ".concat("trending"===n?"active":""),onClick:()=>E("trending"),children:"Trending Components"}),(0,Xy.jsx)("button",{className:"tab-btn ".concat("categories"===n?"active":""),onClick:()=>E("categories"),children:"Categories"}),(0,Xy.jsx)("button",{className:"tab-btn ".concat("categoryItems"===n?"active":""),onClick:()=>E("categoryItems"),children:"Category Items"})]}),(0,Xy.jsxs)("div",{className:"action-buttons",children:[(0,Xy.jsxs)(mt,{to:"/create-items?mode=".concat(n),className:"add-new-btn",children:[(0,Xy.jsx)("i",{className:"fas fa-plus"})," Add New ","trending"===n?"Trending Component":"categories"===n?"Category":"Category Item"]}),"categoryItems"===n&&(0,Xy.jsxs)("div",{className:"category-filter",children:[(0,Xy.jsx)("label",{children:"Filter by Category:"}),(0,Xy.jsxs)("select",{value:d,onChange:e=>h(e.target.value),children:[(0,Xy.jsx)("option",{value:"all",children:"All Categories"}),s.map((e=>(0,Xy.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),"trending"===n&&(0,Xy.jsxs)("div",{className:"card table-card",children:[(0,Xy.jsx)("h2",{children:"Trending Components"}),m?(0,Xy.jsx)("div",{className:"loading",children:"Loading products..."}):(0,Xy.jsx)("div",{className:"items-table",children:(0,Xy.jsxs)("table",{children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Image"}),(0,Xy.jsx)("th",{children:"Name"}),(0,Xy.jsx)("th",{children:"Price"}),(0,Xy.jsx)("th",{children:"Description"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:a.length>0?a.map((e=>(0,Xy.jsxs)("tr",{className:e.active?"":"inactive-row",children:[(0,Xy.jsx)("td",{className:"item-image",children:e.imageUrl?(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.name}):(0,Xy.jsx)("div",{className:"no-image",children:"No Image"})}),(0,Xy.jsx)("td",{children:e.name||"Untitled"}),(0,Xy.jsxs)("td",{children:["\u20b9",e.price?e.price.toFixed(2):"0.00"]}),(0,Xy.jsx)("td",{className:"description-cell",children:e.description||"No description"}),(0,Xy.jsxs)("td",{children:[(0,Xy.jsx)("span",{className:"status-badge ".concat(e.active?"active":"inactive"),children:e.active?"Active":"Inactive"}),e.isQuick&&(0,Xy.jsx)("span",{className:"quick-badge",children:"Quick"})]}),(0,Xy.jsxs)("td",{className:"actions-cell",children:[(0,Xy.jsx)("button",{className:"action-btn view-btn",title:"View Details",onClick:()=>_(e,"trending"),children:(0,Xy.jsx)("i",{className:"fas fa-eye"})}),(0,Xy.jsx)("button",{className:"action-btn edit-btn",title:"Edit",onClick:()=>S(e.id,"trending"),children:(0,Xy.jsx)("i",{className:"fas fa-edit"})}),(0,Xy.jsx)("button",{className:"action-btn ".concat(e.active?"deactivate-btn":"activate-btn"),title:e.active?"Deactivate":"Activate",onClick:()=>k(e.id,e.active,"trending"),children:(0,Xy.jsx)("i",{className:"fas ".concat(e.active?"fa-toggle-on":"fa-toggle-off")})}),(0,Xy.jsx)("button",{className:"action-btn delete-btn",title:"Delete",onClick:()=>g({id:e.id,type:"trending",imageUrl:e.imageUrl,name:e.name}),children:(0,Xy.jsx)("i",{className:"fas fa-trash"})})]})]},e.id))):(0,Xy.jsx)("tr",{children:(0,Xy.jsxs)("td",{colSpan:"6",className:"no-data",children:["No trending components found. ",(0,Xy.jsx)(mt,{to:"/create-items?mode=trending",children:"Add your first component"})]})})})]})})]}),"categories"===n&&(0,Xy.jsxs)("div",{className:"card table-card",children:[(0,Xy.jsx)("h2",{children:"Categories"}),m?(0,Xy.jsx)("div",{className:"loading",children:"Loading categories..."}):(0,Xy.jsx)("div",{className:"items-table",children:(0,Xy.jsxs)("table",{children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Image"}),(0,Xy.jsx)("th",{children:"Name"}),(0,Xy.jsx)("th",{children:"Description"}),(0,Xy.jsx)("th",{children:"Items Count"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:s.length>0?s.map((e=>{const t=c.filter((t=>t.categoryId===e.id)).length;return(0,Xy.jsxs)("tr",{className:e.active?"":"inactive-row",children:[(0,Xy.jsx)("td",{className:"item-image",children:e.imageUrl?(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.name}):(0,Xy.jsx)("div",{className:"no-image",children:"No Image"})}),(0,Xy.jsx)("td",{children:e.name||"Untitled"}),(0,Xy.jsx)("td",{className:"description-cell",children:e.description||"No description"}),(0,Xy.jsx)("td",{children:t}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"status-badge ".concat(e.active?"active":"inactive"),children:e.active?"Active":"Inactive"})}),(0,Xy.jsxs)("td",{className:"actions-cell",children:[(0,Xy.jsx)("button",{className:"action-btn view-btn",title:"View Details",onClick:()=>_(l(l({},e),{},{itemsCount:t}),"categories"),children:(0,Xy.jsx)("i",{className:"fas fa-eye"})}),(0,Xy.jsx)("button",{className:"action-btn edit-btn",title:"Edit",onClick:()=>S(e.id,"categories"),children:(0,Xy.jsx)("i",{className:"fas fa-edit"})}),(0,Xy.jsx)("button",{className:"action-btn ".concat(e.active?"deactivate-btn":"activate-btn"),title:e.active?"Deactivate":"Activate",onClick:()=>k(e.id,e.active,"categories"),children:(0,Xy.jsx)("i",{className:"fas ".concat(e.active?"fa-toggle-on":"fa-toggle-off")})}),(0,Xy.jsx)("button",{className:"action-btn delete-btn",title:"Delete",onClick:()=>g({id:e.id,type:"categories",imageUrl:e.imageUrl,name:e.name,itemsCount:t}),children:(0,Xy.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)})):(0,Xy.jsx)("tr",{children:(0,Xy.jsxs)("td",{colSpan:"6",className:"no-data",children:["No categories found. ",(0,Xy.jsx)(mt,{to:"/create-items?mode=categories",children:"Add your first category"})]})})})]})})]}),"categoryItems"===n&&(0,Xy.jsxs)("div",{className:"card table-card",children:[(0,Xy.jsxs)("h2",{children:["Category Items","all"!==d&&(0,Xy.jsx)("span",{className:"selected-category",children:" in ".concat((null===(t=s.find((e=>e.id===d)))||void 0===t?void 0:t.name)||"Selected Category")})]}),m?(0,Xy.jsx)("div",{className:"loading",children:"Loading category items..."}):(0,Xy.jsx)("div",{className:"items-table",children:(0,Xy.jsxs)("table",{children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Image"}),(0,Xy.jsx)("th",{children:"Name"}),(0,Xy.jsx)("th",{children:"Category"}),(0,Xy.jsx)("th",{children:"Price"}),(0,Xy.jsx)("th",{children:"Description"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:c.length>0?c.map((e=>(0,Xy.jsxs)("tr",{className:e.active?"":"inactive-row",children:[(0,Xy.jsx)("td",{className:"item-image",children:e.imageUrl?(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.name}):(0,Xy.jsx)("div",{className:"no-image",children:"No Image"})}),(0,Xy.jsx)("td",{children:e.name||"Untitled"}),(0,Xy.jsx)("td",{children:e.categoryName||"Unknown"}),(0,Xy.jsxs)("td",{children:["\u20b9",e.price?e.price.toFixed(2):"0.00"]}),(0,Xy.jsx)("td",{className:"description-cell",children:e.description||"No description"}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"status-badge ".concat(e.active?"active":"inactive"),children:e.active?"Active":"Inactive"})}),(0,Xy.jsxs)("td",{className:"actions-cell",children:[(0,Xy.jsx)("button",{className:"action-btn view-btn",title:"View Details",onClick:()=>_(e,"categoryItems"),children:(0,Xy.jsx)("i",{className:"fas fa-eye"})}),(0,Xy.jsx)("button",{className:"action-btn edit-btn",title:"Edit",onClick:()=>S(e.id,"categoryItems"),children:(0,Xy.jsx)("i",{className:"fas fa-edit"})}),(0,Xy.jsx)("button",{className:"action-btn1 ".concat(e.active?"deactivate-btn":"activate-btn"),title:e.active?"Deactivate":"Activate",onClick:()=>k(e.id,e.active,"categoryItems"),children:(0,Xy.jsx)("i",{className:"fas ".concat(e.active?"fa-toggle-on":"fa-toggle-off")})}),(0,Xy.jsx)("button",{className:"action-btn1 delete-btn",title:"Delete",onClick:()=>g({id:e.id,type:"categoryItems",imageUrl:e.imageUrl,name:e.name}),children:(0,Xy.jsx)("i",{className:"fas fa-trash"})})]})]},e.id))):(0,Xy.jsx)("tr",{children:(0,Xy.jsx)("td",{colSpan:"7",className:"no-data",children:"all"===d?(0,Xy.jsxs)(Xy.Fragment,{children:["No category items found. ",(0,Xy.jsx)(mt,{to:"/create-items?mode=categoryItems",children:"Add your first item"})]}):(0,Xy.jsxs)(Xy.Fragment,{children:["No items found in this category. ",(0,Xy.jsx)(mt,{to:"/create-items?mode=categoryItems&categoryId=".concat(d),children:"Add an item to this category"})]})})})})]})})]}),p&&(0,Xy.jsx)("div",{className:"modal-overlay",children:(0,Xy.jsxs)("div",{className:"confirmation-modal",children:[(0,Xy.jsx)("h3",{children:"Confirm Delete"}),(0,Xy.jsxs)("p",{children:["Are you sure you want to delete ",p.name||"this item","?","categories"===p.type&&p.itemsCount>0&&(0,Xy.jsxs)("strong",{className:"warning",children:[" This will also delete ",p.itemsCount," associated items!"]})]}),(0,Xy.jsxs)("div",{className:"modal-actions",children:[(0,Xy.jsx)("button",{className:"cancel-btn",onClick:()=>g(null),children:"Cancel"}),(0,Xy.jsx)("button",{className:"delete-btn",onClick:()=>(async(e,t,n)=>{const r="trending"===n?"product":"categories"===n?"category":"category item";try{if("categories"===n){const t=Pg(zp(Qy,"categoryItems"),Rg("categoryId","==",e)),n=await Xg(t);if(!n.empty){if(!window.confirm("This category has ".concat(n.size," items. Deleting it will also delete all associated items. Continue?")))return;const e=lv(Qy);n.docs.forEach((t=>{e.delete(t.ref);const n=t.data().imageUrl;n&&n.startsWith("https://firebasestorage.googleapis.com")&&C(n)})),await e.commit()}}const a="trending"===n?"products":"categories"===n?"categories":"categoryItems";await Zg(Bp(Qy,a,e)),t&&t.startsWith("https://firebasestorage.googleapis.com")&&await C(t),x(),alert("".concat(r.charAt(0).toUpperCase()+r.slice(1)," deleted successfully!"))}catch(a){console.error("Error deleting ".concat(r,":"),a),alert("Failed to delete ".concat(r,". Please try again."))}finally{g(null)}})(p.id,p.imageUrl,p.type),children:"Delete"})]})]})}),v&&(0,Xy.jsx)("div",{className:"modal-overlay",children:(0,Xy.jsxs)("div",{className:"details-modal",children:[(0,Xy.jsxs)("div",{className:"modal-header",children:[(0,Xy.jsx)("h3",{children:"trending"===v.type?"Trending Component Details":"categories"===v.type?"Category Details":"Category Item Details"}),(0,Xy.jsx)("button",{className:"close-btn",onClick:()=>y(null),children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]}),(0,Xy.jsxs)("div",{className:"modal-content",children:[(0,Xy.jsx)("div",{className:"details-image",children:v.item.imageUrl?(0,Xy.jsx)("img",{src:v.item.imageUrl,alt:v.item.name||"Item"}):(0,Xy.jsx)("div",{className:"no-image-large",children:"No Image Available"})}),(0,Xy.jsxs)("div",{className:"details-info",children:[(0,Xy.jsx)("h2",{children:v.item.name||"Untitled"}),(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"ID:"}),(0,Xy.jsx)("span",{className:"detail-value",children:v.item.id})]}),"categories"!==v.type&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Price:"}),(0,Xy.jsxs)("span",{className:"detail-value",children:["\u20b9",v.item.price?v.item.price.toFixed(2):"0.00"]})]}),"categoryItems"===v.type&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Category:"}),(0,Xy.jsx)("span",{className:"detail-value",children:v.item.categoryName||"Unknown"})]}),"categoryItems"===v.type&&v.item.categoryId&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Category ID:"}),(0,Xy.jsx)("span",{className:"detail-value",children:v.item.categoryId})]}),"categories"===v.type&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Items Count:"}),(0,Xy.jsx)("span",{className:"detail-value",children:v.item.itemsCount||0})]}),(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Status:"}),(0,Xy.jsx)("span",{className:"detail-value status-badge ".concat(v.item.active?"active":"inactive"),children:v.item.active?"Active":"Inactive"}),v.item.isQuick&&(0,Xy.jsx)("span",{className:"quick-badge",children:"Quick"})]}),(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Created:"}),(0,Xy.jsx)("span",{className:"detail-value",children:I(v.item.createdAt)})]}),(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Last Updated:"}),(0,Xy.jsx)("span",{className:"detail-value",children:I(v.item.updatedAt)})]}),(0,Xy.jsxs)("div",{className:"detail-row description",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Description:"}),(0,Xy.jsx)("div",{className:"detail-value description-text",children:v.item.description||"No description available."})]}),v.item.technicalSpecs&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Technical Specs:"}),(0,Xy.jsx)("div",{className:"detail-value",children:(0,Xy.jsx)("ul",{className:"specifications-list",children:Object.entries(v.item.technicalSpecs).map((e=>{let[t,n]=e;return(0,Xy.jsxs)("li",{children:[(0,Xy.jsxs)("strong",{children:[t,":"]})," ",n]},t)}))})})]}),v.item.specifications&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Specifications:"}),(0,Xy.jsx)("div",{className:"detail-value",children:(0,Xy.jsx)("ul",{className:"specifications-list",children:Object.entries(v.item.specifications).map((e=>{let[t,n]=e;return(0,Xy.jsxs)("li",{children:[(0,Xy.jsxs)("strong",{children:[t,":"]})," ","object"===typeof n?JSON.stringify(n):n]},t)}))})})]}),v.item.features&&v.item.features.length>0&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Features:"}),(0,Xy.jsx)("div",{className:"detail-value",children:(0,Xy.jsx)("ul",{className:"features-list",children:v.item.features.map(((e,t)=>(0,Xy.jsx)("li",{children:e},t)))})})]}),v.item.colors&&v.item.colors.length>0&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Available Colors:"}),(0,Xy.jsx)("div",{className:"detail-value",children:(0,Xy.jsx)("div",{className:"colors-list",children:v.item.colors.map(((e,t)=>(0,Xy.jsx)("div",{className:"color-item",style:{backgroundColor:e},title:e},t)))})})]}),v.item.sizes&&v.item.sizes.length>0&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Available Sizes:"}),(0,Xy.jsx)("div",{className:"detail-value",children:v.item.sizes.join(", ")})]}),v.item.trendingSince&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Trending Since:"}),(0,Xy.jsx)("span",{className:"detail-value",children:I(v.item.trendingSince)||"N/A"})]}),void 0!==v.item.stockCount&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Stock Count:"}),(0,Xy.jsxs)("span",{className:"detail-value",children:[v.item.stockCount,v.item.stockCount<=5&&v.item.stockCount>0&&(0,Xy.jsx)("span",{className:"low-stock-warning",children:" (Low Stock)"}),0===v.item.stockCount&&(0,Xy.jsx)("span",{className:"out-of-stock-warning",children:" (Out of Stock)"})]})]}),v.item.vendor&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Vendor:"}),(0,Xy.jsx)("span",{className:"detail-value",children:v.item.vendor})]}),v.item.manufacturer&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Manufacturer:"}),(0,Xy.jsx)("span",{className:"detail-value",children:v.item.manufacturer})]}),v.item.sku&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"SKU:"}),(0,Xy.jsx)("span",{className:"detail-value",children:v.item.sku})]}),v.item.tags&&v.item.tags.length>0&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Tags:"}),(0,Xy.jsx)("div",{className:"detail-value",children:(0,Xy.jsx)("div",{className:"tags-list",children:v.item.tags.map(((e,t)=>(0,Xy.jsx)("span",{className:"tag-item",children:e},t)))})})]}),void 0!==v.item.rating&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Rating:"}),(0,Xy.jsxs)("span",{className:"detail-value",children:[v.item.rating," / 5",(0,Xy.jsx)("div",{className:"stars-container",children:[...Array(5)].map(((e,t)=>(0,Xy.jsx)("i",{className:"fas fa-star ".concat(t<Math.round(v.item.rating)?"active-star":"inactive-star")},t)))})]})]}),void 0!==v.item.reviewCount&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Review Count:"}),(0,Xy.jsx)("span",{className:"detail-value",children:v.item.reviewCount})]}),void 0!==v.item.discountPercentage&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Discount:"}),(0,Xy.jsxs)("span",{className:"detail-value",children:[v.item.discountPercentage,"%"]})]}),void 0!==v.item.originalPrice&&(0,Xy.jsxs)("div",{className:"detail-row",children:[(0,Xy.jsx)("span",{className:"detail-label",children:"Original Price:"}),(0,Xy.jsxs)("span",{className:"detail-value",children:["\u20b9",v.item.originalPrice.toFixed(2)]})]}),(0,Xy.jsx)("div",{className:"detail-row",children:(0,Xy.jsx)("div",{className:"detail-value",children:(0,Xy.jsx)("div",{className:"all-properties",children:Object.entries(v.item).map((e=>{let[t,n]=e;if(["id","name","price","categoryName","categoryId","itemsCount","active","isQuick","createdAt","updatedAt","description","specifications","features","colors","sizes","trendingSince","stockCount","vendor","manufacturer","sku","tags","rating","reviewCount","discountPercentage","originalPrice","imageUrl","technicalSpecs","dimensions"].includes(t))return null;let r;if(null===n||void 0===n)r="N/A";else if("object"===typeof n&&void 0!==n.seconds)r=I(n);else if(Array.isArray(n))r=(0,Xy.jsx)("div",{className:"property-array",children:n.map(((e,t)=>(0,Xy.jsxs)("div",{className:"array-item",children:[(0,Xy.jsxs)("span",{className:"array-index",children:[t,":"]}),(0,Xy.jsx)("span",{className:"array-value",children:"object"===typeof e?JSON.stringify(e):e})]},t)))});else if("object"===typeof n)try{r=(0,Xy.jsx)("div",{className:"property-object",children:Object.entries(n).map((e=>{let[t,n]=e;return(0,Xy.jsxs)("div",{className:"object-item",children:[(0,Xy.jsxs)("span",{className:"object-key",children:[t,":"]}),(0,Xy.jsx)("span",{className:"object-value",children:"object"===typeof n?JSON.stringify(n):n})]},t)}))})}catch(Yb){r="Complex object"}else r="boolean"===typeof n?n?"Yes":"No":n.toString();if(""===r||"N/A"===r)return null;const a=t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()));return(0,Xy.jsxs)("div",{className:"property-row",children:[(0,Xy.jsxs)("div",{className:"property-label",children:[a,":"]}),(0,Xy.jsx)("div",{className:"property-value",children:r})]},t)}))})})})]})]}),(0,Xy.jsxs)("div",{className:"modal-actions",children:[(0,Xy.jsxs)("button",{className:"edit-btn",onClick:()=>{S(v.item.id,v.type),y(null)},children:[(0,Xy.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,Xy.jsx)("button",{className:"close-modal-btn",onClick:()=>y(null),children:"Close"})]})]})})]})};var ub={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},db=e.createContext&&e.createContext(ub),hb=["attr","size","title"];function mb(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fb.apply(this,arguments)}function pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pb(Object(n),!0).forEach((function(t){vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yb(t){return t&&t.map(((t,n)=>e.createElement(t.tag,gb({key:n},t.attr),yb(t.child))))}function bb(t){return n=>e.createElement(xb,fb({attr:gb({},t.attr)},n),yb(t.child))}function xb(t){var n=n=>{var r,{attr:a,size:i,title:s}=t,o=mb(t,hb),l=i||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",fb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:r,style:gb(gb({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&e.createElement("title",null,s),t.children)};return void 0!==db?e.createElement(db.Consumer,null,(e=>n(e))):n(ub)}function wb(e){return bb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function Nb(e){return bb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function jb(e){return bb({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function kb(e){return bb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Cb(e){return bb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function Sb(e){return bb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Eb(e){return bb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function _b(e){return bb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Ib(e){return bb({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Tb(e){return bb({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Ab(e){return bb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const Pb=()=>{const[t,n]=(0,e.useState)({title:"ZappCart Blog",subtitle:"Fresh insights, recipes, and meat knowledge",description:"Discover the latest news, cooking tips, and meat expertise from ZappCart.",headerImage:"",headerImageURL:"",categories:["Recipes","Meat Guide","Health & Nutrition","Company News"]}),[r,a]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[o,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),[h,m]=(0,e.useState)(null),[f,p]=(0,e.useState)(""),[g,v]=(0,e.useState)(null),[y,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(""),[N,j]=(0,e.useState)({image:"",imageURL:"",category:"",date:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),title:"",excerpt:""}),k=["raspberry-pi","arduino","sensors","circuit-board","robotics"],C=(0,e.useRef)(null),S=(0,e.useRef)(null),E=Qp(),_=Hy(),I=zp(E,"articles");(0,e.useEffect)((()=>{(async()=>{try{const e=await Qg(Bp(E,"settings","blog"));e.exists()&&n(l(l({},t),e.data()));const r=(await Xg(I)).docs.map((e=>l({id:e.id},e.data())));a(r),s(!1)}catch(e){console.error("Error fetching blog data:",e),s(!1)}})()}),[]);const T=async(e,t)=>{if(!e)return null;try{const n=e.name.split(".").pop(),r="".concat(t,"-").concat(Date.now(),".").concat(n),a=qy(_,"blog-images/".concat(r));await My(a,e);return await zy(a)}catch(n){return console.error("Error uploading image:",n),null}},A=e=>{const{name:t,value:n}=e.target;c(l(l({},o),{},{[t]:n}))},P=e=>{const{name:t,value:n}=e.target;j(l(l({},N),{},{[t]:n}))},D=(e,t)=>{if(e.target.files&&e.target.files[0]){const n=e.target.files[0];m(n);const r=URL.createObjectURL(n);p(r),t?c(l(l({},o),{},{image:n.name.toLowerCase().includes("raspberry")?"raspberry-pi":n.name.toLowerCase().includes("arduino")?"arduino":n.name.toLowerCase().includes("sensor")?"sensors":n.name.toLowerCase().includes("circuit")?"circuit-board":n.name.toLowerCase().includes("robot")?"robotics":"raspberry-pi"})):j(l(l({},N),{},{image:n.name.toLowerCase().includes("raspberry")?"raspberry-pi":n.name.toLowerCase().includes("arduino")?"arduino":n.name.toLowerCase().includes("sensor")?"sensors":n.name.toLowerCase().includes("circuit")?"circuit-board":n.name.toLowerCase().includes("robot")?"robotics":"raspberry-pi"}))}},R=e=>{const{name:r,value:a}=e.target;n(l(l({},t),{},{[r]:a}))};return(0,Xy.jsxs)("div",{className:"admin-blog-container",children:[(0,Xy.jsxs)("div",{className:"admin-header",children:[(0,Xy.jsx)("div",{className:"back-to-home-wrapper",children:(0,Xy.jsxs)(mt,{to:"/",className:"back-to-home-link",children:[(0,Xy.jsx)("svg",{className:"back-arrow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),(0,Xy.jsx)("h1",{style:{color:"white",textAlign:"center",right:"300px",position:"relative"},children:"ProCart Blog Admin Panel"})]}),(0,Xy.jsxs)("div",{className:"admin-controls",children:[(0,Xy.jsxs)("button",{className:"settings-button",onClick:()=>{b(!0),d(!1),c(null)},children:[(0,Xy.jsx)(Nb,{className:"button-icon"}),"Blog Settings"]}),(0,Xy.jsxs)("button",{className:"add-new-button",onClick:()=>{d(!0),c(null),b(!1),m(null),p(""),j({image:"",imageURL:"",category:"",date:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),title:"",excerpt:""})},children:[(0,Xy.jsx)(Eb,{className:"button-icon"}),"Add New Article"]})]}),y&&(0,Xy.jsxs)("div",{className:"edit-form-container settings-form",children:[(0,Xy.jsx)("h2",{children:"Blog Settings"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"title",children:"Blog Title:"}),(0,Xy.jsx)("input",{type:"text",id:"title",name:"title",value:t.title,onChange:R,placeholder:"Enter blog title"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"subtitle",children:"Subtitle:"}),(0,Xy.jsx)("input",{type:"text",id:"subtitle",name:"subtitle",value:t.subtitle,onChange:R,placeholder:"Enter blog subtitle"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Xy.jsx)("textarea",{id:"description",name:"description",value:t.description,onChange:R,placeholder:"Enter blog description",rows:"3"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"headerImage",children:"Header Banner Image:"}),(0,Xy.jsxs)("div",{className:"image-upload-container",children:[(0,Xy.jsx)("div",{className:"header-image-preview",children:t.headerImageURL?(0,Xy.jsx)("img",{src:t.headerImageURL,alt:"Header Banner Preview",className:"header-image-preview-img"}):t.headerImage?(0,Xy.jsx)("img",{src:t.headerImage,alt:"Header Banner",className:"header-image-preview-img"}):(0,Xy.jsxs)("div",{className:"header-image-placeholder",children:[(0,Xy.jsx)(Cb,{className:"placeholder-icon"}),(0,Xy.jsx)("span",{children:"No header image selected"})]})}),(0,Xy.jsx)("div",{className:"upload-buttons",children:(0,Xy.jsxs)("label",{className:"upload-button",children:[(0,Xy.jsx)("input",{type:"file",ref:C,accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const r=e.target.files[0];v(r);const a=URL.createObjectURL(r);n(l(l({},t),{},{headerImageURL:a}))}}}),"Upload Header Image"]})})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Categories:"}),(0,Xy.jsxs)("div",{className:"categories-manager",children:[(0,Xy.jsx)("div",{className:"categories-list",children:t.categories.map(((e,r)=>(0,Xy.jsxs)("div",{className:"category-item",children:[(0,Xy.jsx)("span",{children:e}),(0,Xy.jsx)("button",{type:"button",className:"remove-category-btn",onClick:()=>{return r=e,void n(l(l({},t),{},{categories:t.categories.filter((e=>e!==r))}));var r},children:(0,Xy.jsx)(Tb,{})})]},r)))}),(0,Xy.jsxs)("div",{className:"add-category-form",children:[(0,Xy.jsx)("input",{type:"text",value:x,onChange:e=>w(e.target.value),placeholder:"New category name"}),(0,Xy.jsx)("button",{type:"button",className:"add-category-btn",onClick:()=>{x&&!t.categories.includes(x)&&(n(l(l({},t),{},{categories:[...t.categories,x]})),w(""))},disabled:!x,children:(0,Xy.jsx)(Eb,{})})]})]})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{let e=t.headerImage;g&&(e=await T(g,"header"));const r=l(l({},t),{},{headerImage:e});await $g(Bp(E,"settings","blog"),r),n(r),b(!1),v(null),alert("Blog settings saved successfully!")}catch(e){console.error("Error saving blog settings:",e),alert("Failed to save blog settings. Please try again.")}},children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save Settings"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>b(!1),children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),u&&(0,Xy.jsxs)("div",{className:"edit-form-container",children:[(0,Xy.jsx)("h2",{children:"Create New Article"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,Xy.jsx)("input",{type:"text",id:"title",name:"title",value:N.title,onChange:P,placeholder:"Enter article title"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"category",children:"Category:"}),(0,Xy.jsxs)("select",{id:"category",name:"category",value:N.category,onChange:P,children:[(0,Xy.jsx)("option",{value:"",children:"Select a category"}),t.categories.map(((e,t)=>(0,Xy.jsx)("option",{value:e,children:e},t)))]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"image",children:"Featured Image:"}),(0,Xy.jsxs)("div",{className:"image-upload-container",children:[(0,Xy.jsx)("div",{className:"image-preview",children:f?(0,Xy.jsx)("img",{src:f,alt:"Preview",className:"uploaded-image-preview"}):N.image?(0,Xy.jsx)("div",{className:"preview-image ".concat(N.image)}):(0,Xy.jsxs)("div",{className:"image-placeholder",children:[(0,Xy.jsx)(Cb,{className:"placeholder-icon"}),(0,Xy.jsx)("span",{children:"No image selected"})]})}),(0,Xy.jsxs)("select",{id:"image",name:"image",value:N.image,onChange:P,className:"image-select",children:[(0,Xy.jsx)("option",{value:"",children:"Select a template image"}),k.map(((e,t)=>(0,Xy.jsx)("option",{value:e,children:e.replace("-"," ")},t)))]}),(0,Xy.jsx)("div",{className:"upload-buttons",children:(0,Xy.jsxs)("label",{className:"upload-button",children:[(0,Xy.jsx)("input",{type:"file",ref:S,accept:"image/*",onChange:e=>D(e,!1)}),"Upload Custom Image"]})})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"excerpt",children:"Excerpt:"}),(0,Xy.jsx)("textarea",{id:"excerpt",name:"excerpt",value:N.excerpt,onChange:P,placeholder:"Enter article excerpt",rows:"4"})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{let e="";h&&(e=await T(h,"article-new"));const t=l(l({},N),{},{imageURL:e,createdAt:new Date}),n=await ev(I,t);a([...r,l(l({},t),{},{id:n.id})]),d(!1),m(null),p(""),j({image:"",imageURL:"",category:"",date:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),title:"",excerpt:""})}catch(e){console.error("Error adding article:",e),alert("Failed to add article. Please try again.")}},disabled:!N.title||!N.category||!N.image&&!h||!N.excerpt,children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save Article"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>{d(!1),m(null),p("")},children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),o&&(0,Xy.jsxs)("div",{className:"edit-form-container",children:[(0,Xy.jsx)("h2",{children:"Edit Article"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-title",children:"Title:"}),(0,Xy.jsx)("input",{type:"text",id:"edit-title",name:"title",value:o.title,onChange:A})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-category",children:"Category:"}),(0,Xy.jsxs)("select",{id:"edit-category",name:"category",value:o.category,onChange:A,children:[(0,Xy.jsx)("option",{value:"",children:"Select a category"}),t.categories.map(((e,t)=>(0,Xy.jsx)("option",{value:e,children:e},t)))]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-image",children:"Featured Image:"}),(0,Xy.jsxs)("div",{className:"image-upload-container",children:[(0,Xy.jsx)("div",{className:"image-preview",children:f?(0,Xy.jsx)("img",{src:f,alt:"Preview",className:"uploaded-image-preview"}):o.imageURL?(0,Xy.jsx)("img",{src:o.imageURL,alt:"Article",className:"uploaded-image-preview"}):o.image?(0,Xy.jsx)("div",{className:"preview-image ".concat(o.image)}):(0,Xy.jsxs)("div",{className:"image-placeholder",children:[(0,Xy.jsx)(Cb,{className:"placeholder-icon"}),(0,Xy.jsx)("span",{children:"No image selected"})]})}),(0,Xy.jsxs)("select",{id:"edit-image",name:"image",value:o.image,onChange:A,className:"image-select",children:[(0,Xy.jsx)("option",{value:"",children:"Select a template image"}),k.map(((e,t)=>(0,Xy.jsx)("option",{value:e,children:e.replace("-"," ")},t)))]}),(0,Xy.jsx)("div",{className:"upload-buttons",children:(0,Xy.jsxs)("label",{className:"upload-button",children:[(0,Xy.jsx)("input",{type:"file",accept:"image/*",onChange:e=>D(e,!0)}),"Upload Custom Image"]})})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-excerpt",children:"Excerpt:"}),(0,Xy.jsx)("textarea",{id:"edit-excerpt",name:"excerpt",value:o.excerpt,onChange:A,rows:"4"})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{let e=o.imageURL;h&&(e=await T(h,"article-".concat(o.id)));const t=Bp(E,"articles",o.id),n=l(l({},o),{},{imageURL:e});await Jg(t,n),a(r.map((e=>e.id===o.id?n:e))),c(null),m(null),p("")}catch(e){console.error("Error updating article:",e),alert("Failed to update article. Please try again.")}},children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save Changes"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>{c(null),m(null),p("")},children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),(0,Xy.jsxs)("div",{className:"articles-management",children:[(0,Xy.jsx)("h2",{children:"Manage Articles"}),i?(0,Xy.jsx)("div",{className:"loading",children:"Loading articles..."}):0===r.length?(0,Xy.jsx)("div",{className:"no-articles",children:"No articles found. Add your first article!"}):(0,Xy.jsx)("div",{className:"articles-grid",children:r.map((e=>(0,Xy.jsxs)("div",{className:"article-card",children:[(0,Xy.jsx)("div",{className:"article-image",children:e.imageURL?(0,Xy.jsx)("img",{src:e.imageURL,alt:e.title}):e.image?(0,Xy.jsx)("div",{className:"preview-image ".concat(e.image)}):(0,Xy.jsx)("div",{className:"image-placeholder",children:(0,Xy.jsx)(Cb,{className:"placeholder-icon"})})}),(0,Xy.jsxs)("div",{className:"article-content",children:[(0,Xy.jsx)("div",{className:"article-category",children:(0,Xy.jsx)("span",{children:e.category})}),(0,Xy.jsx)("div",{className:"article-date",children:e.date}),(0,Xy.jsx)("h3",{className:"article-title",children:e.title}),(0,Xy.jsx)("p",{className:"article-excerpt",children:e.excerpt}),(0,Xy.jsxs)("div",{className:"article-actions",children:[(0,Xy.jsxs)("button",{className:"edit-button",onClick:()=>(e=>{c(l({},e)),p(e.imageURL||""),d(!1),b(!1)})(e),children:[(0,Xy.jsx)(jb,{className:"button-icon"}),"Edit"]}),(0,Xy.jsxs)("button",{className:"delete-button",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this article?"))try{await Zg(Bp(E,"articles",e)),a(r.filter((t=>t.id!==e)))}catch(t){console.error("Error deleting article:",t),alert("Failed to delete article. Please try again.")}})(e.id),children:[(0,Xy.jsx)(Ab,{className:"button-icon"}),"Delete"]})]})]})]},e.id)))})]}),(0,Xy.jsxs)("div",{className:"admin-blog-footer",children:[(0,Xy.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," ProCart"]}),(0,Xy.jsx)(mt,{to:"/blog",className:"view-blog-link",target:"_blank",children:"View Blog"})]})]})},Db=()=>{const[t,n]=(0,e.useState)({title:"ProCart Newsroom",tagline:"Stay updated with the latest from ProCart",description:"Official news, product announcements, and updates from India's leading electronics components provider.",featuredStory:{title:"ProCart Launches Next-Day Delivery for All Major Cities",date:"June 16, 2025",excerpt:"Starting today, customers in all major Indian cities can enjoy next-day delivery on thousands of electronics components, making ProCart the fastest electronics supplier in the country."},mediaContact:{email:"press@procart.in",phone:"+91 9988776655",info:"For media inquiries, please contact our press team. We aim to respond within 24 hours."},categories:[{id:"press",label:"Press Releases"},{id:"product",label:"Product Launches"},{id:"events",label:"Events"},{id:"industry",label:"Industry Updates"}]}),[r,a]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[o,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),[h,m]=(0,e.useState)(null),[f,p]=(0,e.useState)(""),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)({id:"",label:""}),[x,w]=(0,e.useState)(null),[N,j]=(0,e.useState)({category:"",title:"",date:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),excerpt:"",image:""}),k=["expansion","arduino","expo","iot","education","kit"],C=(0,e.useRef)(null),S=Qp(),E=Hy(),_=zp(S,"news");(0,e.useEffect)((()=>{(async()=>{try{const e=await Qg(Bp(S,"settings","newsroom"));e.exists()&&(n(l(l({},t),e.data())),e.data().featuredStoryId&&w(e.data().featuredStoryId));const r=(await Xg(_)).docs.map((e=>l({id:e.id},e.data())));a(r),s(!1)}catch(e){console.error("Error fetching news data:",e),s(!1)}})()}),[]);const I=async(e,t)=>{if(!e)return null;try{const n=e.name.split(".").pop(),r="".concat(t,"-").concat(Date.now(),".").concat(n),a=qy(E,"newsroom-images/".concat(r));await My(a,e);return await zy(a)}catch(n){return console.error("Error uploading image:",n),null}},T=e=>{const{name:t,value:n}=e.target;c(l(l({},o),{},{[t]:n}))},A=e=>{const{name:t,value:n}=e.target;j(l(l({},N),{},{[t]:n}))},P=(e,t)=>{if(e.target.files&&e.target.files[0]){const n=e.target.files[0];m(n);const r=URL.createObjectURL(n);p(r),t?c(l(l({},o),{},{image:D(n.name)})):j(l(l({},N),{},{image:D(n.name)}))}},D=e=>(e=e.toLowerCase()).includes("expansion")?"expansion":e.includes("arduino")?"arduino":e.includes("expo")?"expo":e.includes("iot")?"iot":e.includes("education")?"education":e.includes("kit")?"kit":"expansion",R=e=>{const{name:r,value:a}=e.target;n(l(l({},t),{},{[r]:a}))},O=e=>{const{name:r,value:a}=e.target;n(l(l({},t),{},{featuredStory:l(l({},t.featuredStory),{},{[r]:a})}))},L=e=>{const{name:r,value:a}=e.target;n(l(l({},t),{},{mediaContact:l(l({},t.mediaContact),{},{[r]:a})}))};return(0,Xy.jsxs)("div",{className:"admin-newsroom-container",children:[(0,Xy.jsxs)("div",{className:"admin-header",children:[(0,Xy.jsx)("div",{className:"back-to-home-wrapper",children:(0,Xy.jsxs)(mt,{to:"/",className:"back-to-home-link",children:[(0,Xy.jsx)("svg",{className:"back-arrow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),(0,Xy.jsx)("h1",{style:{color:"white",textAlign:"center",right:"300px",position:"relative"},children:"ProCart Newsroom Admin Panel"})]}),(0,Xy.jsxs)("div",{className:"admin-controls",children:[(0,Xy.jsxs)("button",{className:"settings-button",onClick:()=>{v(!0),d(!1),c(null)},children:[(0,Xy.jsx)(Nb,{className:"button-icon"}),"Newsroom Settings"]}),(0,Xy.jsxs)("button",{className:"add-new-button",onClick:()=>{d(!0),c(null),v(!1),m(null),p(""),j({category:"",title:"",date:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),excerpt:"",image:""})},children:[(0,Xy.jsx)(Eb,{className:"button-icon"}),"Add News Item"]})]}),g&&(0,Xy.jsxs)("div",{className:"edit-form-container settings-form",children:[(0,Xy.jsx)("h2",{children:"Newsroom Settings"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"title",children:"Newsroom Title:"}),(0,Xy.jsx)("input",{type:"text",id:"title",name:"title",value:t.title,onChange:R,placeholder:"Enter newsroom title"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"tagline",children:"Tagline:"}),(0,Xy.jsx)("input",{type:"text",id:"tagline",name:"tagline",value:t.tagline,onChange:R,placeholder:"Enter newsroom tagline"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Xy.jsx)("textarea",{id:"description",name:"description",value:t.description,onChange:R,placeholder:"Enter newsroom description",rows:"3"})]}),(0,Xy.jsx)("h3",{children:"Featured Story"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"featuredTitle",children:"Featured Story Title:"}),(0,Xy.jsx)("input",{type:"text",id:"featuredTitle",name:"title",value:t.featuredStory.title,onChange:O,placeholder:"Enter featured story title"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"featuredDate",children:"Featured Story Date:"}),(0,Xy.jsx)("input",{type:"text",id:"featuredDate",name:"date",value:t.featuredStory.date,onChange:O,placeholder:"Enter featured story date"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"featuredExcerpt",children:"Featured Story Excerpt:"}),(0,Xy.jsx)("textarea",{id:"featuredExcerpt",name:"excerpt",value:t.featuredStory.excerpt,onChange:O,placeholder:"Enter featured story excerpt",rows:"3"})]}),(0,Xy.jsx)("h3",{children:"Media Contact"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"mediaEmail",children:"Email:"}),(0,Xy.jsx)("input",{type:"email",id:"mediaEmail",name:"email",value:t.mediaContact.email,onChange:L,placeholder:"Enter media contact email"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"mediaPhone",children:"Phone:"}),(0,Xy.jsx)("input",{type:"text",id:"mediaPhone",name:"phone",value:t.mediaContact.phone,onChange:L,placeholder:"Enter media contact phone"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"mediaInfo",children:"Information:"}),(0,Xy.jsx)("textarea",{id:"mediaInfo",name:"info",value:t.mediaContact.info,onChange:L,placeholder:"Enter media contact information",rows:"3"})]}),(0,Xy.jsx)("h3",{children:"Categories"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Current Categories:"}),(0,Xy.jsxs)("div",{className:"categories-manager",children:[(0,Xy.jsx)("div",{className:"categories-list",children:t.categories.map(((e,r)=>(0,Xy.jsxs)("div",{className:"category-item",children:[(0,Xy.jsxs)("span",{children:[e.label," (",e.id,")"]}),(0,Xy.jsx)("button",{type:"button",className:"remove-category-btn",onClick:()=>{return r=e.id,void n(l(l({},t),{},{categories:t.categories.filter((e=>e.id!==r))}));var r},children:(0,Xy.jsx)(Tb,{})})]},r)))}),(0,Xy.jsxs)("div",{className:"add-category-form",children:[(0,Xy.jsx)("div",{className:"form-group",children:(0,Xy.jsx)("input",{type:"text",value:y.id,onChange:e=>{b(l(l({},y),{},{id:e.target.value}))},placeholder:"Category ID"})}),(0,Xy.jsx)("div",{className:"form-group",children:(0,Xy.jsx)("input",{type:"text",value:y.label,onChange:e=>{b(l(l({},y),{},{label:e.target.value}))},placeholder:"Category Label"})}),(0,Xy.jsx)("button",{type:"button",className:"add-category-btn",onClick:()=>{y.id&&y.label&&!t.categories.some((e=>e.id===y.id))&&(n(l(l({},t),{},{categories:[...t.categories,l({},y)]})),b({id:"",label:""}))},disabled:!y.id||!y.label,children:(0,Xy.jsx)(Eb,{})})]})]})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{await $g(Bp(S,"settings","newsroom"),l(l({},t),{},{featuredStoryId:x})),v(!1),alert("Newsroom settings saved successfully!")}catch(e){console.error("Error saving newsroom settings:",e),alert("Failed to save newsroom settings. Please try again.")}},children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save Settings"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>v(!1),children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),u&&(0,Xy.jsxs)("div",{className:"edit-form-container",children:[(0,Xy.jsx)("h2",{children:"Create New News Item"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,Xy.jsx)("input",{type:"text",id:"title",name:"title",value:N.title,onChange:A,placeholder:"Enter news title"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"category",children:"Category:"}),(0,Xy.jsxs)("select",{id:"category",name:"category",value:N.category,onChange:A,children:[(0,Xy.jsx)("option",{value:"",children:"Select a category"}),t.categories.map(((e,t)=>(0,Xy.jsx)("option",{value:e.id,children:e.label},t)))]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"date",children:"Date:"}),(0,Xy.jsx)("input",{type:"text",id:"date",name:"date",value:N.date,onChange:A,placeholder:"Enter news date (Month DD, YYYY)"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"image",children:"Featured Image:"}),(0,Xy.jsxs)("div",{className:"image-upload-container",children:[(0,Xy.jsx)("div",{className:"image-preview",children:f?(0,Xy.jsx)("img",{src:f,alt:"Preview",className:"uploaded-image-preview"}):N.image?(0,Xy.jsx)("div",{className:"preview-image ".concat(N.image)}):(0,Xy.jsxs)("div",{className:"image-placeholder",children:[(0,Xy.jsx)(Cb,{className:"placeholder-icon"}),(0,Xy.jsx)("span",{children:"No image selected"})]})}),(0,Xy.jsxs)("select",{id:"image",name:"image",value:N.image,onChange:A,className:"image-select",children:[(0,Xy.jsx)("option",{value:"",children:"Select a template image"}),k.map(((e,t)=>(0,Xy.jsx)("option",{value:e,children:e.replace("-"," ")},t)))]}),(0,Xy.jsx)("div",{className:"upload-buttons",children:(0,Xy.jsxs)("label",{className:"upload-button",children:[(0,Xy.jsx)("input",{type:"file",ref:C,accept:"image/*",onChange:e=>P(e,!1)}),"Upload Custom Image"]})})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"excerpt",children:"Excerpt:"}),(0,Xy.jsx)("textarea",{id:"excerpt",name:"excerpt",value:N.excerpt,onChange:A,placeholder:"Enter news excerpt",rows:"4"})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{let e="";h&&(e=await I(h,"news-new"));const t=l(l({},N),{},{imageURL:e,createdAt:new Date}),n=await ev(_,t),i=l(l({},t),{},{id:n.id});a([...r,i]),d(!1),m(null),p(""),j({category:"",title:"",date:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),excerpt:"",image:""})}catch(e){console.error("Error adding news item:",e),alert("Failed to add news item. Please try again.")}},disabled:!N.title||!N.category||!N.image&&!h||!N.excerpt,children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save News Item"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>{d(!1),m(null),p("")},children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),o&&(0,Xy.jsxs)("div",{className:"edit-form-container",children:[(0,Xy.jsx)("h2",{children:"Edit News Item"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-title",children:"Title:"}),(0,Xy.jsx)("input",{type:"text",id:"edit-title",name:"title",value:o.title,onChange:T})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-category",children:"Category:"}),(0,Xy.jsxs)("select",{id:"edit-category",name:"category",value:o.category,onChange:T,children:[(0,Xy.jsx)("option",{value:"",children:"Select a category"}),t.categories.map(((e,t)=>(0,Xy.jsx)("option",{value:e.id,children:e.label},t)))]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-date",children:"Date:"}),(0,Xy.jsx)("input",{type:"text",id:"edit-date",name:"date",value:o.date,onChange:T})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-image",children:"Featured Image:"}),(0,Xy.jsxs)("div",{className:"image-upload-container",children:[(0,Xy.jsx)("div",{className:"image-preview",children:f?(0,Xy.jsx)("img",{src:f,alt:"Preview",className:"uploaded-image-preview"}):o.imageURL?(0,Xy.jsx)("img",{src:o.imageURL,alt:"News",className:"uploaded-image-preview"}):o.image?(0,Xy.jsx)("div",{className:"preview-image ".concat(o.image)}):(0,Xy.jsxs)("div",{className:"image-placeholder",children:[(0,Xy.jsx)(Cb,{className:"placeholder-icon"}),(0,Xy.jsx)("span",{children:"No image selected"})]})}),(0,Xy.jsxs)("select",{id:"edit-image",name:"image",value:o.image,onChange:T,className:"image-select",children:[(0,Xy.jsx)("option",{value:"",children:"Select a template image"}),k.map(((e,t)=>(0,Xy.jsx)("option",{value:e,children:e.replace("-"," ")},t)))]}),(0,Xy.jsx)("div",{className:"upload-buttons",children:(0,Xy.jsxs)("label",{className:"upload-button",children:[(0,Xy.jsx)("input",{type:"file",accept:"image/*",onChange:e=>P(e,!0)}),"Upload Custom Image"]})})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-excerpt",children:"Excerpt:"}),(0,Xy.jsx)("textarea",{id:"edit-excerpt",name:"excerpt",value:o.excerpt,onChange:T,rows:"4"})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{let e=o.imageURL;h&&(e=await I(h,"news-".concat(o.id)));const t=Bp(S,"news",o.id),n=l(l({},o),{},{imageURL:e});await Jg(t,n),a(r.map((e=>e.id===o.id?n:e))),c(null),m(null),p("")}catch(e){console.error("Error updating news item:",e),alert("Failed to update news item. Please try again.")}},children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save Changes"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>{c(null),m(null),p("")},children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),(0,Xy.jsxs)("div",{className:"news-items-management",children:[(0,Xy.jsx)("h2",{children:"Manage News Items"}),i?(0,Xy.jsx)("div",{className:"loading",children:"Loading news items..."}):0===r.length?(0,Xy.jsx)("div",{className:"no-news-items",children:"No news items found. Add your first news item!"}):(0,Xy.jsx)("div",{className:"news-items-grid",children:r.map((e=>{var i;return(0,Xy.jsxs)("div",{className:"news-card ".concat(e.id===x?"featured-card":""),children:[(0,Xy.jsx)("div",{className:"news-image",children:e.imageURL?(0,Xy.jsx)("img",{src:e.imageURL,alt:e.title}):e.image?(0,Xy.jsx)("div",{className:"preview-image ".concat(e.image)}):(0,Xy.jsx)("div",{className:"image-placeholder",children:(0,Xy.jsx)(Cb,{className:"placeholder-icon"})})}),(0,Xy.jsxs)("div",{className:"news-content",children:[(0,Xy.jsx)("div",{className:"news-category",children:(0,Xy.jsx)("span",{children:(null===(i=t.categories.find((t=>t.id===e.category)))||void 0===i?void 0:i.label)||e.category})}),(0,Xy.jsx)("div",{className:"news-date",children:e.date}),(0,Xy.jsx)("h3",{className:"news-title",children:e.title}),(0,Xy.jsx)("p",{className:"news-excerpt",children:e.excerpt}),(0,Xy.jsxs)("div",{className:"news-actions",children:[(0,Xy.jsxs)("button",{className:"edit-button",onClick:()=>(e=>{c(l({},e)),p(e.imageURL||""),d(!1),v(!1)})(e),children:[(0,Xy.jsx)(jb,{className:"button-icon"}),"Edit"]}),(0,Xy.jsxs)("button",{className:"delete-button",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this news item?"))try{if(await Zg(Bp(S,"news",e)),a(r.filter((t=>t.id!==e))),e===x){const e=l(l({},t),{},{featuredStoryId:null});await $g(Bp(S,"settings","newsroom"),e),w(null)}}catch(n){console.error("Error deleting news item:",n),alert("Failed to delete news item. Please try again.")}})(e.id),children:[(0,Xy.jsx)(Ab,{className:"button-icon"}),"Delete"]}),(0,Xy.jsxs)("button",{className:"featured-button ".concat(e.id===x?"is-featured":""),onClick:()=>(async e=>{try{const r=l(l({},t),{},{featuredStoryId:e.id,featuredStory:{title:e.title,date:e.date,excerpt:e.excerpt}});await $g(Bp(S,"settings","newsroom"),r),n(r),w(e.id),alert("Featured story updated successfully!")}catch(r){console.error("Error updating featured story:",r),alert("Failed to update featured story. Please try again.")}})(e),disabled:e.id===x,children:[(0,Xy.jsx)(Ib,{className:"button-icon"}),e.id===x?"Featured":"Set as Featured"]})]})]})]},e.id)}))})]}),(0,Xy.jsxs)("div",{className:"admin-newsroom-footer",children:[(0,Xy.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," ProCart"]}),(0,Xy.jsx)(mt,{to:"/newsroom",className:"view-newsroom-link",target:"_blank",children:"View Newsroom"})]})]})},Rb=()=>{const[t,n]=(0,e.useState)({title:"How Can We Help You?",subtitle:"Find answers to frequently asked questions or reach out to our support team",supportContacts:{phone:{number:"+91 8722237574",hours:"7 AM - 9 PM, All days"},email:{address:"official.procart@gmail.com",response:"Response within 24 hours"},whatsapp:{number:"+91 8722237574",note:"Quick support via WhatsApp"}}}),[r,a]=(0,e.useState)([{id:"ordering",label:"Ordering"},{id:"delivery",label:"Delivery"},{id:"product",label:"Product Issues"},{id:"payment",label:"Payment & Refunds"},{id:"account",label:"Account"}]),[i,s]=(0,e.useState)([]),[o,c]=(0,e.useState)(!0),[u,d]=(0,e.useState)(null),[h,m]=(0,e.useState)(!1),[f,p]=(0,e.useState)(!1),[g,v]=(0,e.useState)({id:"",label:""}),[y,b]=(0,e.useState)(null),[x,w]=(0,e.useState)({category:"",question:"",answer:""}),N=Qp(),j=zp(N,"faq");(0,e.useEffect)((()=>{(async()=>{try{const e=await Qg(Bp(N,"settings","faq"));e.exists()&&n(l(l({},t),e.data()));const r=await Qg(Bp(N,"settings","faqCategories"));r.exists()&&r.data().categories&&a(r.data().categories);const i=(await Xg(j)).docs.map((e=>l({id:e.id},e.data())));s(i),c(!1)}catch(e){console.error("Error fetching FAQ data:",e),c(!1)}})()}),[]);const k=e=>{const{name:t,value:n}=e.target;d(l(l({},u),{},{[t]:n}))},C=e=>{const{name:t,value:n}=e.target;w(l(l({},x),{},{[t]:n}))},S=e=>{const{name:r,value:a}=e.target;n(l(l({},t),{},{[r]:a}))},E=(e,r,a)=>{n(l(l({},t),{},{supportContacts:l(l({},t.supportContacts),{},{[e]:l(l({},t.supportContacts[e]),{},{[r]:a})})}))},_=(e,t)=>{const n=e.target.value;b(l(l({},y),{},"id"===t?{id:n.toLowerCase().replace(/\s+/g,"_")}:{[t]:n}))},I=async(e,t)=>{try{const n=i.map((n=>n.category===e?l(l({},n),{},{category:t}):n));s(n);const r=n.filter((e=>e.category===t)).map((e=>Jg(Bp(N,"faq",e.id),{category:t})));await Promise.all(r)}catch(n){console.error("Error updating FAQ items categories:",n),alert("Failed to update some FAQ items. Please refresh and try again.")}},T=async e=>{try{await $g(Bp(N,"settings","faqCategories"),{categories:e})}catch(t){console.error("Error saving categories:",t),alert("Failed to save categories. Please try again.")}};return(0,Xy.jsxs)("div",{className:"admin-faq-container",children:[(0,Xy.jsxs)("div",{className:"admin-header",children:[(0,Xy.jsx)("div",{className:"back-to-home-wrapper",children:(0,Xy.jsxs)(mt,{to:"/",className:"back-to-home-link",children:[(0,Xy.jsx)("svg",{className:"back-arrow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Xy.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),(0,Xy.jsx)("h1",{style:{color:"white",textAlign:"center",right:"300px",position:"relative"},children:"ProCart FAQ Admin Panel"})]}),(0,Xy.jsxs)("div",{className:"admin-controls",children:[(0,Xy.jsxs)("button",{className:"settings-button",onClick:()=>{p(!0),m(!1),d(null),b(null)},children:[(0,Xy.jsx)(Nb,{className:"button-icon"}),"Contact & FAQ Settings"]}),(0,Xy.jsxs)("button",{className:"add-new-button",onClick:()=>{m(!0),d(null),p(!1),b(null),w({category:"",question:"",answer:""})},children:[(0,Xy.jsx)(Eb,{className:"button-icon"}),"Add FAQ Item"]})]}),f&&(0,Xy.jsxs)("div",{className:"edit-form-container settings-form",children:[(0,Xy.jsx)("h2",{children:"FAQ Settings"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"title",children:"Page Title:"}),(0,Xy.jsx)("input",{type:"text",id:"title",name:"title",value:t.title,onChange:S,placeholder:"Enter page title"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"subtitle",children:"Subtitle:"}),(0,Xy.jsx)("input",{type:"text",id:"subtitle",name:"subtitle",value:t.subtitle,onChange:S,placeholder:"Enter page subtitle"})]}),(0,Xy.jsx)("h3",{children:"Support Contact Information"}),(0,Xy.jsxs)("div",{className:"contact-section",children:[(0,Xy.jsx)("div",{className:"contact-icon",children:(0,Xy.jsx)(Sb,{})}),(0,Xy.jsxs)("div",{className:"contact-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number:"}),(0,Xy.jsx)("input",{type:"text",id:"phoneNumber",value:t.supportContacts.phone.number,onChange:e=>E("phone","number",e.target.value),placeholder:"Enter phone number"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"phoneHours",children:"Hours:"}),(0,Xy.jsx)("input",{type:"text",id:"phoneHours",value:t.supportContacts.phone.hours,onChange:e=>E("phone","hours",e.target.value),placeholder:"Enter working hours"})]})]})]}),(0,Xy.jsxs)("div",{className:"contact-section",children:[(0,Xy.jsx)("div",{className:"contact-icon",children:(0,Xy.jsx)(kb,{})}),(0,Xy.jsxs)("div",{className:"contact-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"emailAddress",children:"Email Address:"}),(0,Xy.jsx)("input",{type:"email",id:"emailAddress",value:t.supportContacts.email.address,onChange:e=>E("email","address",e.target.value),placeholder:"Enter email address"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"emailResponse",children:"Response Time:"}),(0,Xy.jsx)("input",{type:"text",id:"emailResponse",value:t.supportContacts.email.response,onChange:e=>E("email","response",e.target.value),placeholder:"Enter response time"})]})]})]}),(0,Xy.jsxs)("div",{className:"contact-section",children:[(0,Xy.jsx)("div",{className:"contact-icon",children:(0,Xy.jsx)(wb,{})}),(0,Xy.jsxs)("div",{className:"contact-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"whatsappNumber",children:"WhatsApp Number:"}),(0,Xy.jsx)("input",{type:"text",id:"whatsappNumber",value:t.supportContacts.whatsapp.number,onChange:e=>E("whatsapp","number",e.target.value),placeholder:"Enter WhatsApp number"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"whatsappNote",children:"Note:"}),(0,Xy.jsx)("input",{type:"text",id:"whatsappNote",value:t.supportContacts.whatsapp.note,onChange:e=>E("whatsapp","note",e.target.value),placeholder:"Enter note about WhatsApp support"})]})]})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{await $g(Bp(N,"settings","faq"),t),p(!1),alert("FAQ settings saved successfully!")}catch(e){console.error("Error saving FAQ settings:",e),alert("Failed to save FAQ settings. Please try again.")}},children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save Settings"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>p(!1),children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),(0,Xy.jsxs)("div",{className:"categories-management",children:[(0,Xy.jsx)("h2",{children:"Manage FAQ Categories"}),(0,Xy.jsxs)("div",{className:"categories-list-admin",children:[r.map(((e,t)=>(0,Xy.jsxs)("div",{className:"category-admin-item",children:[(0,Xy.jsxs)("div",{className:"category-info",children:[(0,Xy.jsx)("span",{className:"category-label",children:e.label}),(0,Xy.jsxs)("span",{className:"category-id",children:["(",e.id,")"]})]}),(0,Xy.jsxs)("div",{className:"category-actions",children:[(0,Xy.jsxs)("button",{className:"edit-button",onClick:()=>(e=>{b(l({},e)),m(!1),d(null),p(!1)})(e),children:[(0,Xy.jsx)(jb,{className:"button-icon"}),"Edit"]}),(0,Xy.jsxs)("button",{className:"delete-button",onClick:()=>(e=>{if(i.some((t=>t.category===e)))return void alert("Cannot delete this category because there are FAQ items using it. Please reassign or delete those items first.");const t=r.filter((t=>t.id!==e));a(t),T(t)})(e.id),children:[(0,Xy.jsx)(Ab,{className:"button-icon"}),"Delete"]})]})]},t))),y?(0,Xy.jsxs)("div",{className:"edit-category-form",children:[(0,Xy.jsx)("h3",{children:"Edit Category"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"editCategoryId",children:"Category ID:"}),(0,Xy.jsx)("input",{type:"text",id:"editCategoryId",value:y.id,onChange:e=>_(e,"id"),placeholder:"Category ID (lowercase, no spaces)"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"editCategoryLabel",children:"Category Label:"}),(0,Xy.jsx)("input",{type:"text",id:"editCategoryLabel",value:y.label,onChange:e=>_(e,"label"),placeholder:"Category Label (displayed to users)"})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:()=>{var e;const t=null===(e=r.find((e=>e.id===y.id)))||void 0===e?void 0:e.id,n=r.map((e=>e.id===t?y:e));a(n),T(n),t!==y.id&&I(t,y.id),b(null)},children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save Category"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>b(null),children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]}):(0,Xy.jsxs)("div",{className:"add-category-container",children:[(0,Xy.jsx)("h3",{children:"Add New Category"}),(0,Xy.jsxs)("div",{className:"add-category-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"categoryId",children:"Category ID:"}),(0,Xy.jsx)("input",{type:"text",id:"categoryId",value:g.id,onChange:e=>{v(l(l({},g),{},{id:e.target.value.toLowerCase().replace(/\s+/g,"_")}))},placeholder:"Category ID (lowercase, no spaces)"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"categoryLabel",children:"Category Label:"}),(0,Xy.jsx)("input",{type:"text",id:"categoryLabel",value:g.label,onChange:e=>{v(l(l({},g),{},{label:e.target.value}))},placeholder:"Category Label (displayed to users)"})]}),(0,Xy.jsxs)("button",{className:"add-category-btn",onClick:()=>{if(g.id&&g.label&&!r.some((e=>e.id===g.id))){const e=[...r,l({},g)];a(e),T(e),v({id:"",label:""})}},disabled:!g.id||!g.label,children:[(0,Xy.jsx)(Eb,{className:"button-icon"}),"Add Category"]})]})]})]})]}),h&&(0,Xy.jsxs)("div",{className:"edit-form-container",children:[(0,Xy.jsx)("h2",{children:"Add New FAQ Item"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"category",children:"Category:"}),(0,Xy.jsxs)("select",{id:"category",name:"category",value:x.category,onChange:C,required:!0,children:[(0,Xy.jsx)("option",{value:"",children:"Select a category"}),r.map(((e,t)=>(0,Xy.jsx)("option",{value:e.id,children:e.label},t)))]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"question",children:"Question:"}),(0,Xy.jsx)("input",{type:"text",id:"question",name:"question",value:x.question,onChange:C,placeholder:"Enter the question",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"answer",children:"Answer:"}),(0,Xy.jsx)("textarea",{id:"answer",name:"answer",value:x.answer,onChange:C,placeholder:"Enter the answer",rows:"5",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{const e=await ev(j,x);s([...i,l(l({},x),{},{id:e.id})]),m(!1),w({category:"",question:"",answer:""})}catch(e){console.error("Error adding FAQ item:",e),alert("Failed to add FAQ item. Please try again.")}},disabled:!x.category||!x.question||!x.answer,children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save FAQ Item"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>m(!1),children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),u&&(0,Xy.jsxs)("div",{className:"edit-form-container",children:[(0,Xy.jsx)("h2",{children:"Edit Contact & FAQ Item"}),(0,Xy.jsxs)("div",{className:"edit-form",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-category",children:"Category:"}),(0,Xy.jsxs)("select",{id:"edit-category",name:"category",value:u.category,onChange:k,children:[(0,Xy.jsx)("option",{value:"",children:"Select a category"}),r.map(((e,t)=>(0,Xy.jsx)("option",{value:e.id,children:e.label},t)))]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-question",children:"Question:"}),(0,Xy.jsx)("input",{type:"text",id:"edit-question",name:"question",value:u.question,onChange:k})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"edit-answer",children:"Answer:"}),(0,Xy.jsx)("textarea",{id:"edit-answer",name:"answer",value:u.answer,onChange:k,rows:"5"})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsxs)("button",{className:"save-button",onClick:async()=>{try{const e=Bp(N,"faq",u.id);await Jg(e,u),s(i.map((e=>e.id===u.id?u:e))),d(null)}catch(e){console.error("Error updating FAQ item:",e),alert("Failed to update FAQ item. Please try again.")}},children:[(0,Xy.jsx)(_b,{className:"button-icon"}),"Save Changes"]}),(0,Xy.jsxs)("button",{className:"cancel-button",onClick:()=>d(null),children:[(0,Xy.jsx)(Tb,{className:"button-icon"}),"Cancel"]})]})]})]}),(0,Xy.jsxs)("div",{className:"faq-items-management",children:[(0,Xy.jsx)("h2",{children:"Manage FAQ Items"}),o?(0,Xy.jsx)("div",{className:"loading",children:"Loading FAQ items..."}):0===i.length?(0,Xy.jsx)("div",{className:"no-faq-items",children:"No FAQ items found. Add your first FAQ item!"}):(0,Xy.jsx)("div",{className:"faq-items-list",children:r.map((e=>{const t=i.filter((t=>t.category===e.id));return 0===t.length?null:(0,Xy.jsxs)("div",{className:"faq-category-section",children:[(0,Xy.jsx)("h3",{className:"category-heading",children:e.label}),t.map((e=>(0,Xy.jsxs)("div",{className:"faq-item-card",children:[(0,Xy.jsxs)("div",{className:"faq-item-content",children:[(0,Xy.jsx)("h4",{className:"faq-item-question",children:e.question}),(0,Xy.jsx)("p",{className:"faq-item-answer",children:e.answer})]}),(0,Xy.jsxs)("div",{className:"faq-item-actions",children:[(0,Xy.jsxs)("button",{className:"edit-button",onClick:()=>(e=>{d(l({},e)),m(!1),p(!1),b(null)})(e),children:[(0,Xy.jsx)(jb,{className:"button-icon"}),"Edit"]}),(0,Xy.jsxs)("button",{className:"delete-button",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this FAQ item?"))try{await Zg(Bp(N,"faq",e)),s(i.filter((t=>t.id!==e)))}catch(t){console.error("Error deleting FAQ item:",t),alert("Failed to delete FAQ item. Please try again.")}})(e.id),children:[(0,Xy.jsx)(Ab,{className:"button-icon"}),"Delete"]})]})]},e.id)))]},e.id)}))})]}),(0,Xy.jsxs)("div",{className:"admin-faq-footer",children:[(0,Xy.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," ProCart"]}),(0,Xy.jsx)(mt,{to:"/faq",className:"view-faq-link",target:"_blank",children:"View Contact & FAQ Page"})]})]})},Ob=()=>{const[t,n]=(0,e.useState)(null),r=e=>{n(e)};return(0,Xy.jsxs)("div",{className:"manage-footer-container",children:[(0,Xy.jsxs)("div",{className:"footer-navigation",children:[(0,Xy.jsx)("h1",{children:"Footer Management"}),(0,Xy.jsxs)("div",{className:"footer-tabs",children:[(0,Xy.jsx)("button",{className:"footer-tab ".concat("blog"===t?"active":""),onClick:()=>r("blog"),children:"Create Blog"}),(0,Xy.jsx)("button",{className:"footer-tab ".concat("newsroom"===t?"active":""),onClick:()=>r("newsroom"),children:"Create Newsroom"}),(0,Xy.jsx)("button",{className:"footer-tab ".concat("faq"===t?"active":""),onClick:()=>r("faq"),children:"Create Contact & FAQ"}),(0,Xy.jsx)("button",{className:"footer-tab back-tab",onClick:()=>n(null),children:"Back"})]})]}),(0,Xy.jsx)("div",{className:"footer-content",children:(()=>{switch(t){case"blog":return(0,Xy.jsx)(Pb,{});case"newsroom":return(0,Xy.jsx)(Db,{});case"faq":return(0,Xy.jsx)(Rb,{});default:return(0,Xy.jsxs)("div",{className:"footer-welcome",children:[(0,Xy.jsx)("h2",{children:"Footer Content Management"}),(0,Xy.jsx)("p",{children:"Select an option above to manage different sections of your website footer."}),(0,Xy.jsxs)("div",{className:"footer-options-info",children:[(0,Xy.jsxs)("div",{className:"footer-option-card",children:[(0,Xy.jsx)("h3",{children:"Blog"}),(0,Xy.jsx)("p",{children:"Create and manage blog posts that appear in your website footer."}),(0,Xy.jsx)("button",{className:"option-btn blog-btn",onClick:()=>r("blog"),children:"Manage Blog"})]}),(0,Xy.jsxs)("div",{className:"footer-option-card",children:[(0,Xy.jsx)("h3",{children:"Newsroom"}),(0,Xy.jsx)("p",{children:"Manage press releases and news items for your company."}),(0,Xy.jsx)("button",{className:"option-btn newsroom-btn",onClick:()=>r("newsroom"),children:"Manage Newsroom"})]}),(0,Xy.jsxs)("div",{className:"footer-option-card",children:[(0,Xy.jsx)("h3",{children:"Contact & FAQ"}),(0,Xy.jsx)("p",{children:"Create and organize frequently asked questions to help your customers."}),(0,Xy.jsx)("button",{className:"option-btn faq-btn",onClick:()=>r("faq"),children:"Manage Contact & FAQ"})]})]})]})}})()})]})},Lb=()=>{const[t,n]=(0,e.useState)([]),[r,a]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[o,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),[h,m]=(0,e.useState)("all"),[f,p]=(0,e.useState)({from:"",to:""}),[g,v]=(0,e.useState)(""),[y,b]=(0,e.useState)(""),[x,w]=(0,e.useState)(!1),N=(0,e.useRef)(null),j=["all"],k={pending:"Pending Payment","Pending Payment":"Pending Payment",Processing:"Processing",Shipped:"Shipped",Delivered:"Delivered",Cancelled:"Cancelled",all:"All Statuses"},C={"Pending Payment":["pending","Pending Payment"],Processing:["Processing"],Shipped:["Shipped"],Delivered:["Delivered"],Cancelled:["Cancelled"],all:["pending","Pending Payment","Processing","Shipped","Delivered","Cancelled"]};(0,e.useEffect)((()=>{const e=setTimeout((()=>{b(g)}),300);return()=>{clearTimeout(e)}}),[g]);const S=e=>{if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e))return new Date(e);const t=e.split("-");return 3===t.length?new Date("".concat(t[1],"/").concat(t[0],"/").concat(t[2])):new Date(e)};(0,e.useEffect)((()=>{(async()=>{try{a(!0),s(null);let t=[];if("all"!==h){const n=C[h]||[h];for(const r of n){try{const e=Pg(zp(Qy,"orders"),Rg("status","==",r),Fg("orderDate","desc"));(await Xg(e)).forEach((e=>{const n=e.data();n.orderDate&&t.push(l(l({id:e.id},n),{},{orderDate:n.orderDate instanceof Yo?n.orderDate.toDate():new Date(n.orderDate)}))}))}catch(e){console.warn("Error fetching orders with orderDate:",e)}try{const e=Pg(zp(Qy,"orders"),Rg("status","==",r),Fg("createdAt","desc"));(await Xg(e)).forEach((e=>{const n=e.data();n.createdAt&&!t.some((t=>t.id===e.id))&&t.push(l(l({id:e.id},n),{},{orderDate:n.createdAt instanceof Yo?n.createdAt.toDate():new Date(n.createdAt)}))}))}catch(e){console.warn("Error fetching orders with createdAt:",e)}}}else{try{const e=Pg(zp(Qy,"orders"),Fg("orderDate","desc"));(await Xg(e)).forEach((e=>{const n=e.data();n.orderDate&&t.push(l(l({id:e.id},n),{},{orderDate:n.orderDate instanceof Yo?n.orderDate.toDate():new Date(n.orderDate)}))}))}catch(e){console.warn("Error fetching all orders with orderDate:",e)}try{const e=Pg(zp(Qy,"orders"),Fg("createdAt","desc"));(await Xg(e)).forEach((e=>{const n=e.data();n.createdAt&&!t.some((t=>t.id===e.id))&&t.push(l(l({id:e.id},n),{},{orderDate:n.createdAt instanceof Yo?n.createdAt.toDate():new Date(n.createdAt)}))}))}catch(e){console.warn("Error fetching all orders with createdAt:",e)}}if(t.sort(((e,t)=>t.orderDate-e.orderDate)),f.from&&f.to){const e=S(f.from),n=S(f.to);e&&n?(n.setHours(23,59,59,999),console.log("Filtering by date range:",{from:e.toISOString(),to:n.toISOString()}),t=t.filter((t=>{const r=t.orderDate instanceof Date?t.orderDate:new Date(t.orderDate);return r>=e&&r<=n})),console.log("After date filtering: ".concat(t.length," orders remain"))):console.warn("Invalid date format in date range filter",{from:f.from,to:f.to})}if(y){const e=y.toLowerCase(),n=t.length;t=t.filter((t=>t.id.toLowerCase().includes(e)||t.userId&&t.userId.toLowerCase().includes(e)||t.customerName&&t.customerName.toLowerCase().includes(e)||t.deliveryAddress&&t.deliveryAddress.toLowerCase().includes(e)||t.productName&&t.productName.toLowerCase().includes(e))),console.log("Search filtering: ".concat(n," \u2192 ").concat(t.length," orders"))}console.log("Fetched orders:",t),n(t),a(!1)}catch(e){console.error("Error fetching orders:",e),s("Failed to load orders. Please try again."),a(!1)}})()}),[h,f,y]);const E=e=>{if(!e)return"N/A";const t=e instanceof Date?e:new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},_=e=>{const t=e.toLowerCase();return"pending"===t||"pending payment"===t?"status-pending":"processing"===t?"status-processing":"shipped"===t?"status-shipped":"delivered"===t?"status-delivered":"cancelled"===t?"status-cancelled":""},I=e=>k[e]||e,T=()=>{m("all"),p({from:"",to:""}),v(""),b(""),N.current&&N.current.focus()};return r?(0,Xy.jsxs)("div",{className:"orders-loading",children:[(0,Xy.jsx)("div",{className:"spinner"}),(0,Xy.jsx)("p",{children:"Loading orders..."})]}):i?(0,Xy.jsxs)("div",{className:"orders-error",children:[(0,Xy.jsx)("h2",{children:"Error"}),(0,Xy.jsx)("p",{children:i}),(0,Xy.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry"})]}):(0,Xy.jsxs)("div",{className:"orders-management",children:[(0,Xy.jsx)("h1",{children:"Orders Management"}),(0,Xy.jsxs)("div",{className:"filters-section",children:[(0,Xy.jsxs)("div",{className:"filter-group",children:[(0,Xy.jsx)("label",{children:"Status:"}),(0,Xy.jsx)("select",{value:h,onChange:e=>m(e.target.value),className:"status-select",children:j.map((e=>(0,Xy.jsx)("option",{value:e,children:"all"===e?"All Statuses":e},e)))})]}),(0,Xy.jsxs)("div",{className:"filter-group",children:[(0,Xy.jsx)("label",{children:"Date Range:"}),(0,Xy.jsx)("input",{type:"date",value:f.from,onChange:e=>p((t=>l(l({},t),{},{from:e.target.value}))),className:"date-input"}),(0,Xy.jsx)("input",{type:"date",value:f.to,onChange:e=>p((t=>l(l({},t),{},{to:e.target.value}))),className:"date-input"})]}),(0,Xy.jsxs)("div",{className:"filter-group",children:[(0,Xy.jsx)("label",{children:"Search:"}),(0,Xy.jsx)("input",{type:"text",value:g,onChange:e=>{v(e.target.value)},placeholder:"Order ID, Customer, Address...",className:"search-input",ref:N})]}),(0,Xy.jsx)("button",{className:"reset-filters-btn",onClick:T,children:"Reset Filters"})]}),(0,Xy.jsx)("div",{className:"orders-table-container",children:0===t.length?(0,Xy.jsxs)("div",{className:"no-orders",children:[(0,Xy.jsx)("p",{children:"No orders found matching the current filters."}),(0,Xy.jsx)("button",{onClick:T,children:"Reset Filters"})]}):(0,Xy.jsxs)("table",{className:"orders-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Order ID"}),(0,Xy.jsx)("th",{children:"Date"}),(0,Xy.jsx)("th",{children:"Customer"}),(0,Xy.jsx)("th",{children:"Total Amount"}),(0,Xy.jsx)("th",{children:"Payment Method"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:t.map((e=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsxs)("td",{children:[e.id.substring(0,8),"..."]}),(0,Xy.jsx)("td",{children:E(e.orderDate)}),(0,Xy.jsx)("td",{children:e.customerName||e.userId&&e.userId.substring(0,8)||"Unknown"}),(0,Xy.jsxs)("td",{children:["\u20b9",e.totalAmount?e.totalAmount.toLocaleString("en-IN"):"N/A"]}),(0,Xy.jsx)("td",{children:"cod"===e.paymentMethod?"Cash on Delivery":"online"===e.paymentMethod?"Online Payment":"Razorpay"}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"status-badge ".concat(_(e.status)),children:I(e.status)})}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("div",{className:"action-buttons",children:(0,Xy.jsx)("button",{className:"view-btn",onClick:()=>(async e=>{try{const t=Bp(Qy,"orders",e),n=await Qg(t);if(n.exists()){const e=n.data();let t;t=e.orderDate?e.orderDate instanceof Yo?e.orderDate.toDate():new Date(e.orderDate):e.createdAt?e.createdAt instanceof Yo?e.createdAt.toDate():new Date(e.createdAt):new Date,c(l(l({id:n.id},e),{},{orderDate:t})),d(!0)}else alert("Order not found!")}catch(i){console.error("Error fetching order details:",i),alert("Failed to load order details. Please try again.")}})(e.id),children:"View"})})})]},e.id)))})]})}),u&&o&&(0,Xy.jsx)("div",{className:"order-details-modal",children:(0,Xy.jsxs)("div",{className:"modal-content",children:[(0,Xy.jsxs)("div",{className:"modal-header",children:[(0,Xy.jsx)("h2",{children:"Order Details"}),(0,Xy.jsx)("button",{className:"close-btn",onClick:()=>{d(!1),c(null)},children:"\xd7"})]}),(0,Xy.jsxs)("div",{className:"modal-body",children:[(0,Xy.jsxs)("div",{className:"order-info",children:[(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Order ID:"}),(0,Xy.jsx)("span",{className:"value",children:o.id})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Order Date:"}),(0,Xy.jsx)("span",{className:"value",children:E(o.orderDate)})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Status:"}),(0,Xy.jsx)("span",{className:"value status-badge ".concat(_(o.status)),children:I(o.status)})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Payment Method:"}),(0,Xy.jsx)("span",{className:"value",children:"cod"===o.paymentMethod?"Cash on Delivery":"online"===o.paymentMethod?"Online Payment":"Razorpay"})]}),o.paymentId&&(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Payment ID:"}),(0,Xy.jsx)("span",{className:"value",children:o.paymentId})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Customer ID:"}),(0,Xy.jsx)("span",{className:"value",children:o.userId||"N/A"})]}),o.customerName&&(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Customer Name:"}),(0,Xy.jsx)("span",{className:"value",children:o.customerName})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Delivery Address:"}),(0,Xy.jsx)("span",{className:"value",children:o.deliveryAddress||"N/A"})]}),o.deliveryOption&&(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Delivery Option:"}),(0,Xy.jsx)("span",{className:"value",children:o.deliveryOption})]})]}),(0,Xy.jsxs)("div",{className:"order-items",children:[(0,Xy.jsx)("h3",{children:"Order Items"}),(0,Xy.jsxs)("table",{className:"items-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Item"}),(0,Xy.jsx)("th",{children:"Price"}),(0,Xy.jsx)("th",{children:"Quantity"}),(0,Xy.jsx)("th",{children:"Total"})]})}),(0,Xy.jsx)("tbody",{children:o.items&&o.items.length>0?o.items.map(((e,t)=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{children:e.name||"Unknown Item"}),(0,Xy.jsxs)("td",{children:["\u20b9",e.price?e.price.toLocaleString("en-IN"):"N/A"]}),(0,Xy.jsx)("td",{children:e.quantity||1}),(0,Xy.jsxs)("td",{children:["\u20b9",((e.price||0)*(e.quantity||1)).toLocaleString("en-IN")]})]},t))):o.productName?(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{children:o.productName}),(0,Xy.jsxs)("td",{children:["\u20b9",o.price?o.price.toLocaleString("en-IN"):"N/A"]}),(0,Xy.jsx)("td",{children:o.quantity||1}),(0,Xy.jsxs)("td",{children:["\u20b9",((o.price||0)*(o.quantity||1)).toLocaleString("en-IN")]})]}):(0,Xy.jsx)("tr",{children:(0,Xy.jsx)("td",{colSpan:"4",children:"No item details available"})})}),(0,Xy.jsx)("tfoot",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{colSpan:"3",className:"total-label",children:"Total Amount:"}),(0,Xy.jsxs)("td",{className:"total-value",children:["\u20b9",o.totalAmount?o.totalAmount.toLocaleString("en-IN"):"N/A"]})]})})]})]}),(0,Xy.jsxs)("div",{className:"action-section",children:[(0,Xy.jsx)("h3",{children:"Update Order Status"}),(0,Xy.jsxs)("div",{className:"status-update-controls",children:[(0,Xy.jsx)("select",{value:o.status,onChange:e=>{c((t=>l(l({},t),{},{status:e.target.value})))},className:"status-update-select",disabled:x,children:j.filter((e=>"all"!==e)).map((e=>(0,Xy.jsx)("option",{value:"Pending Payment"===e?"pending":e,children:e},e)))}),(0,Xy.jsx)("button",{className:"update-status-btn",onClick:()=>(async(e,t)=>{try{w(!0);const r=Bp(Qy,"orders",e);if(!(await Qg(r)).exists())throw new Error("Order not found");const a={status:t,lastUpdated:(new Date).toISOString()};await Jg(r,a),n((n=>n.map((n=>n.id===e?l(l({},n),{},{status:t,lastUpdated:(new Date).toISOString()}):n)))),o&&o.id===e&&c((e=>l(l({},e),{},{status:t,lastUpdated:(new Date).toISOString()}))),alert("Order status updated to ".concat(k[t]||t))}catch(i){console.error("Error updating order status:",i),alert("Failed to update order status: ".concat(i.message))}finally{w(!1)}})(o.id,o.status),disabled:x,children:x?"Updating...":"Update Status"})]})]})]})]})})]})},Fb=()=>{const[t,n]=(0,e.useState)({quick:[],normal:[],late:[]}),[r,a]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[o,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),[h,m]=(0,e.useState)("all"),[f,p]=(0,e.useState)({from:"",to:""}),[g,v]=(0,e.useState)(""),y=["all","Pending","Processing","Out for Delivery","Delivered","Cancelled"];(0,e.useEffect)((()=>{(async()=>{try{a(!0),s(null);let t=Pg(zp(Qy,"orders"),Fg("orderDate","desc"));"all"!==h&&(t=Pg(zp(Qy,"orders"),Rg("deliveryStatus","==",h),Fg("orderDate","desc")));const r=await Xg(t);let i=[];if(r.forEach((e=>{const t=e.data();i.push(l(l({id:e.id},t),{},{orderDate:t.orderDate instanceof Yo?t.orderDate.toDate():new Date(t.orderDate)}))})),f.from&&f.to){const e=new Date(f.from),t=new Date(f.to);t.setHours(23,59,59,999),i=i.filter((n=>{const r=n.orderDate instanceof Date?n.orderDate:new Date(n.orderDate);return r>=e&&r<=t}))}if(g){const e=g.toLowerCase();i=i.filter((t=>t.orderId&&t.orderId.toLowerCase().includes(e)||t.id&&t.id.toLowerCase().includes(e)||t.userId&&t.userId.toLowerCase().includes(e)||t.customerName&&t.customerName.toLowerCase().includes(e)||t.deliveryAddress&&t.deliveryAddress.toLowerCase().includes(e)))}const o=Pg(zp(Qy,"deliveries")),c=(await Xg(o),{quick:[],normal:[],late:[]});for(const n of i)if(n.items&&Array.isArray(n.items)){const t=new Set;n.items.forEach((e=>{const n=e.deliverySpeed||"normal";t.add(n)}));for(const r of t)if(["quick","normal","late"].includes(r)){const t=n.items.filter((e=>(e.deliverySpeed||"normal")===r)),a="".concat(n.id,"_").concat(r),i=Bp(Qy,"deliveries",a),s=await Qg(i);let o;var e;if(s.exists())o=s.data(),o.orderDate=o.orderDate instanceof Yo?o.orderDate.toDate():new Date(o.orderDate);else o={id:a,orderId:n.id,orderDate:n.orderDate,customerName:n.customerName||"Guest",customerId:n.userId||"guest",customerEmail:n.customerEmail||"Not provided",customerPhone:n.customerPhone||"Not provided",deliveryAddress:n.deliveryAddress||"Not specified",paymentMethod:n.paymentMethod||"Not specified",paymentId:n.paymentId||"N/A",deliverySpeed:r,items:t,status:n.deliveryStatus||"Pending",statusHistory:(null===(e=n.statusHistory)||void 0===e?void 0:e.filter((e=>e.deliverySpeed===r)))||[],subtotal:t.reduce(((e,t)=>e+t.price*(t.quantity||1)),0),notes:n.notes||"",createdAt:sv(),lastUpdated:sv()},await $g(i,o);c[r].push(o)}}console.log("Grouped deliveries:",c),n(c),a(!1)}catch(t){console.error("Error fetching deliveries:",t),s("Failed to load deliveries. Please try again."),a(!1)}})()}),[h,f,g]);const b=async(e,t)=>{try{const r=Bp(Qy,"deliveries",e),a=await Qg(r);if(!a.exists())throw new Error("Delivery not found");const i=a.data(),s={status:t,timestamp:(new Date).toISOString(),deliverySpeed:i.deliverySpeed};await Jg(r,{status:t,statusHistory:ov(s),lastUpdated:sv()});const u=i.orderId;if(u){console.log("Updating order ".concat(u," with status ").concat(t));const e=Bp(Qy,"orders",u);(await Qg(e)).exists()?(await Jg(e,{deliveryStatus:t,statusHistory:ov(s),lastUpdated:sv()}),console.log("Order ".concat(u," status updated to ").concat(t))):console.error("Order ".concat(u," not found, unable to update status"))}n((n=>{const r=l({},n),a=i.deliverySpeed;return r[a]=n[a].map((n=>n.id===e?l(l({},n),{},{status:t,statusHistory:[...n.statusHistory||[],s]}):n)),r})),o&&o.id===e&&c((e=>l(l({},e),{},{status:t,statusHistory:[...e.statusHistory||[],s]}))),alert("Delivery status updated to ".concat(t))}catch(i){console.error("Error updating delivery status:",i),alert("Failed to update delivery status. Please try again.")}},x=async e=>{try{const t=Bp(Qy,"deliveries",e),n=await Qg(t);if(n.exists()){const e=n.data(),t={id:n.id,orderId:e.orderId,orderDate:e.orderDate instanceof Yo?e.orderDate.toDate():new Date(e.orderDate),customerName:e.customerName,customerEmail:e.customerEmail,customerPhone:e.customerPhone,customerId:e.customerId,deliveryAddress:e.deliveryAddress,paymentMethod:e.paymentMethod,paymentId:e.paymentId,deliverySpeed:e.deliverySpeed,items:e.items,status:e.status,statusHistory:e.statusHistory,subtotal:e.subtotal,notes:e.notes};c(t),d(!0)}else alert("Delivery not found!")}catch(i){console.error("Error fetching delivery details:",i),alert("Failed to load delivery details. Please try again.")}},w=e=>{if(!e)return"N/A";const t=e instanceof Date?e:new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},N=e=>{switch(e){case"Pending":return"status-pending";case"Processing":return"status-processing";case"Out for Delivery":return"status-out-for-delivery";case"Delivered":return"status-delivered";case"Cancelled":return"status-cancelled";default:return""}},j=e=>{switch(e){case"quick":return{icon:"\u26a1",class:"delivery-quick"};case"express":return{icon:"\ud83d\ude80",class:"delivery-express"};case"normal":return{icon:"\ud83d\ude9a",class:"delivery-normal"};case"late":return{icon:"\ud83d\udc0c",class:"delivery-late"};default:return{icon:"\ud83d\udce6",class:"delivery-standard"}}},k=()=>{m("all"),p({from:"",to:""}),v("")};if(r)return(0,Xy.jsxs)("div",{className:"deliveries-loading",children:[(0,Xy.jsx)("div",{className:"spinner"}),(0,Xy.jsx)("p",{children:"Loading deliveries..."})]});if(i)return(0,Xy.jsxs)("div",{className:"deliveries-error",children:[(0,Xy.jsx)("h2",{children:"Error"}),(0,Xy.jsx)("p",{children:i}),(0,Xy.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry"})]});const C=t.quick.length+t.normal.length+t.late.length;return(0,Xy.jsxs)("div",{className:"delivery-management",children:[(0,Xy.jsx)("h1",{children:"Delivery Management"}),(0,Xy.jsxs)("div",{className:"filters-section",children:[(0,Xy.jsxs)("div",{className:"filter-group",children:[(0,Xy.jsx)("label",{children:"Status:"}),(0,Xy.jsx)("select",{value:h,onChange:e=>m(e.target.value),children:y.map((e=>(0,Xy.jsx)("option",{value:e,children:"all"===e?"All Statuses":e},e)))})]}),(0,Xy.jsxs)("div",{className:"filter-group",children:[(0,Xy.jsx)("label",{children:"Date Range:"}),(0,Xy.jsx)("input",{type:"date",value:f.from,onChange:e=>p(l(l({},f),{},{from:e.target.value})),placeholder:"From"}),(0,Xy.jsx)("input",{type:"date",value:f.to,onChange:e=>p(l(l({},f),{},{to:e.target.value})),placeholder:"To"})]}),(0,Xy.jsxs)("div",{className:"filter-group",children:[(0,Xy.jsx)("label",{children:"Search:"}),(0,Xy.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),placeholder:"Order ID, Customer, Address..."})]}),(0,Xy.jsx)("button",{className:"reset-filters-btn",onClick:k,children:"Reset Filters"})]}),(0,Xy.jsxs)("div",{className:"deliveries-summary",children:[(0,Xy.jsxs)("div",{className:"summary-card total",children:[(0,Xy.jsx)("div",{className:"summary-icon",children:"\ud83d\udce6"}),(0,Xy.jsxs)("div",{className:"summary-details",children:[(0,Xy.jsx)("h3",{children:"Total Deliveries"}),(0,Xy.jsx)("p",{className:"summary-count",children:C})]})]}),(0,Xy.jsxs)("div",{className:"summary-card quick",children:[(0,Xy.jsx)("div",{className:"summary-icon",children:"\u26a1"}),(0,Xy.jsxs)("div",{className:"summary-details",children:[(0,Xy.jsx)("h3",{children:"Quick Deliveries"}),(0,Xy.jsx)("p",{className:"summary-count",children:t.quick.length})]})]}),(0,Xy.jsxs)("div",{className:"summary-card normal",children:[(0,Xy.jsx)("div",{className:"summary-icon",children:"\ud83d\ude9a"}),(0,Xy.jsxs)("div",{className:"summary-details",children:[(0,Xy.jsx)("h3",{children:"Normal Deliveries"}),(0,Xy.jsx)("p",{className:"summary-count",children:t.normal.length})]})]}),(0,Xy.jsxs)("div",{className:"summary-card late",children:[(0,Xy.jsx)("div",{className:"summary-icon",children:"\ud83d\udc0c"}),(0,Xy.jsxs)("div",{className:"summary-details",children:[(0,Xy.jsx)("h3",{children:"Late Deliveries"}),(0,Xy.jsx)("p",{className:"summary-count",children:t.late.length})]})]})]}),0===C&&(0,Xy.jsxs)("div",{className:"no-deliveries",children:[(0,Xy.jsx)("p",{children:"No deliveries found matching the current filters."}),(0,Xy.jsx)("button",{onClick:k,children:"Reset Filters"})]}),t.quick.length>0&&(0,Xy.jsxs)("div",{className:"delivery-section",children:[(0,Xy.jsx)("div",{className:"section-header quick-header",children:(0,Xy.jsxs)("h2",{children:[(0,Xy.jsx)("span",{className:"delivery-icon",children:"\u26a1"}),"Quick Deliveries (",t.quick.length,")"]})}),(0,Xy.jsx)("div",{className:"deliveries-table-container",children:(0,Xy.jsxs)("table",{className:"deliveries-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Order ID"}),(0,Xy.jsx)("th",{children:"Date"}),(0,Xy.jsx)("th",{children:"Customer"}),(0,Xy.jsx)("th",{children:"Address"}),(0,Xy.jsx)("th",{children:"Amount"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:t.quick.map((e=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsxs)("td",{children:[e.orderId.substring(0,8),"..."]}),(0,Xy.jsx)("td",{children:w(e.orderDate)}),(0,Xy.jsx)("td",{children:e.customerName}),(0,Xy.jsxs)("td",{children:[e.deliveryAddress.substring(0,15),"..."]}),(0,Xy.jsxs)("td",{children:["\u20b9",e.subtotal.toLocaleString("en-IN")]}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"status-badge ".concat(N(e.status)),children:e.status})}),(0,Xy.jsx)("td",{children:(0,Xy.jsxs)("div",{className:"action-buttons",children:[(0,Xy.jsx)("button",{className:"view-btn",onClick:()=>x(e.id),children:"View"}),(0,Xy.jsxs)("select",{className:"status-select",value:"",onChange:t=>{t.target.value&&(b(e.id,t.target.value),t.target.value="")},children:[(0,Xy.jsx)("option",{value:"",children:"Update Status"}),y.filter((t=>"all"!==t&&t!==e.status)).map((e=>(0,Xy.jsx)("option",{value:e,children:e},e)))]})]})})]},e.id)))})]})})]}),t.normal.length>0&&(0,Xy.jsxs)("div",{className:"delivery-section",children:[(0,Xy.jsx)("div",{className:"section-header normal-header",children:(0,Xy.jsxs)("h2",{children:[(0,Xy.jsx)("span",{className:"delivery-icon",children:"\ud83d\ude9a"}),"Normal Deliveries (",t.normal.length,")"]})}),(0,Xy.jsx)("div",{className:"deliveries-table-container",children:(0,Xy.jsxs)("table",{className:"deliveries-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Order ID"}),(0,Xy.jsx)("th",{children:"Date"}),(0,Xy.jsx)("th",{children:"Customer"}),(0,Xy.jsx)("th",{children:"Address"}),(0,Xy.jsx)("th",{children:"Amount"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:t.normal.map((e=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsxs)("td",{children:[e.orderId.substring(0,8),"..."]}),(0,Xy.jsx)("td",{children:w(e.orderDate)}),(0,Xy.jsx)("td",{children:e.customerName}),(0,Xy.jsxs)("td",{children:[e.deliveryAddress.substring(0,15),"..."]}),(0,Xy.jsxs)("td",{children:["\u20b9",e.subtotal.toLocaleString("en-IN")]}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"status-badge ".concat(N(e.status)),children:e.status})}),(0,Xy.jsx)("td",{children:(0,Xy.jsxs)("div",{className:"action-buttons",children:[(0,Xy.jsx)("button",{className:"view-btn",onClick:()=>x(e.id),children:"View"}),(0,Xy.jsxs)("select",{className:"status-select",value:"",onChange:t=>{t.target.value&&(b(e.id,t.target.value),t.target.value="")},children:[(0,Xy.jsx)("option",{value:"",children:"Update Status"}),y.filter((t=>"all"!==t&&t!==e.status)).map((e=>(0,Xy.jsx)("option",{value:e,children:e},e)))]})]})})]},e.id)))})]})})]}),t.late.length>0&&(0,Xy.jsxs)("div",{className:"delivery-section",children:[(0,Xy.jsx)("div",{className:"section-header late-header",children:(0,Xy.jsxs)("h2",{children:[(0,Xy.jsx)("span",{className:"delivery-icon",children:"\ud83d\udc0c"}),"Late Deliveries (",t.late.length,")"]})}),(0,Xy.jsx)("div",{className:"deliveries-table-container",children:(0,Xy.jsxs)("table",{className:"deliveries-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Order ID"}),(0,Xy.jsx)("th",{children:"Date"}),(0,Xy.jsx)("th",{children:"Customer"}),(0,Xy.jsx)("th",{children:"Address"}),(0,Xy.jsx)("th",{children:"Amount"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:t.late.map((e=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsxs)("td",{children:[e.orderId.substring(0,8),"..."]}),(0,Xy.jsx)("td",{children:w(e.orderDate)}),(0,Xy.jsx)("td",{children:e.customerName}),(0,Xy.jsxs)("td",{children:[e.deliveryAddress.substring(0,15),"..."]}),(0,Xy.jsxs)("td",{children:["\u20b9",e.subtotal.toLocaleString("en-IN")]}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"status-badge ".concat(N(e.status)),children:e.status})}),(0,Xy.jsx)("td",{children:(0,Xy.jsxs)("div",{className:"action-buttons",children:[(0,Xy.jsx)("button",{className:"view-btn",onClick:()=>x(e.id),children:"View"}),(0,Xy.jsxs)("select",{className:"status-select",value:"",onChange:t=>{t.target.value&&(b(e.id,t.target.value),t.target.value="")},children:[(0,Xy.jsx)("option",{value:"",children:"Update Status"}),y.filter((t=>"all"!==t&&t!==e.status)).map((e=>(0,Xy.jsx)("option",{value:e,children:e},e)))]})]})})]},e.id)))})]})})]}),u&&o&&(0,Xy.jsx)("div",{className:"delivery-details-modal",children:(0,Xy.jsxs)("div",{className:"modal-content",children:[(0,Xy.jsxs)("div",{className:"modal-header",children:[(0,Xy.jsx)("h2",{children:"Delivery Details"}),(0,Xy.jsx)("button",{className:"close-btn",onClick:()=>{d(!1),c(null)},children:"\xd7"})]}),(0,Xy.jsxs)("div",{className:"modal-body",children:[(0,Xy.jsxs)("div",{className:"delivery-info-header",children:[(0,Xy.jsxs)("div",{className:"delivery-type",children:[(0,Xy.jsx)("span",{className:"delivery-icon ".concat(j(o.deliverySpeed).class),children:j(o.deliverySpeed).icon}),(0,Xy.jsxs)("span",{className:"delivery-label",children:[o.deliverySpeed.charAt(0).toUpperCase()+o.deliverySpeed.slice(1)," Delivery"]})]}),(0,Xy.jsx)("span",{className:"status-badge ".concat(N(o.status)),children:o.status})]}),(0,Xy.jsxs)("div",{className:"delivery-info-grid",children:[(0,Xy.jsxs)("div",{className:"info-section order-info",children:[(0,Xy.jsx)("h3",{children:"Order Information"}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Order ID:"}),(0,Xy.jsx)("span",{className:"value",children:o.orderId})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Order Date:"}),(0,Xy.jsx)("span",{className:"value",children:w(o.orderDate)})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Payment Method:"}),(0,Xy.jsx)("span",{className:"value",children:o.paymentMethod})]}),o.paymentId&&"N/A"!==o.paymentId&&(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Payment ID:"}),(0,Xy.jsx)("span",{className:"value",children:o.paymentId})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Subtotal:"}),(0,Xy.jsxs)("span",{className:"value",children:["\u20b9",o.subtotal.toLocaleString("en-IN")]})]})]}),(0,Xy.jsxs)("div",{className:"info-section customer-info",children:[(0,Xy.jsx)("h3",{children:"Customer Information"}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Name:"}),(0,Xy.jsx)("span",{className:"value",children:o.customerName})]}),o.customerEmail&&"Not provided"!==o.customerEmail&&(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Email:"}),(0,Xy.jsx)("span",{className:"value",children:o.customerEmail})]}),o.customerPhone&&"Not provided"!==o.customerPhone&&(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Phone:"}),(0,Xy.jsx)("span",{className:"value",children:o.customerPhone})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Customer ID:"}),(0,Xy.jsx)("span",{className:"value",children:o.customerId})]}),(0,Xy.jsxs)("div",{className:"info-group",children:[(0,Xy.jsx)("span",{className:"label",children:"Delivery Address:"}),(0,Xy.jsx)("span",{className:"value address",children:o.deliveryAddress})]})]})]}),(0,Xy.jsxs)("div",{className:"delivery-items",children:[(0,Xy.jsxs)("h3",{children:["Items for ",o.deliverySpeed.charAt(0).toUpperCase()+o.deliverySpeed.slice(1)," Delivery"]}),(0,Xy.jsxs)("table",{className:"items-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Item"}),(0,Xy.jsx)("th",{children:"Price"}),(0,Xy.jsx)("th",{children:"Quantity"}),(0,Xy.jsx)("th",{children:"Total"})]})}),(0,Xy.jsx)("tbody",{children:o.items.map(((e,t)=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{children:e.name}),(0,Xy.jsxs)("td",{children:["\u20b9",e.price.toLocaleString("en-IN")]}),(0,Xy.jsx)("td",{children:e.quantity||1}),(0,Xy.jsxs)("td",{children:["\u20b9",((e.price||0)*(e.quantity||1)).toLocaleString("en-IN")]})]},t)))}),(0,Xy.jsx)("tfoot",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{colSpan:"3",className:"total-label",children:"Subtotal:"}),(0,Xy.jsxs)("td",{className:"total-value",children:["\u20b9",o.subtotal.toLocaleString("en-IN")]})]})})]})]}),(0,Xy.jsxs)("div",{className:"delivery-status-section",children:[(0,Xy.jsx)("h3",{children:"Status Updates"}),o.statusHistory&&o.statusHistory.length>0?(0,Xy.jsx)("div",{className:"status-timeline",children:o.statusHistory.map(((e,t)=>(0,Xy.jsxs)("div",{className:"timeline-item",children:[(0,Xy.jsx)("div",{className:"timeline-marker"}),(0,Xy.jsxs)("div",{className:"timeline-content",children:[(0,Xy.jsx)("div",{className:"timeline-date",children:w(e.timestamp)}),(0,Xy.jsx)("div",{className:"timeline-status",children:(0,Xy.jsx)("span",{className:"status-badge ".concat(N(e.status)),children:e.status})}),e.deliverySpeed&&(0,Xy.jsx)("div",{className:"timeline-delivery",children:(0,Xy.jsxs)("span",{className:"delivery-badge ".concat(j(e.deliverySpeed).class),children:[j(e.deliverySpeed).icon," ",e.deliverySpeed]})})]})]},t)))}):(0,Xy.jsx)("p",{className:"no-status-updates",children:"No status updates recorded."})]}),(0,Xy.jsxs)("div",{className:"delivery-notes-section",children:[(0,Xy.jsx)("h3",{children:"Delivery Notes"}),(0,Xy.jsx)("textarea",{className:"delivery-notes",value:o.notes||"",onChange:e=>c((t=>l(l({},t),{},{notes:e.target.value}))),placeholder:"Add delivery notes here...",rows:"3"}),(0,Xy.jsx)("button",{className:"save-notes-btn",onClick:()=>(async(e,t)=>{try{const n=Bp(Qy,"deliveries",e),r=await Qg(n);if(!r.exists())throw new Error("Delivery not found");await Jg(n,{notes:t,lastUpdated:sv()});const a=r.data().orderId;if(a){const e=Bp(Qy,"orders",a);(await Qg(e)).exists()&&await Jg(e,{notes:t,lastUpdated:sv()})}o&&o.id===e&&c((e=>l(l({},e),{},{notes:t}))),alert("Delivery notes updated successfully")}catch(i){console.error("Error updating delivery notes:",i),alert("Failed to update delivery notes. Please try again.")}})(o.id,o.notes),children:"Save Notes"})]}),(0,Xy.jsxs)("div",{className:"status-update-section",children:[(0,Xy.jsx)("h3",{children:"Update Status"}),(0,Xy.jsx)("div",{className:"status-update-form",children:(0,Xy.jsxs)("select",{className:"status-select",value:"",onChange:e=>{e.target.value&&(b(o.id,e.target.value),e.target.value="")},children:[(0,Xy.jsx)("option",{value:"",children:"Select New Status"}),y.filter((e=>"all"!==e&&e!==o.status)).map((e=>(0,Xy.jsx)("option",{value:e,children:e},e)))]})})]})]})]})})]})},Ub=["id"];const Mb=function(){var t;const[n,a]=(0,e.useState)({title:"",description:"",ctaText:"",categoryId:"",imageFile:null,imagePreview:""}),[i,s]=(0,e.useState)([]),[o,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(null),[h,m]=(0,e.useState)(!1),[f,p]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)(""),[x,w]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{p(!0);try{const e=Pg(zp(Qy,"designCategories"),Fg("name")),t=await Xg(e);if(t.empty)return void await N();const r=t.docs.map((e=>l({id:e.id},e.data())));c(r),r.length>0&&!n.categoryId&&a((e=>l(l({},e),{},{categoryId:r[0].id})))}catch(y){console.error("Error fetching categories:",y),b("Failed to load categories. Please try again.")}finally{p(!1)}})()}),[]);const N=async()=>{try{const e=[{id:"fast-prototyping",name:"Fast Prototyping",icon:"\u26a1",description:"Quick turnaround for your prototype needs",createdAt:sv(),updatedAt:sv()},{id:"pcb-manufacturing",name:"PCB Manufacturing",icon:"\ud83d\udd0c",description:"Professional PCB fabrication services",createdAt:sv(),updatedAt:sv()},{id:"3d-printing",name:"3D Printing",icon:"\ud83d\udda8\ufe0f",description:"Bring your 3D designs to life",createdAt:sv(),updatedAt:sv()},{id:"laser-cutting",name:"Laser Cutting",icon:"\u2702\ufe0f",description:"Precision laser cutting for your projects",createdAt:sv(),updatedAt:sv()},{id:"custom-battery",name:"Custom Battery Pack",icon:"\ud83d\udd0b",description:"Tailored battery solutions for any application",createdAt:sv(),updatedAt:sv()},{id:"iot-components",name:"IoT Components",icon:"\ud83d\udcf1",description:"Connected devices and components",createdAt:sv(),updatedAt:sv()}];for(const t of e){const{id:e}=t,n=r(t,Ub);await $g(Bp(Qy,"designCategories",e),n)}console.log("Default categories created")}catch(y){console.error("Error creating default categories:",y),b("Failed to create default categories")}};(0,e.useEffect)((()=>{(async()=>{if(n.categoryId){m(!0);try{const e=Pg(zp(Qy,"categoryBanners"),Rg("categoryId","==",n.categoryId)),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));s(t)}catch(y){console.error("Error fetching banners:",y),b("Failed to load banners. Please try again.")}finally{m(!1)}}})()}),[n.categoryId]);const j=e=>{const{name:t,value:n}=e.target;a((e=>l(l({},e),{},{[t]:n})))},k=async(e,t)=>{if(!e)return null;try{v(!0);const n="".concat(t,"_").concat(e.name.replace(/[^a-zA-Z0-9.]/g,"_")),r=Vy(qy(Yy,"banners/".concat(n)),e);return new Promise(((e,t)=>{r.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{console.error("Error uploading image:",e),t(e)}),(async()=>{const t=await zy(r.snapshot.ref);e({url:t,path:"banners/".concat(n)})}))}))}catch(y){throw console.error("Error in uploadImage:",y),y}finally{v(!1)}},C=()=>{const e={id:u?u.id:"preview",title:n.title||"Banner Title",description:n.description||"Banner Description",ctaText:n.ctaText||"Action Button",imageUrl:n.imagePreview||"https://via.placeholder.com/1200x600?text=Banner+Preview",categoryId:n.categoryId},t='\n      <div style="max-width: 800px; margin: 0 auto; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-radius: 10px; overflow: hidden;">\n        <div style="position: relative; height: 400px; background-image: url(\''.concat(e.imageUrl,'\'); background-size: cover; background-position: center;">\n          <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to right, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.1) 100%);">\n            <div style="position: absolute; top: 50%; left: 5%; transform: translateY(-50%); max-width: 50%; color: white; padding: 20px;">\n              <h3 style="font-size: 28px; font-weight: 700; margin-bottom: 15px;">').concat(e.title,'</h3>\n              <p style="font-size: 16px; margin-bottom: 20px; line-height: 1.5;">').concat(e.description,'</p>\n              <button style="background-color: #e74c3c; color: white; border: none; padding: 10px 20px; font-size: 16px; border-radius: 5px; cursor: pointer; font-weight: 600;">').concat(e.ctaText,"</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    "),r=window.open("","_blank");r.document.write("\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Banner Preview</title>\n          <style>\n            body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 20px; background-color: #f5f5f5; }\n            h2 { text-align: center; margin-bottom: 20px; }\n          </style>\n        </head>\n        <body>\n          <h2>Banner Preview</h2>\n          ".concat(t,"\n        </body>\n      </html>\n    ")),r.document.close()};return(0,Xy.jsxs)("div",{className:"content",children:[(0,Xy.jsx)("h1",{className:"page-title",children:"Model Banner Management"}),y&&(0,Xy.jsx)("div",{className:"alert alert-danger",children:y}),x&&(0,Xy.jsx)("div",{className:"alert alert-success",children:x}),(0,Xy.jsxs)("div",{className:"row",children:[(0,Xy.jsx)("div",{className:"col-lg-4",children:(0,Xy.jsxs)("div",{className:"card",children:[(0,Xy.jsx)("div",{className:"card-header",children:(0,Xy.jsx)("h3",{children:u?"Edit Banner":"Add New Banner"})}),(0,Xy.jsx)("div",{className:"card-body",children:(0,Xy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.title&&n.description&&n.ctaText&&n.categoryId)if(u||n.imageFile){m(!0),b(""),w("");try{if(u){const e=Bp(Qy,"categoryBanners",u.id),t={title:n.title,description:n.description,ctaText:n.ctaText,updatedAt:sv()};if(n.imageFile){if(u.imagePath)try{const e=qy(Yy,u.imagePath);await By(e)}catch(y){console.error("Error deleting old image:",y)}const e=await k(n.imageFile,u.id);t.imageUrl=e.url,t.imagePath=e.path}await Jg(e,t),w("Banner updated successfully!"),s((e=>e.map((e=>e.id===u.id?l(l(l({},e),t),{},{imageUrl:t.imageUrl||e.imageUrl}):e))))}else{const e={title:n.title,description:n.description,ctaText:n.ctaText,categoryId:n.categoryId,createdAt:sv(),updatedAt:sv()},t=await ev(zp(Qy,"categoryBanners"),e),r=await k(n.imageFile,t.id);await Jg(t,{imageUrl:r.url,imagePath:r.path}),s((n=>[l(l({id:t.id},e),{},{imageUrl:r.url,imagePath:r.path}),...n])),w("Banner added successfully!")}a((e=>l(l({},e),{},{title:"",description:"",ctaText:"",imageFile:null,imagePreview:""}))),d(null)}catch(y){console.error("Error adding/updating banner:",y),b("Failed to save banner. Please try again.")}finally{m(!1)}}else b("Please select an image for the banner");else b("Please fill in all required fields")},children:[(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"categoryId",children:"Category:"}),(0,Xy.jsxs)("select",{id:"categoryId",name:"categoryId",className:"form-control",value:n.categoryId,onChange:e=>{const t=e.target.value;a((e=>l(l({},e),{},{categoryId:t,title:"",description:"",ctaText:"",imageFile:null,imagePreview:""}))),d(null)},disabled:h||g||f,children:[(0,Xy.jsx)("option",{value:"",children:"Select Category"}),o.map((e=>(0,Xy.jsxs)("option",{value:e.id,children:[e.name," ",e.icon]},e.id)))]}),f&&(0,Xy.jsx)("small",{className:"text-muted",children:"Loading categories..."})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"title",children:"Banner Title:"}),(0,Xy.jsx)("input",{type:"text",id:"title",name:"title",className:"form-control",value:n.title,onChange:j,disabled:h||g,placeholder:"e.g. 3D Printing Services"})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Xy.jsx)("textarea",{id:"description",name:"description",className:"form-control",value:n.description,onChange:j,rows:"3",disabled:h||g,placeholder:"e.g. Advanced 3D printing technologies for any project"})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"ctaText",children:"Call-to-Action Button Text:"}),(0,Xy.jsx)("input",{type:"text",id:"ctaText",name:"ctaText",className:"form-control",value:n.ctaText,onChange:j,disabled:h||g,placeholder:"e.g. Learn More"})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"bannerImage",children:"Banner Image:"}),(0,Xy.jsx)("input",{type:"file",id:"bannerImage",className:"form-control",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!["image/jpeg","image/png","image/jpg","image/webp"].includes(t.type))return void b("Please select a valid image file (JPEG, PNG, WebP)");const n=new FileReader;n.onloadend=()=>{a((e=>l(l({},e),{},{imageFile:t,imagePreview:n.result})))},n.readAsDataURL(t)},disabled:h||g}),(0,Xy.jsx)("small",{className:"form-text text-muted",children:"Recommended size: 1200x600 pixels (16:9 ratio)"})]}),n.imagePreview&&(0,Xy.jsx)("div",{className:"image-preview mb-3",children:(0,Xy.jsx)("img",{src:n.imagePreview,alt:"Banner preview",className:"img-fluid rounded"})}),(0,Xy.jsx)("div",{className:"form-group d-flex justify-content-between",children:u?(0,Xy.jsxs)(Xy.Fragment,{children:[(0,Xy.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d(null),a((e=>l(l({},e),{},{title:"",description:"",ctaText:"",imageFile:null,imagePreview:""})))},disabled:h||g,children:"Cancel"}),(0,Xy.jsxs)("div",{children:[(0,Xy.jsxs)("button",{type:"button",className:"btn btn-info me-2",onClick:C,disabled:h||g||!n.title||!n.description,children:[(0,Xy.jsx)("i",{className:"fas fa-eye"})," Preview"]}),(0,Xy.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:h||g,children:g?"Uploading...":h?"Saving...":"Update Banner"})]})]}):(0,Xy.jsxs)("div",{className:"w-100 d-flex justify-content-between",children:[(0,Xy.jsxs)("button",{type:"button",className:"btn btn-info",onClick:C,disabled:h||g||!n.title||!n.description||!n.imagePreview,children:[(0,Xy.jsx)("i",{className:"fas fa-eye"})," Preview"]}),(0,Xy.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:h||g||!n.categoryId,children:g?"Uploading...":h?"Saving...":"Add Banner"})]})})]})})]})}),(0,Xy.jsx)("div",{className:"col-lg-8",children:(0,Xy.jsxs)("div",{className:"card",children:[(0,Xy.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Xy.jsxs)("h3",{children:[(null===(t=o.find((e=>e.id===n.categoryId)))||void 0===t?void 0:t.name)||"Category"," Banners"]}),(0,Xy.jsxs)("div",{className:"banner-count badge bg-primary",children:[i.length," Banner",1!==i.length?"s":""]})]}),(0,Xy.jsx)("div",{className:"card-body",children:h?(0,Xy.jsx)("div",{className:"text-center py-5",children:(0,Xy.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Xy.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===i.length?(0,Xy.jsx)("div",{className:"alert alert-info",children:"No banners found for this category. Please add a new banner."}):(0,Xy.jsx)("div",{className:"banners-grid",children:i.map((e=>(0,Xy.jsxs)("div",{className:"banner-card",children:[(0,Xy.jsx)("div",{className:"banner-card-image",children:(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.title,className:"img-fluid",onError:e=>{e.target.src="https://via.placeholder.com/300x180?text=Image+Not+Found"}})}),(0,Xy.jsxs)("div",{className:"banner-card-content",children:[(0,Xy.jsx)("h4",{children:e.title}),(0,Xy.jsx)("p",{children:e.description}),(0,Xy.jsxs)("div",{className:"banner-card-cta",children:["Button: ",(0,Xy.jsx)("span",{className:"badge bg-secondary",children:e.ctaText})]}),(0,Xy.jsxs)("div",{className:"banner-card-actions",children:[(0,Xy.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>(e=>{d(e),a({title:e.title,description:e.description,ctaText:e.ctaText,categoryId:e.categoryId,imageFile:null,imagePreview:e.imageUrl}),window.scrollTo({top:0,behavior:"smooth"})})(e),disabled:h,children:[(0,Xy.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,Xy.jsxs)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete this banner?")){m(!0);try{if(await Zg(Bp(Qy,"categoryBanners",e)),t){const e=qy(Yy,t);await By(e)}s((t=>t.filter((t=>t.id!==e)))),u&&u.id===e&&(a((e=>l(l({},e),{},{title:"",description:"",ctaText:"",imageFile:null,imagePreview:""}))),d(null)),w("Banner deleted successfully!")}catch(y){console.error("Error deleting banner:",y),b("Failed to delete banner. Please try again.")}finally{m(!1)}}})(e.id,e.imagePath),disabled:h,children:[(0,Xy.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]})]},e.id)))})})]})})]})]})};const Vb=function(){const[t,n]=(0,e.useState)("modals"),[r,a]=(0,e.useState)({title:"",description:"",buttonText:"",buttonLink:"",type:"announcement",targetPage:"all",imageFile:null,imagePreview:"",isActive:!0,startDate:"",endDate:"",showCloseButton:!0,position:"center",priority:"5"}),[i,s]=(0,e.useState)({id:"",name:"",icon:"\u26a1",description:"",isEditing:!1}),[o,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(null),[h,m]=(0,e.useState)([]),[f,p]=(0,e.useState)(null),[g,v]=(0,e.useState)({}),[y,b]=(0,e.useState)(!1),[x,w]=(0,e.useState)(!1),[N,j]=(0,e.useState)(!1),[k,C]=(0,e.useState)(""),[S,E]=(0,e.useState)(""),[_,I]=(0,e.useState)(""),[T,A]=(0,e.useState)(""),P=[{id:"announcement",name:"Announcement"},{id:"promotion",name:"Promotion"},{id:"newsletter",name:"Newsletter Signup"},{id:"event",name:"Event Information"},{id:"welcome",name:"Welcome Message"},{id:"hackathon",name:"Hackathon Announcement"},{id:"product",name:"New Product"},{id:"feature",name:"New Feature"}],D=[{id:"all",name:"All Pages"},{id:"home",name:"Home Page"},{id:"designMakersHub",name:"Design Makers Hub"},{id:"categories",name:"Categories Page"},{id:"products",name:"Products Page"},{id:"checkout",name:"Checkout Page"}];(0,e.useEffect)((()=>{"modals"===t&&R()}),[t]),(0,e.useEffect)((()=>{"categories"===t&&O()}),[t]),(0,e.useEffect)((()=>{h.length>0&&"categories"===t&&L()}),[h,t]);const R=async()=>{b(!0);try{const e=Pg(zp(Qy,"designModals"),Fg("priority","desc"),Fg("createdAt","desc")),t=(await Xg(e)).docs.map((e=>l(l({id:e.id},e.data()),{},{startDate:e.data().startDate?e.data().startDate.toDate().toISOString().split("T")[0]:"",endDate:e.data().endDate?e.data().endDate.toDate().toISOString().split("T")[0]:""})));c(t)}catch(k){console.error("Error fetching modals:",k),C("Failed to load modals. Please try again.")}finally{b(!1)}},O=async()=>{w(!0);try{const e=Pg(zp(Qy,"designCategories"),Fg("name")),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));m(t)}catch(k){console.error("Error fetching categories:",k),E("Failed to load categories. Please try again.")}finally{w(!1)}},L=async()=>{try{const e=Pg(zp(Qy,"categoryBanners")),t=(await Xg(e)).docs.map((e=>e.data())),n={};t.forEach((e=>{const t=e.categoryId;t&&(n[t]=(n[t]||0)+1)})),v(n)}catch(k){console.error("Error fetching banner counts:",k)}},F=e=>{const{name:t,value:n,type:r,checked:i}=e.target;a((e=>l(l({},e),{},{[t]:"checkbox"===r?i:n})))},U=e=>{const{name:t,value:n}=e.target;s((e=>l(l({},e),{},{[t]:n})))},M=async(e,t)=>{if(!e)return null;try{j(!0);const n=Vy(qy(Yy,"modals/".concat(t,"_").concat(e.name)),e);return new Promise(((r,a)=>{n.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{console.error("Error uploading image:",e),a(e)}),(async()=>{const a=await zy(n.snapshot.ref);r({url:a,path:"modals/".concat(t,"_").concat(e.name)})}))}))}catch(k){throw console.error("Error in uploadImage:",k),k}finally{j(!1)}},V=e=>{if(!e.isActive)return"bg-secondary";const t=new Date,n=e.startDate?new Date(e.startDate):null,r=e.endDate?new Date(e.endDate):null;return n&&t<n?"bg-warning":r&&t>r?"bg-danger":"bg-success"},z=e=>{if(!e.isActive)return"Inactive";const t=new Date,n=e.startDate?new Date(e.startDate):null,r=e.endDate?new Date(e.endDate):null;return n&&t<n?"Scheduled":r&&t>r?"Expired":"Active"};return(0,Xy.jsxs)("div",{className:"content",children:[(0,Xy.jsx)("h1",{className:"page-title",children:"Design House Management"}),(0,Xy.jsxs)("div",{className:"tabs-navigation mb-4",children:[(0,Xy.jsxs)("button",{className:"tab-button ".concat("modals"===t?"active":""),onClick:()=>n("modals"),children:[(0,Xy.jsx)("i",{className:"fas fa-window-restore me-2"})," Modals"]}),(0,Xy.jsxs)("button",{className:"tab-button ".concat("categories"===t?"active":""),onClick:()=>n("categories"),children:[(0,Xy.jsx)("i",{className:"fas fa-tags me-2"})," Categories"]})]}),"modals"===t&&(0,Xy.jsxs)(Xy.Fragment,{children:[k&&(0,Xy.jsx)("div",{className:"alert alert-danger",children:k}),_&&(0,Xy.jsx)("div",{className:"alert alert-success",children:_}),(0,Xy.jsxs)("div",{className:"row",children:[(0,Xy.jsx)("div",{className:"col-lg-4",children:(0,Xy.jsxs)("div",{className:"card",children:[(0,Xy.jsx)("div",{className:"card-header",children:(0,Xy.jsx)("h3",{children:u?"Edit Modal":"Add New Modal"})}),(0,Xy.jsx)("div",{className:"card-body",children:(0,Xy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r.title&&r.description&&r.buttonText)if(u||r.imageFile){b(!0),C(""),I("");try{const e=r.startDate?Yo.fromDate(new Date(r.startDate)):null,t=r.endDate?Yo.fromDate(new Date(r.endDate)):null;if(e&&t&&e.toMillis()>t.toMillis())return C("Start date cannot be after end date"),void b(!1);if(u){const n=Bp(Qy,"designModals",u.id),a={title:r.title,description:r.description,buttonText:r.buttonText,buttonLink:r.buttonLink,type:r.type,targetPage:r.targetPage,isActive:r.isActive,startDate:e,endDate:t,showCloseButton:r.showCloseButton,position:r.position,priority:parseInt(r.priority),updatedAt:sv()};if(r.imageFile){if(u.imagePath)try{const e=qy(Yy,u.imagePath);await By(e)}catch(k){console.error("Error deleting old image:",k)}const e=await M(r.imageFile,u.id);a.imageUrl=e.url,a.imagePath=e.path}await Jg(n,a),I("Modal updated successfully!"),c((n=>n.map((n=>n.id===u.id?l(l(l({},n),a),{},{imageUrl:a.imageUrl||n.imageUrl,startDate:e?e.toDate().toISOString().split("T")[0]:"",endDate:t?t.toDate().toISOString().split("T")[0]:""}):n))))}else{const n={title:r.title,description:r.description,buttonText:r.buttonText,buttonLink:r.buttonLink,type:r.type,targetPage:r.targetPage,isActive:r.isActive,startDate:e,endDate:t,showCloseButton:r.showCloseButton,position:r.position,priority:parseInt(r.priority),createdAt:sv(),updatedAt:sv()},a=await ev(zp(Qy,"designModals"),n),i=await M(r.imageFile,a.id);await Jg(a,{imageUrl:i.url,imagePath:i.path}),c((r=>[l(l({id:a.id},n),{},{imageUrl:i.url,imagePath:i.path,startDate:e?e.toDate().toISOString().split("T")[0]:"",endDate:t?t.toDate().toISOString().split("T")[0]:""}),...r])),I("Modal added successfully!")}a({title:"",description:"",buttonText:"",buttonLink:"",type:"announcement",targetPage:"all",imageFile:null,imagePreview:"",isActive:!0,startDate:"",endDate:"",showCloseButton:!0,position:"center",priority:"5"}),d(null)}catch(k){console.error("Error adding/updating modal:",k),C("Failed to save modal. Please try again.")}finally{b(!1)}}else C("Please select an image for the modal");else C("Please fill in all required fields")},children:[(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"type",children:"Modal Type:"}),(0,Xy.jsx)("select",{id:"type",name:"type",className:"form-control",value:r.type,onChange:F,disabled:y||N,children:P.map((e=>(0,Xy.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"targetPage",children:"Display on Page:"}),(0,Xy.jsx)("select",{id:"targetPage",name:"targetPage",className:"form-control",value:r.targetPage,onChange:F,disabled:y||N,children:D.map((e=>(0,Xy.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"title",children:"Modal Title:"}),(0,Xy.jsx)("input",{type:"text",id:"title",name:"title",className:"form-control",value:r.title,onChange:F,disabled:y||N,required:!0,placeholder:"e.g. New Hackathon Announcement"})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Xy.jsx)("textarea",{id:"description",name:"description",className:"form-control",value:r.description,onChange:F,rows:"3",disabled:y||N,required:!0,placeholder:"e.g. Join our upcoming hackathon event this weekend..."})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"buttonText",children:"Button Text:"}),(0,Xy.jsx)("input",{type:"text",id:"buttonText",name:"buttonText",className:"form-control",value:r.buttonText,onChange:F,disabled:y||N,required:!0,placeholder:"e.g. Register Now"})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"buttonLink",children:"Button Link URL (optional):"}),(0,Xy.jsx)("input",{type:"text",id:"buttonLink",name:"buttonLink",className:"form-control",value:r.buttonLink,onChange:F,disabled:y||N,placeholder:"e.g. /hackathons/register"})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"position",children:"Modal Position:"}),(0,Xy.jsx)("select",{id:"position",name:"position",className:"form-control",value:r.position,onChange:F,disabled:y||N,children:[{id:"center",name:"Center"},{id:"top",name:"Top"},{id:"bottom",name:"Bottom"},{id:"left",name:"Left"},{id:"right",name:"Right"},{id:"top-left",name:"Top Left"},{id:"top-right",name:"Top Right"},{id:"bottom-left",name:"Bottom Left"},{id:"bottom-right",name:"Bottom Right"}].map((e=>(0,Xy.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"priority",children:"Priority (1-10):"}),(0,Xy.jsx)("input",{type:"number",id:"priority",name:"priority",className:"form-control",value:r.priority,onChange:F,min:"1",max:"10",disabled:y||N}),(0,Xy.jsx)("small",{className:"form-text text-muted",children:"Higher numbers show first (10 = highest priority)"})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"modalImage",children:"Modal Image:"}),(0,Xy.jsx)("input",{type:"file",id:"modalImage",className:"form-control",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!["image/jpeg","image/png","image/jpg","image/webp"].includes(t.type))return void C("Please select a valid image file (JPEG, PNG, WebP)");const n=new FileReader;n.onloadend=()=>{a((e=>l(l({},e),{},{imageFile:t,imagePreview:n.result})))},n.readAsDataURL(t)},disabled:y||N}),(0,Xy.jsx)("small",{className:"form-text text-muted",children:"Recommended size: 600x400 pixels"})]}),r.imagePreview&&(0,Xy.jsx)("div",{className:"image-preview mb-3",children:(0,Xy.jsx)("img",{src:r.imagePreview,alt:"Modal preview",className:"img-fluid rounded"})}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsxs)("div",{className:"form-check mb-2",children:[(0,Xy.jsx)("input",{type:"checkbox",className:"form-check-input",id:"isActive",name:"isActive",checked:r.isActive,onChange:F,disabled:y||N}),(0,Xy.jsx)("label",{className:"form-check-label",htmlFor:"isActive",children:"Active"})]}),(0,Xy.jsxs)("div",{className:"form-check mb-2",children:[(0,Xy.jsx)("input",{type:"checkbox",className:"form-check-input",id:"showCloseButton",name:"showCloseButton",checked:r.showCloseButton,onChange:F,disabled:y||N}),(0,Xy.jsx)("label",{className:"form-check-label",htmlFor:"showCloseButton",children:"Show Close Button"})]})]}),(0,Xy.jsxs)("div",{className:"row mb-3",children:[(0,Xy.jsx)("div",{className:"col-md-6",children:(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"startDate",children:"Start Date (optional):"}),(0,Xy.jsx)("input",{type:"date",id:"startDate",name:"startDate",className:"form-control",value:r.startDate,onChange:F,disabled:y||N})]})}),(0,Xy.jsx)("div",{className:"col-md-6",children:(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"endDate",children:"End Date (optional):"}),(0,Xy.jsx)("input",{type:"date",id:"endDate",name:"endDate",className:"form-control",value:r.endDate,onChange:F,disabled:y||N})]})})]}),(0,Xy.jsx)("div",{className:"form-group d-flex justify-content-between",children:u?(0,Xy.jsxs)(Xy.Fragment,{children:[(0,Xy.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d(null),a({title:"",description:"",buttonText:"",buttonLink:"",type:"announcement",targetPage:"all",imageFile:null,imagePreview:"",isActive:!0,startDate:"",endDate:"",showCloseButton:!0,position:"center",priority:"5"})},disabled:y||N,children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:y||N,children:N?"Uploading...":y?"Saving...":"Update Modal"})]}):(0,Xy.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:y||N,children:N?"Uploading...":y?"Saving...":"Add Modal"})})]})})]})}),(0,Xy.jsxs)("div",{className:"col-lg-8",children:[(0,Xy.jsxs)("div",{className:"card",children:[(0,Xy.jsx)("div",{className:"card-header",children:(0,Xy.jsx)("h3",{children:"Modals List"})}),(0,Xy.jsx)("div",{className:"card-body",children:y?(0,Xy.jsx)("div",{className:"text-center py-5",children:(0,Xy.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Xy.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===o.length?(0,Xy.jsx)("div",{className:"alert alert-info",children:"No modals found. Please add a new modal."}):(0,Xy.jsx)("div",{className:"table-responsive",children:(0,Xy.jsxs)("table",{className:"table table-hover",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Preview"}),(0,Xy.jsx)("th",{children:"Title"}),(0,Xy.jsx)("th",{children:"Type"}),(0,Xy.jsx)("th",{children:"Target"}),(0,Xy.jsx)("th",{children:"Status"}),(0,Xy.jsx)("th",{children:"Priority"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:o.map((e=>{var t,n;return(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{children:(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.title,className:"thumbnail",width:"80",height:"50",style:{objectFit:"cover"},onError:e=>{e.target.src="https://via.placeholder.com/80x50?text=No+Image"}})}),(0,Xy.jsx)("td",{children:(0,Xy.jsxs)("div",{className:"modal-title-cell",children:[(0,Xy.jsx)("strong",{children:e.title}),(0,Xy.jsx)("small",{children:e.buttonText})]})}),(0,Xy.jsx)("td",{children:(null===(t=P.find((t=>t.id===e.type)))||void 0===t?void 0:t.name)||e.type}),(0,Xy.jsx)("td",{children:(null===(n=D.find((t=>t.id===e.targetPage)))||void 0===n?void 0:n.name)||e.targetPage||"All Pages"}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"badge ".concat(V(e)),children:z(e)})}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"badge bg-info",children:e.priority||5})}),(0,Xy.jsxs)("td",{children:[(0,Xy.jsx)("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>(e=>{d(e),a({title:e.title,description:e.description,buttonText:e.buttonText,buttonLink:e.buttonLink||"",type:e.type,targetPage:e.targetPage||"all",imageFile:null,imagePreview:e.imageUrl,isActive:!1!==e.isActive,startDate:e.startDate||"",endDate:e.endDate||"",showCloseButton:!1!==e.showCloseButton,position:e.position||"center",priority:(e.priority||5).toString()}),window.scrollTo({top:0,behavior:"smooth"})})(e),disabled:y,children:(0,Xy.jsx)("i",{className:"fas fa-edit"})}),(0,Xy.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete this modal?")){b(!0);try{if(await Zg(Bp(Qy,"designModals",e)),t){const e=qy(Yy,t);await By(e)}c((t=>t.filter((t=>t.id!==e)))),u&&u.id===e&&(a({title:"",description:"",buttonText:"",buttonLink:"",type:"announcement",targetPage:"all",imageFile:null,imagePreview:"",isActive:!0,startDate:"",endDate:"",showCloseButton:!0,position:"center",priority:"5"}),d(null)),I("Modal deleted successfully!")}catch(k){console.error("Error deleting modal:",k),C("Failed to delete modal. Please try again.")}finally{b(!1)}}})(e.id,e.imagePath),disabled:y,children:(0,Xy.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)}))})]})})})]}),r.title&&r.description&&r.imagePreview&&(0,Xy.jsxs)("div",{className:"card mt-3",children:[(0,Xy.jsx)("div",{className:"card-header",children:(0,Xy.jsx)("h3",{children:"Modal Preview"})}),(0,Xy.jsx)("div",{className:"card-body",children:(0,Xy.jsx)("div",{className:"modal-preview",children:(0,Xy.jsx)("div",{className:"modal-preview-container position-".concat(r.position),children:(0,Xy.jsxs)("div",{className:"modal-preview-content",children:[r.showCloseButton&&(0,Xy.jsx)("button",{className:"modal-preview-close",children:"\xd7"}),(0,Xy.jsx)("div",{className:"modal-preview-header",children:(0,Xy.jsx)("h4",{children:r.title})}),(0,Xy.jsxs)("div",{className:"modal-preview-body",children:[(0,Xy.jsx)("div",{className:"modal-preview-image",children:(0,Xy.jsx)("img",{src:r.imagePreview,alt:r.title})}),(0,Xy.jsx)("p",{children:r.description})]}),(0,Xy.jsx)("div",{className:"modal-preview-footer",children:(0,Xy.jsx)("button",{className:"modal-preview-button",children:r.buttonText})})]})})})})]})]})]})]}),"categories"===t&&(0,Xy.jsxs)(Xy.Fragment,{children:[S&&(0,Xy.jsx)("div",{className:"alert alert-danger",children:S}),T&&(0,Xy.jsx)("div",{className:"alert alert-success",children:T}),(0,Xy.jsxs)("div",{className:"row",children:[(0,Xy.jsx)("div",{className:"col-lg-4",children:(0,Xy.jsxs)("div",{className:"card",children:[(0,Xy.jsx)("div",{className:"card-header",children:(0,Xy.jsx)("h3",{children:f?"Edit Category":"Add New Category"})}),(0,Xy.jsx)("div",{className:"card-body",children:(0,Xy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.id&&i.name&&i.description)if(/^[a-z0-9-]+$/.test(i.id)){w(!0),E(""),A("");try{if(i.isEditing){const e=f.id;if(e!==i.id){const t=Bp(Qy,"designCategories",i.id);if((await Qg(t)).exists())return E('Category with ID "'.concat(i.id,'" already exists')),void w(!1);const n=Pg(zp(Qy,"categoryBanners"),Rg("categoryId","==",e)),r=await Xg(n),a=lv(Qy);r.docs.forEach((e=>{const t=Bp(Qy,"categoryBanners",e.id);a.update(t,{categoryId:i.id})}));const s=Bp(Qy,"designCategories",i.id);a.set(s,{name:i.name,icon:i.icon,description:i.description,createdAt:f.createdAt||sv(),updatedAt:sv()});const o=Bp(Qy,"designCategories",e);a.delete(o),await a.commit(),A("Category updated successfully!")}else{const e=Bp(Qy,"designCategories",i.id);await Jg(e,{name:i.name,icon:i.icon,description:i.description,updatedAt:sv()}),A("Category updated successfully!")}m((t=>t.map((t=>t.id===e?{id:i.id,name:i.name,icon:i.icon,description:i.description,createdAt:t.createdAt,updatedAt:sv()}:t))))}else{const e=Bp(Qy,"designCategories",i.id);if((await Qg(e)).exists())return E('Category with ID "'.concat(i.id,'" already exists')),void w(!1);await $g(Bp(Qy,"designCategories",i.id),{name:i.name,icon:i.icon,description:i.description,createdAt:sv(),updatedAt:sv()}),m((e=>[...e,{id:i.id,name:i.name,icon:i.icon,description:i.description,createdAt:sv(),updatedAt:sv()}])),A("Category added successfully!")}s({id:"",name:"",icon:"\u26a1",description:"",isEditing:!1}),p(null)}catch(k){console.error("Error adding/updating category:",k),E("Failed to save category. Please try again.")}finally{w(!1)}}else E("Category ID must contain only lowercase letters, numbers, and hyphens");else E("Please fill in all required fields")},children:[(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"id",children:"Category ID:"}),(0,Xy.jsx)("input",{type:"text",id:"id",name:"id",className:"form-control",value:i.id,onChange:e=>{const t=e.target.value.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");s((e=>l(l({},e),{},{id:t})))},disabled:x||i.isEditing&&g[null===f||void 0===f?void 0:f.id]>0,required:!0,placeholder:"e.g. iot-components"}),(0,Xy.jsxs)("small",{className:"form-text text-muted",children:["Lowercase letters, numbers, and hyphens only. No spaces.",i.isEditing&&g[null===f||void 0===f?void 0:f.id]>0&&(0,Xy.jsxs)("div",{className:"text-warning mt-1",children:[(0,Xy.jsx)("i",{className:"fas fa-exclamation-triangle me-1"}),"Cannot change ID: category has ",g[null===f||void 0===f?void 0:f.id]," banner(s)"]})]})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"name",children:"Category Name:"}),(0,Xy.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:i.name,onChange:U,disabled:x,required:!0,placeholder:"e.g. IoT Components"})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"icon",children:"Category Icon:"}),(0,Xy.jsxs)("div",{className:"current-icon-display mb-2",children:[(0,Xy.jsx)("span",{className:"selected-icon",children:i.icon}),(0,Xy.jsx)("span",{className:"selected-icon-label",children:"Current icon"})]}),(0,Xy.jsx)("div",{className:"icon-selector",children:["\u26a1","\ud83d\udd0c","\ud83d\udda8\ufe0f","\u2702\ufe0f","\ud83d\udd0b","\ud83d\udcf1","\ud83d\udd27","\ud83d\udd2c","\ud83d\udcca","\ud83d\udee0\ufe0f","\ud83d\udcc8","\ud83d\udcbb","\ud83c\udfae","\ud83c\udfa8","\ud83d\udcf7","\ud83d\udd0d","\ud83e\uddea","\ud83e\uddf0","\ud83e\uddf2","\ud83d\udce1","\ud83e\udd16","\ud83c\udfe0","\u231a","\ud83c\udf93","\ud83c\udfed","\ud83c\udfb5","\ud83d\ude97","\ud83d\udcda","\ud83c\udf31","\ud83d\udd0b","\ud83d\udcdd","\ud83d\udca1","\ud83d\udd11"].map((e=>(0,Xy.jsx)("button",{type:"button",className:"icon-button ".concat(i.icon===e?"selected":""),onClick:()=>(e=>{s((t=>l(l({},t),{},{icon:e})))})(e),disabled:x,children:e},e)))})]}),(0,Xy.jsxs)("div",{className:"form-group mb-3",children:[(0,Xy.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,Xy.jsx)("textarea",{id:"description",name:"description",className:"form-control",value:i.description,onChange:U,rows:"3",disabled:x,required:!0,placeholder:"e.g. Connected devices and components for smart applications"})]}),(0,Xy.jsx)("div",{className:"form-group d-flex justify-content-between",children:f?(0,Xy.jsxs)(Xy.Fragment,{children:[(0,Xy.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{p(null),s({id:"",name:"",icon:"\u26a1",description:"",isEditing:!1})},disabled:x,children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Saving...":"Update Category"})]}):(0,Xy.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:x,children:x?"Saving...":"Add Category"})})]})})]})}),(0,Xy.jsxs)("div",{className:"col-lg-8",children:[(0,Xy.jsxs)("div",{className:"card",children:[(0,Xy.jsx)("div",{className:"card-header",children:(0,Xy.jsx)("h3",{children:"Categories List"})}),(0,Xy.jsx)("div",{className:"card-body",children:x&&!h.length?(0,Xy.jsx)("div",{className:"text-center py-5",children:(0,Xy.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Xy.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===h.length?(0,Xy.jsx)("div",{className:"alert alert-info",children:"No categories found. Please add a new category."}):(0,Xy.jsx)("div",{className:"table-responsive",children:(0,Xy.jsxs)("table",{className:"table table-hover",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{style:{width:"60px"},children:"Icon"}),(0,Xy.jsx)("th",{children:"Name"}),(0,Xy.jsx)("th",{children:"ID"}),(0,Xy.jsx)("th",{children:"Description"}),(0,Xy.jsx)("th",{children:"Banners"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:h.map((e=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{className:"text-center",children:(0,Xy.jsx)("span",{className:"category-icon-display",children:e.icon})}),(0,Xy.jsx)("td",{children:e.name}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("code",{children:e.id})}),(0,Xy.jsx)("td",{children:e.description.length>60?"".concat(e.description.substring(0,60),"..."):e.description}),(0,Xy.jsx)("td",{children:(0,Xy.jsx)("span",{className:"badge bg-primary",children:g[e.id]||0})}),(0,Xy.jsxs)("td",{children:[(0,Xy.jsx)("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:()=>(e=>{p(e),s({id:e.id,name:e.name,icon:e.icon,description:e.description,isEditing:!0}),window.scrollTo({top:0,behavior:"smooth"})})(e),disabled:x,children:(0,Xy.jsx)("i",{className:"fas fa-edit"})}),(0,Xy.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>(async e=>{const t=g[e]||0;if(t>0)E("Cannot delete category: it has ".concat(t," banner(s) associated with it. Please delete or reassign the banners first."));else if(window.confirm("Are you sure you want to delete this category?")){w(!0);try{await Zg(Bp(Qy,"designCategories",e)),m((t=>t.filter((t=>t.id!==e)))),f&&f.id===e&&(s({id:"",name:"",icon:"\u26a1",description:"",isEditing:!1}),p(null)),A("Category deleted successfully!")}catch(k){console.error("Error deleting category:",k),E("Failed to delete category. Please try again.")}finally{w(!1)}}})(e.id),disabled:x||g[e.id]>0,title:g[e.id]>0?"Cannot delete: has associated banners":"Delete category",children:(0,Xy.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)))})]})})})]}),(0,Xy.jsxs)("div",{className:"card mt-3",children:[(0,Xy.jsx)("div",{className:"card-header",children:(0,Xy.jsx)("h3",{children:"Category Management Tips"})}),(0,Xy.jsx)("div",{className:"card-body",children:(0,Xy.jsxs)("div",{className:"alert alert-info mb-0",children:[(0,Xy.jsxs)("h4",{className:"alert-heading",children:[(0,Xy.jsx)("i",{className:"fas fa-info-circle me-2"}),"Important Information"]}),(0,Xy.jsx)("p",{children:"Categories are used across the Design Makers Hub for:"}),(0,Xy.jsxs)("ul",{children:[(0,Xy.jsxs)("li",{children:[(0,Xy.jsx)("strong",{children:"Banner Display:"})," Each category can have multiple banners that display in the carousel."]}),(0,Xy.jsxs)("li",{children:[(0,Xy.jsx)("strong",{children:"Featured Products:"})," Products can be filtered by category."]}),(0,Xy.jsxs)("li",{children:[(0,Xy.jsx)("strong",{children:"Navigation:"})," Categories appear in the navigation grid for users to click."]})]}),(0,Xy.jsx)("hr",{}),(0,Xy.jsxs)("p",{className:"mb-0",children:[(0,Xy.jsx)("strong",{children:"Note:"})," You cannot delete a category that has banners associated with it. You must first delete or reassign those banners."]})]})})]})]})]})]})]})};function zb(){const[t,n]=(0,e.useState)([]),[r,a]=(0,e.useState)(!0),[i,s]=(0,e.useState)(!1),[o,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(""),[h,m]=(0,e.useState)(""),[f,p]=(0,e.useState)(!1),[g,v]=(0,e.useState)(null),y=(0,e.useRef)(null),[b,x]=(0,e.useState)({title:"",organizer:"",date:"",location:"",description:"",imageUrl:"",link:"",registrationOpen:!0}),w=async()=>{try{a(!0);const e=Pg(zp(Qy,"hackathons"),Fg("date","asc")),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));n(t)}catch(e){console.error("Error fetching hackathons:",e),d("Failed to load hackathons. Please refresh the page.")}finally{a(!1)}};(0,e.useEffect)((()=>{w()}),[]);const N=e=>{const{name:t,value:n,type:r,checked:a}=e.target;x(l(l({},b),{},{[t]:"checkbox"===r?a:n}))},j=()=>{x({title:"",organizer:"",date:"",location:"",description:"",imageUrl:"",link:"",registrationOpen:!0}),v(null),s(!1),c(null),d(""),y.current&&(y.current.value="")},k=e=>{window.open(e,"_blank","noopener,noreferrer")};return r?(0,Xy.jsxs)("div",{className:"admin-container",children:[(0,Xy.jsx)("div",{className:"admin-header",children:(0,Xy.jsx)("h1",{children:"Hackathons Admin Panel"})}),(0,Xy.jsxs)("div",{className:"loading-indicator",children:[(0,Xy.jsx)("div",{className:"spinner"}),(0,Xy.jsx)("p",{children:"Loading hackathons..."})]})]}):(0,Xy.jsxs)("div",{className:"admin-container",children:[(0,Xy.jsx)("div",{className:"admin-header",children:(0,Xy.jsx)("h1",{children:"Hackathons Admin Panel"})}),h&&(0,Xy.jsx)("div",{className:"success-message",children:h}),u&&(0,Xy.jsx)("div",{className:"error-message",children:u}),(0,Xy.jsxs)("div",{className:"form-container",children:[(0,Xy.jsx)("h2",{children:i?"Edit Hackathon":"Add New Hackathon"}),(0,Xy.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.title&&b.organizer&&b.date&&b.location&&b.description&&b.link?b.imageUrl||b.imageFile||g?(d(""),1):(d("Please upload an image or provide an image URL"),0):(d("Please fill in all required fields"),0))try{let e=b.imageUrl;if(b.imageFile){const t=await(async e=>{if(!e)return null;p(!0);try{const t="hackathon-images/".concat(Date.now(),"-").concat(e.name),n=qy(Yy,t);await My(n,e);const r=await zy(n);return p(!1),r}catch(t){return console.error("Error uploading image:",t),d("Failed to upload image. Please try again."),p(!1),null}})(b.imageFile);if(t)e=t;else if(!b.imageUrl)return void d("Image upload failed. Please try again.")}const t=l(l({},b),{},{imageUrl:e});delete t.imageFile,i&&o?(await Jg(Bp(Qy,"hackathons",o),t),m("Hackathon updated successfully!")):(await ev(zp(Qy,"hackathons"),t),m("New hackathon added successfully!")),w(),j(),setTimeout((()=>{m("")}),3e3)}catch(t){console.error("Error saving hackathon:",t),d("Failed to save hackathon. Please try again.")}},children:[(0,Xy.jsxs)("div",{className:"form-grid",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"title",children:"Title *"}),(0,Xy.jsx)("input",{type:"text",id:"title",name:"title",value:b.title,onChange:N,placeholder:"Enter hackathon title",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"organizer",children:"Organizer *"}),(0,Xy.jsx)("input",{type:"text",id:"organizer",name:"organizer",value:b.organizer,onChange:N,placeholder:"Enter organizer name",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"date",children:"Date *"}),(0,Xy.jsx)("input",{type:"text",id:"date",name:"date",value:b.date,onChange:N,placeholder:"e.g., July 15-17, 2025",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"location",children:"Location *"}),(0,Xy.jsx)("input",{type:"text",id:"location",name:"location",value:b.location,onChange:N,placeholder:"City, Country or Virtual",required:!0})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"description",children:"Description *"}),(0,Xy.jsx)("textarea",{id:"description",name:"description",value:b.description,onChange:N,placeholder:"Enter hackathon description",rows:"4",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"link",children:"Registration Link *"}),(0,Xy.jsx)("input",{type:"url",id:"link",name:"link",value:b.link,onChange:N,placeholder:"https://example.com/register",required:!0}),b.link&&(0,Xy.jsx)("button",{type:"button",className:"test-link-btn",onClick:()=>k(b.link),children:"Test Link"})]}),(0,Xy.jsxs)("div",{className:"form-group image-upload-group",children:[(0,Xy.jsx)("label",{children:"Hackathon Image *"}),(0,Xy.jsxs)("div",{className:"image-upload-container",children:[(0,Xy.jsx)("div",{className:"image-preview-area",children:g?(0,Xy.jsxs)("div",{className:"image-preview",children:[(0,Xy.jsx)("img",{src:g,alt:"Preview"}),(0,Xy.jsx)("button",{type:"button",className:"remove-image-btn",onClick:()=>{v(null),x(l(l({},b),{},{imageUrl:"",imageFile:null})),y.current&&(y.current.value="")},children:"\xd7"})]}):(0,Xy.jsxs)("div",{className:"upload-placeholder",children:[(0,Xy.jsx)("span",{className:"upload-icon",children:"\ud83d\udcf7"}),(0,Xy.jsx)("span",{children:"No image selected"})]})}),(0,Xy.jsxs)("div",{className:"upload-controls",children:[(0,Xy.jsx)("input",{type:"file",id:"imageFile",ref:y,accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=()=>{v(n.result)},n.readAsDataURL(t),x(l(l({},b),{},{imageFile:t}))},className:"file-input"}),(0,Xy.jsx)("label",{htmlFor:"imageFile",className:"file-input-label",children:"Choose Image"}),(0,Xy.jsxs)("div",{className:"image-url-input",children:[(0,Xy.jsx)("span",{children:"or"}),(0,Xy.jsx)("input",{type:"url",name:"imageUrl",value:b.imageUrl,onChange:N,placeholder:"Enter image URL",disabled:!!b.imageFile})]})]})]})]}),(0,Xy.jsx)("div",{className:"form-group checkbox-group",children:(0,Xy.jsxs)("label",{htmlFor:"registrationOpen",children:[(0,Xy.jsx)("input",{type:"checkbox",id:"registrationOpen",name:"registrationOpen",checked:b.registrationOpen,onChange:N}),"Registration Open"]})}),(0,Xy.jsxs)("div",{className:"form-buttons",children:[(0,Xy.jsx)("button",{type:"submit",className:"submit-btn",disabled:f,children:f?"Uploading...":i?"Update Hackathon":"Add Hackathon"}),i&&(0,Xy.jsx)("button",{type:"button",className:"cancel-btn",onClick:j,children:"Cancel"})]})]})]}),(0,Xy.jsxs)("div",{className:"hackathons-list",children:[(0,Xy.jsx)("h2",{children:"Manage Hackathons"}),0===t.length?(0,Xy.jsx)("div",{className:"no-hackathons",children:(0,Xy.jsx)("p",{children:"No hackathons found. Add your first hackathon above."})}):(0,Xy.jsx)("div",{className:"table-container",children:(0,Xy.jsxs)("table",{className:"hackathons-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Image"}),(0,Xy.jsx)("th",{children:"Title"}),(0,Xy.jsx)("th",{children:"Organizer"}),(0,Xy.jsx)("th",{children:"Date"}),(0,Xy.jsx)("th",{children:"Location"}),(0,Xy.jsx)("th",{children:"Registration"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:t.map((e=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{className:"image-cell",children:(0,Xy.jsx)("div",{className:"table-image",children:(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.title})})}),(0,Xy.jsx)("td",{children:e.title}),(0,Xy.jsx)("td",{children:e.organizer}),(0,Xy.jsx)("td",{children:e.date}),(0,Xy.jsx)("td",{children:e.location}),(0,Xy.jsx)("td",{children:(0,Xy.jsxs)("div",{className:"toggle-container",children:[(0,Xy.jsxs)("label",{className:"switch",children:[(0,Xy.jsx)("input",{type:"checkbox",checked:e.registrationOpen,onChange:()=>(async(e,t)=>{try{await Jg(Bp(Qy,"hackathons",e),{registrationOpen:!t}),m("Registration status updated!"),w(),setTimeout((()=>{m("")}),3e3)}catch(n){console.error("Error updating registration status:",n),d("Failed to update registration status. Please try again.")}})(e.id,e.registrationOpen)}),(0,Xy.jsx)("span",{className:"slider round"})]}),(0,Xy.jsx)("span",{className:"status-text ".concat(e.registrationOpen?"open":"closed"),children:e.registrationOpen?"Open":"Closed"})]})}),(0,Xy.jsx)("td",{children:(0,Xy.jsxs)("div",{className:"action-buttons",children:[(0,Xy.jsx)("button",{className:"edit-btn",onClick:()=>(e=>{s(!0),c(e.id),x({title:e.title||"",organizer:e.organizer||"",date:e.date||"",location:e.location||"",description:e.description||"",imageUrl:e.imageUrl||"",link:e.link||"",registrationOpen:e.registrationOpen||!1}),v(e.imageUrl||null)})(e),children:"Edit"}),(0,Xy.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this hackathon?"))try{await Zg(Bp(Qy,"hackathons",e)),m("Hackathon deleted successfully!"),w(),setTimeout((()=>{m("")}),3e3)}catch(t){console.error("Error deleting hackathon:",t),d("Failed to delete hackathon. Please try again.")}})(e.id),children:"Delete"}),(0,Xy.jsx)("button",{className:"link-btn",onClick:()=>k(e.link),children:"Test Link"})]})})]},e.id)))})]})})]})]})}function Bb(){const[t,n]=(0,e.useState)([]),[r,a]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[o,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(null),[h,m]=(0,e.useState)({id:"",name:"",category:"",image:"",price:0,sku:"",description:"",bulletFeatures:[""],detailedFeatures:[{title:"",description:""}],specifications:[{name:"",value:""}]}),[f,p]=(0,e.useState)(null),[g,v]=(0,e.useState)(""),[y,b]=(0,e.useState)("products"),[x,w]=(0,e.useState)(!1),[N,j]=(0,e.useState)(!1),[k,C]=(0,e.useState)(""),[S,E]=(0,e.useState)("all"),[_,I]=(0,e.useState)({id:"",name:"",slug:"",icon:"",description:""}),T="featuredProducts",A="designCategories";(0,e.useEffect)((()=>{P(),D()}),[]);const P=async()=>{try{s(!0);const e=zp(Qy,T),t=(await Xg(e)).docs.map((e=>l(l({id:e.id},e.data()),{},{name:e.data().name||"",sku:e.data().sku||"",price:e.data().price||0})));n(t),s(!1)}catch(e){c("Error loading featured products: "+e.message),s(!1)}},D=async()=>{try{const e=zp(Qy,A),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));a(t)}catch(e){c("Error loading design categories: "+e.message)}},R=e=>{const{name:t,value:n}=e.target;m((e=>l(l({},e),{},{[t]:n})))},O=(e,t,n)=>{const r=[...h.detailedFeatures];r[e]=l(l({},r[e]),{},{[t]:n}),m((e=>l(l({},e),{},{detailedFeatures:r})))},L=(e,t,n)=>{const r=[...h.specifications];r[e]=l(l({},r[e]),{},{[t]:n}),m((e=>l(l({},e),{},{specifications:r})))},F=()=>{const e=Date.now().toString().slice(-7);return"".concat("FPROD").concat(e)},U=t.filter((e=>{var t,n;const r=((null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"").includes(k.toLowerCase())||((null===(n=e.sku)||void 0===n?void 0:n.toLowerCase())||"").includes(k.toLowerCase()),a="all"===S||e.category===S;return r&&a})),M=e=>{const{name:t,value:n}=e.target;if(I((e=>l(l({},e),{},{[t]:n}))),"name"===t){const e=n.toLowerCase().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");I((t=>l(l({},t),{},{slug:e})))}};return(0,Xy.jsxs)("div",{className:"admin-dashboard",children:[(0,Xy.jsx)("header",{className:"admin-header",children:(0,Xy.jsx)("h1",{children:"Featured Products Management"})}),(0,Xy.jsxs)("div",{className:"admin-navigation",children:[(0,Xy.jsx)("button",{className:"nav-button ".concat("products"===y?"active":""),onClick:()=>b("products"),type:"button","aria-label":"View Featured Products",children:"Featured Products"}),(0,Xy.jsx)("button",{className:"nav-button ".concat("categories"===y?"active":""),onClick:()=>b("categories"),type:"button","aria-label":"View Design Categories",children:"Design Categories"})]}),o&&(0,Xy.jsxs)("div",{className:"error-message",children:[o,(0,Xy.jsx)("button",{onClick:()=>c(null),type:"button","aria-label":"Dismiss error message",children:"Dismiss"})]}),"products"===y&&(0,Xy.jsxs)("div",{className:"products-section",children:[(0,Xy.jsxs)("div",{className:"section-header",children:[(0,Xy.jsx)("h2",{children:"Manage Featured Products"}),(0,Xy.jsx)("button",{className:"add-button",onClick:()=>{m({id:"",name:"",category:r.length>0?r[0].id:"",image:"",price:0,sku:F(),description:"",bulletFeatures:[""],detailedFeatures:[{title:"",description:""}],specifications:[{name:"",value:""}]}),p(null),v(""),d(null),w(!0)},type:"button","aria-label":"Add new featured product",children:"Add New Featured Product"})]}),(0,Xy.jsxs)("div",{className:"filter-section",children:[(0,Xy.jsx)("div",{className:"search-box",children:(0,Xy.jsx)("input",{type:"text",placeholder:"Search by name or SKU...",value:k,onChange:e=>C(e.target.value),"aria-label":"Search featured products"})}),(0,Xy.jsx)("div",{className:"category-filter",children:(0,Xy.jsxs)("select",{value:S,onChange:e=>E(e.target.value),"aria-label":"Filter by category",children:[(0,Xy.jsx)("option",{value:"all",children:"All Categories"}),r.map((e=>(0,Xy.jsx)("option",{value:e.id,children:e.name},e.id)))]})})]}),i?(0,Xy.jsx)("div",{className:"loading",children:"Loading featured products..."}):(0,Xy.jsx)("div",{className:"products-table-wrapper",children:(0,Xy.jsxs)("table",{className:"products-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Image"}),(0,Xy.jsx)("th",{children:"Name"}),(0,Xy.jsx)("th",{children:"SKU"}),(0,Xy.jsx)("th",{children:"Category"}),(0,Xy.jsx)("th",{children:"Price (\u20b9)"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:U.length>0?U.map((e=>{var t;return(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{children:(0,Xy.jsx)("div",{className:"product-image-thumbnail",children:(0,Xy.jsx)("img",{src:e.image,alt:e.name})})}),(0,Xy.jsx)("td",{children:e.name}),(0,Xy.jsx)("td",{children:e.sku}),(0,Xy.jsx)("td",{children:(null===(t=r.find((t=>t.id===e.category)))||void 0===t?void 0:t.name)||"Uncategorized"}),(0,Xy.jsx)("td",{children:(e.price||0).toFixed(2)}),(0,Xy.jsxs)("td",{className:"action-buttons",children:[(0,Xy.jsx)("button",{className:"edit-button",onClick:()=>(async e=>{try{s(!0);const t=Bp(Qy,T,e),n=await Qg(t);if(n.exists()){const e=n.data();m({id:n.id,name:e.name||"",category:e.category||"",image:e.image||"",price:e.price||0,sku:e.sku||"",description:e.description||"",bulletFeatures:e.bulletFeatures&&e.bulletFeatures.length>0?e.bulletFeatures:[""],detailedFeatures:e.detailedFeatures&&e.detailedFeatures.length>0?e.detailedFeatures:[{title:"",description:""}],specifications:e.specifications&&e.specifications.length>0?e.specifications:[{name:"",value:""}]}),v(e.image||""),d(n.id),w(!0)}else c("Featured product not found");s(!1)}catch(t){c("Error loading featured product: "+t.message),s(!1)}})(e.id),type:"button","aria-label":"Edit featured product ".concat(e.name),children:"Edit"}),(0,Xy.jsx)("button",{className:"delete-button",onClick:()=>{return t=e.id,d(t),void j(!0);var t},type:"button","aria-label":"Delete featured product ".concat(e.name),children:"Delete"})]})]},e.id)})):(0,Xy.jsx)("tr",{children:(0,Xy.jsx)("td",{colSpan:"6",className:"no-results",children:"No featured products found."})})})]})}),x&&(0,Xy.jsx)("div",{className:"modal-overlay",children:(0,Xy.jsxs)("div",{className:"product-form-modal",children:[(0,Xy.jsxs)("div",{className:"modal-header",children:[(0,Xy.jsx)("h3",{children:u?"Edit Featured Product":"Add New Featured Product"}),(0,Xy.jsx)("button",{className:"close-button",onClick:()=>w(!1),type:"button","aria-label":"Close featured product form",children:"\xd7"})]}),(0,Xy.jsxs)("form",{className:"product-form",onSubmit:async e=>{e.preventDefault();try{s(!0);let e=h.image;if(f){const t=qy(Yy,"featured-product-images/".concat(Date.now(),"_").concat(f.name));await My(t,f),e=await zy(t)}const t={name:h.name,category:h.category,image:e,price:parseFloat(h.price)||0,sku:h.sku,description:h.description,bulletFeatures:h.bulletFeatures.filter((e=>""!==e.trim())),detailedFeatures:h.detailedFeatures.filter((e=>""!==e.title.trim()||""!==e.description.trim())),specifications:h.specifications.filter((e=>""!==e.name.trim()||""!==e.value.trim()))};if(u){const e=Bp(Qy,T,u);await Jg(e,t),n((e=>e.map((e=>e.id===u?l({id:u},t):e))))}else{const e=await ev(zp(Qy,T),t);n((n=>[...n,l({id:e.id},t)]))}w(!1),d(null),p(null),v(""),s(!1),alert(u?"Featured product updated successfully!":"Featured product created successfully!")}catch(t){c("Error saving featured product: "+t.message),s(!1)}},children:[(0,Xy.jsxs)("div",{className:"form-tabs",children:[(0,Xy.jsx)("button",{type:"button",className:"form-tab active","aria-label":"Basic Info tab",children:"Basic Info"}),(0,Xy.jsx)("button",{type:"button",className:"form-tab","aria-label":"Description & Features tab",children:"Description & Features"}),(0,Xy.jsx)("button",{type:"button",className:"form-tab","aria-label":"Specifications tab",children:"Specifications"})]}),(0,Xy.jsxs)("div",{className:"form-section",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"name",children:"Product Name"}),(0,Xy.jsx)("input",{type:"text",id:"name",name:"name",value:h.name,onChange:R,required:!0,"aria-label":"Product name"})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"sku",children:"SKU"}),(0,Xy.jsx)("input",{type:"text",id:"sku",name:"sku",value:h.sku,onChange:R,required:!0,"aria-label":"Product SKU"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"price",children:"Price (\u20b9)"}),(0,Xy.jsx)("input",{type:"number",id:"price",name:"price",min:"0",step:"0.01",value:h.price,onChange:e=>{const t=parseFloat(e.target.value)||0;m((e=>l(l({},e),{},{price:t})))},required:!0,"aria-label":"Product price"})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"category",children:"Product Category"}),(0,Xy.jsxs)("select",{id:"category",name:"category",value:h.category,onChange:R,required:!0,"aria-label":"Product category",children:[(0,Xy.jsx)("option",{value:"",children:"Select a category"}),r.map((e=>(0,Xy.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"image",children:"Product Image"}),(0,Xy.jsx)("input",{type:"file",id:"image",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){p(t);const e=URL.createObjectURL(t);v(e)}},required:!u,"aria-label":"Upload product image"}),(0,Xy.jsx)("div",{className:"image-preview",children:g&&(0,Xy.jsx)("img",{src:g,alt:"Product preview"})})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"description",children:"Product Description"}),(0,Xy.jsx)("textarea",{id:"description",name:"description",value:h.description,onChange:R,rows:"4","aria-label":"Product description"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Bullet Features"}),h.bulletFeatures.map(((e,t)=>(0,Xy.jsxs)("div",{className:"bullet-feature-input",children:[(0,Xy.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...h.bulletFeatures];n[e]=t,m((e=>l(l({},e),{},{bulletFeatures:n})))})(t,e.target.value),placeholder:"Enter feature point","aria-label":"Bullet feature ".concat(t+1)}),(0,Xy.jsx)("button",{type:"button",className:"remove-button",onClick:()=>(e=>{const t=[...h.bulletFeatures];t.splice(e,1),m((e=>l(l({},e),{},{bulletFeatures:t})))})(t),disabled:h.bulletFeatures.length<=1,"aria-label":"Remove bullet feature ".concat(t+1),children:"-"})]},t))),(0,Xy.jsx)("button",{type:"button",className:"add-button",onClick:()=>{m((e=>l(l({},e),{},{bulletFeatures:[...e.bulletFeatures,""]})))},"aria-label":"Add bullet feature",children:"Add Feature Point"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Detailed Features"}),h.detailedFeatures.map(((e,t)=>(0,Xy.jsxs)("div",{className:"detailed-feature-input",children:[(0,Xy.jsx)("input",{type:"text",value:e.title,onChange:e=>O(t,"title",e.target.value),placeholder:"Feature title","aria-label":"Detailed feature title ".concat(t+1)}),(0,Xy.jsx)("textarea",{value:e.description,onChange:e=>O(t,"description",e.target.value),placeholder:"Feature description",rows:"3","aria-label":"Detailed feature description ".concat(t+1)}),(0,Xy.jsx)("button",{type:"button",className:"remove-button",onClick:()=>(e=>{const t=[...h.detailedFeatures];t.splice(e,1),m((e=>l(l({},e),{},{detailedFeatures:t})))})(t),disabled:h.detailedFeatures.length<=1,"aria-label":"Remove detailed feature ".concat(t+1),children:"Remove"})]},t))),(0,Xy.jsx)("button",{type:"button",className:"add-button",onClick:()=>{m((e=>l(l({},e),{},{detailedFeatures:[...e.detailedFeatures,{title:"",description:""}]})))},"aria-label":"Add detailed feature",children:"Add Detailed Feature"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Specifications"}),(0,Xy.jsxs)("div",{className:"specifications-table",children:[(0,Xy.jsxs)("div",{className:"spec-header",children:[(0,Xy.jsx)("div",{children:"Parameter"}),(0,Xy.jsx)("div",{children:"Specification"}),(0,Xy.jsx)("div",{children:"Action"})]}),h.specifications.map(((e,t)=>(0,Xy.jsxs)("div",{className:"spec-row",children:[(0,Xy.jsx)("div",{children:(0,Xy.jsx)("input",{type:"text",value:e.name,onChange:e=>L(t,"name",e.target.value),placeholder:"Parameter name","aria-label":"Specification parameter ".concat(t+1)})}),(0,Xy.jsx)("div",{children:(0,Xy.jsx)("input",{type:"text",value:e.value,onChange:e=>L(t,"value",e.target.value),placeholder:"Specification value","aria-label":"Specification value ".concat(t+1)})}),(0,Xy.jsx)("div",{children:(0,Xy.jsx)("button",{type:"button",className:"remove-button",onClick:()=>(e=>{const t=[...h.specifications];t.splice(e,1),m((e=>l(l({},e),{},{specifications:t})))})(t),disabled:h.specifications.length<=1,"aria-label":"Remove specification ".concat(t+1),children:"-"})})]},t)))]}),(0,Xy.jsx)("button",{type:"button",className:"add-button",onClick:()=>{m((e=>l(l({},e),{},{specifications:[...e.specifications,{name:"",value:""}]})))},"aria-label":"Add specification",children:"Add Specification"})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[(0,Xy.jsx)("button",{type:"button",className:"cancel-button",onClick:()=>w(!1),"aria-label":"Cancel product form",children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"save-button",disabled:i,"aria-label":u?"Update product":"Add product",children:i?"Saving...":u?"Update Product":"Add Product"})]})]})]})]})}),N&&(0,Xy.jsx)("div",{className:"modal-overlay",children:(0,Xy.jsxs)("div",{className:"delete-confirmation-modal",children:[(0,Xy.jsx)("h3",{children:"Confirm Deletion"}),(0,Xy.jsx)("p",{children:"Are you sure you want to delete this featured product? This action cannot be undone."}),(0,Xy.jsxs)("div",{className:"modal-actions",children:[(0,Xy.jsx)("button",{className:"cancel-button",onClick:()=>j(!1),disabled:i,type:"button","aria-label":"Cancel deletion",children:"Cancel"}),(0,Xy.jsx)("button",{className:"delete-button",onClick:async()=>{try{if(!u)return;s(!0),await Zg(Bp(Qy,T,u)),n((e=>e.filter((e=>e.id!==u)))),j(!1),d(null),s(!1),alert("Featured product deleted successfully!")}catch(e){c("Error deleting featured product: "+e.message),s(!1)}},disabled:i,type:"button","aria-label":"Confirm delete product",children:i?"Deleting...":"Delete Product"})]})]})})]}),"categories"===y&&(0,Xy.jsxs)("div",{className:"categories-section",children:[(0,Xy.jsx)("div",{className:"section-header",children:(0,Xy.jsx)("h2",{children:"Manage Design Categories"})}),(0,Xy.jsxs)("div",{className:"categories-container",children:[(0,Xy.jsxs)("div",{className:"category-form-container",children:[(0,Xy.jsx)("h3",{children:_.id?"Edit Design Category":"Add New Design Category"}),(0,Xy.jsxs)("form",{className:"category-form",onSubmit:async e=>{e.preventDefault();try{s(!0);const e={name:_.name,slug:_.slug,icon:_.icon||"\ud83c\udfa8",description:_.description||"Category description"};if(_.id)await Jg(Bp(Qy,A,_.id),e),a((t=>t.map((t=>t.id===_.id?l({id:_.id},e):t))));else{const t=await ev(zp(Qy,A),e);a((n=>[...n,l({id:t.id},e)]))}I({id:"",name:"",slug:"",icon:"",description:""}),s(!1),alert(_.id?"Design Category updated successfully!":"Design Category created successfully!")}catch(t){c("Error saving design category: "+t.message),s(!1)}},children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"categoryName",children:"Category Name"}),(0,Xy.jsx)("input",{type:"text",id:"categoryName",name:"name",value:_.name,onChange:M,required:!0,"aria-label":"Category name"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"categorySlug",children:"Category Slug"}),(0,Xy.jsx)("input",{type:"text",id:"categorySlug",name:"slug",value:_.slug,onChange:M,required:!0,"aria-label":"Category slug"}),(0,Xy.jsx)("small",{children:"Use lowercase letters, numbers, and hyphens only."})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"categoryIcon",children:"Category Icon (Emoji)"}),(0,Xy.jsx)("input",{type:"text",id:"categoryIcon",name:"icon",value:_.icon,onChange:M,placeholder:"e.g., \ud83c\udfa8","aria-label":"Category icon"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{htmlFor:"categoryDescription",children:"Category Description"}),(0,Xy.jsx)("textarea",{id:"categoryDescription",name:"description",value:_.description,onChange:M,rows:"3","aria-label":"Category description"})]}),(0,Xy.jsxs)("div",{className:"form-actions",children:[_.id&&(0,Xy.jsx)("button",{type:"button",className:"cancel-button",onClick:()=>I({id:"",name:"",slug:"",icon:"",description:""}),"aria-label":"Cancel category edit",children:"Cancel"}),(0,Xy.jsx)("button",{type:"submit",className:"save-button",disabled:i,"aria-label":_.id?"Update category":"Add category",children:i?"Saving...":_.id?"Update Category":"Add Category"})]})]})]}),(0,Xy.jsxs)("div",{className:"categories-list-container",children:[(0,Xy.jsx)("h3",{children:"Existing Design Categories"}),i?(0,Xy.jsx)("div",{className:"loading",children:"Loading categories..."}):(0,Xy.jsx)("div",{className:"categories-list",children:r.length>0?(0,Xy.jsxs)("table",{className:"categories-table",children:[(0,Xy.jsx)("thead",{children:(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("th",{children:"Name"}),(0,Xy.jsx)("th",{children:"Slug"}),(0,Xy.jsx)("th",{children:"Icon"}),(0,Xy.jsx)("th",{children:"Description"}),(0,Xy.jsx)("th",{children:"Actions"})]})}),(0,Xy.jsx)("tbody",{children:r.map((e=>(0,Xy.jsxs)("tr",{children:[(0,Xy.jsx)("td",{children:e.name}),(0,Xy.jsx)("td",{children:e.slug}),(0,Xy.jsx)("td",{children:e.icon||"\ud83c\udfa8"}),(0,Xy.jsx)("td",{children:e.description||"No description"}),(0,Xy.jsxs)("td",{className:"action-buttons",children:[(0,Xy.jsx)("button",{className:"edit-button",onClick:()=>(e=>{I({id:e.id,name:e.name,slug:e.slug,icon:e.icon||"",description:e.description||""})})(e),type:"button","aria-label":"Edit category ".concat(e.name),children:"Edit"}),(0,Xy.jsx)("button",{className:"delete-button",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this design category? This will NOT delete associated featured products."))try{s(!0),await Zg(Bp(Qy,A,e)),a((t=>t.filter((t=>t.id!==e)))),s(!1)}catch(t){c("Error deleting design category: "+t.message),s(!1)}})(e.id),type:"button","aria-label":"Delete category ".concat(e.name),children:"Delete"})]})]},e.id)))})]}):(0,Xy.jsx)("div",{className:"no-results",children:"No design categories found."})})]})]})]})]})}var qb=n(636),Hb=n.n(qb),Wb=n(64),Kb=n.n(Wb);const Gb=()=>{const[t,n]=(0,e.useState)([]),[r,a]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[o,c]=(0,e.useState)("add"),[u,d]=(0,e.useState)(null),[h,m]=(0,e.useState)(null),[f,p]=(0,e.useState)(null),[g,v]=(0,e.useState)(null),[y,b]=(0,e.useState)(null),[x,w]=(0,e.useState)(0),[N,j]=(0,e.useState)(!1),[k,C]=(0,e.useState)(!1),[S,E]=(0,e.useState)(""),[_,I]=(0,e.useState)(""),[T,A]=(0,e.useState)({title:"",description:"",categoryId:"",tags:"",projectUrl:"",githubUrl:"",imageUrl:"",wiringDiagramUrl:"",howItWorks:"",codeExplanation:"",active:!0,components:""});(0,e.useEffect)((()=>{P(),D()}),[]);const P=async()=>{try{const e=Pg(zp(Qy,"labKitCategories"),Fg("createdAt","desc")),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));a(t)}catch(e){console.error("Error fetching categories:",e)}},D=async()=>{try{s(!0);const e=Pg(zp(Qy,"electronicsLabKits"),Fg("createdAt","desc")),t=(await Xg(e)).docs.map((e=>l({id:e.id},e.data())));n(t)}catch(e){console.error("Error fetching electronics lab kits:",e),alert("Failed to load electronics lab kits. Please try again.")}finally{s(!1)}},R=e=>{const{name:t,value:n,type:r,checked:a}=e.target;"categoryId"!==t||"add-new-category"!==n?A(l(l({},T),{},{[t]:"checkbox"===r?a:n})):C(!0)},O=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"electronics-lab-kits";if(!e)return null;try{j(!0);const n="".concat(t,"/").concat(Date.now(),"_").concat(e.name),r=Vy(qy(Yy,n),e);return new Promise(((e,t)=>{r.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;w(t)}),(e=>{console.error("Upload error:",e),j(!1),t(e)}),(async()=>{const t=await zy(r.snapshot.ref);j(!1),e(t)}))}))}catch(n){throw j(!1),n}},L=()=>{c("add"),d(null),A({title:"",description:"",categoryId:"",tags:"",projectUrl:"",githubUrl:"",imageUrl:"",wiringDiagramUrl:"",howItWorks:"",codeExplanation:"",active:!0,components:""}),m(null),p(null),v(null),b(null),w(0)},F=e=>{const t=r.find((t=>t.id===e));return t?t.name:"Unknown Category"};return(0,Xy.jsxs)("div",{className:"electronics-lab-kit-management",children:[(0,Xy.jsxs)("div",{className:"management-header",children:[(0,Xy.jsx)("h1",{children:"Electronics Lab Kit Management"}),(0,Xy.jsxs)("button",{className:"btn-add-category",onClick:()=>C(!0),children:[(0,Xy.jsx)("i",{className:"fas fa-plus"})," Manage Categories"]})]}),k&&(0,Xy.jsx)("div",{className:"lab-kit-modal-overlay",onClick:()=>C(!1),children:(0,Xy.jsxs)("div",{className:"lab-kit-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Xy.jsxs)("div",{className:"lab-kit-modal-header",children:[(0,Xy.jsxs)("h2",{children:["Manage Categories (",r.length," total)"]}),(0,Xy.jsx)("button",{className:"lab-kit-modal-close",onClick:()=>C(!1),children:(0,Xy.jsx)("i",{className:"fas fa-times"})})]}),(0,Xy.jsxs)("div",{className:"lab-kit-categories-list",children:[(0,Xy.jsx)("h3",{children:"Existing Categories"}),0===r.length?(0,Xy.jsx)("p",{className:"no-data",children:"No categories found. Add your first category below!"}):(0,Xy.jsx)("div",{className:"lab-kit-category-items",children:r.map((e=>(0,Xy.jsxs)("div",{className:"lab-kit-category-item",children:[(0,Xy.jsxs)("div",{className:"lab-kit-category-info",children:[(0,Xy.jsx)("h4",{children:e.name}),e.description&&(0,Xy.jsx)("p",{children:e.description})]}),(0,Xy.jsx)("button",{className:"lab-kit-btn-delete-small",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{await Zg(Bp(Qy,"labKitCategories",e)),alert("Category deleted successfully!"),P()}catch(t){console.error("Error deleting category:",t),alert("Failed to delete category. Please try again.")}})(e.id),children:(0,Xy.jsx)("i",{className:"fas fa-trash"})})]},e.id)))})]}),(0,Xy.jsxs)("form",{className:"lab-kit-category-form",onSubmit:async e=>{if(e.preventDefault(),S.trim())try{await ev(zp(Qy,"labKitCategories"),{name:S,description:_,createdAt:sv()}),alert("Category added successfully!"),E(""),I(""),C(!1),P()}catch(t){console.error("Error adding category:",t),alert("Failed to add category. Please try again.")}else alert("Please enter a category name")},children:[(0,Xy.jsx)("h3",{children:"Add New Category"}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Category Name *"}),(0,Xy.jsx)("input",{type:"text",value:S,onChange:e=>E(e.target.value),placeholder:"e.g., Arduino Kits, IoT Kits, Robotics Kits",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Description"}),(0,Xy.jsx)("textarea",{value:_,onChange:e=>I(e.target.value),placeholder:"Brief description of this category...",rows:"3"})]}),(0,Xy.jsxs)("button",{type:"submit",className:"btn-submit",children:[(0,Xy.jsx)("i",{className:"fas fa-plus"})," Add Category"]})]})]})}),(0,Xy.jsxs)("div",{className:"kit-form-header",children:[(0,Xy.jsx)("h2",{children:"add"===o?"Add New Electronics Lab Kit":"Edit Electronics Lab Kit"}),"edit"===o&&(0,Xy.jsx)("button",{className:"btn-cancel",onClick:L,children:"Cancel Edit"})]}),(0,Xy.jsxs)("form",{className:"kit-form",onSubmit:async e=>{if(e.preventDefault(),T.title&&T.description&&T.categoryId)try{s(!0);let e=T.imageUrl,t=T.wiringDiagramUrl;h&&(e=await O(h,"electronics-lab-kits")),g&&(t=await O(g,"electronics-lab-kits/wiring-diagrams"));const n=l(l({},T),{},{imageUrl:e,wiringDiagramUrl:t,tags:T.tags.split(",").map((e=>e.trim())).filter((e=>e)),components:T.components.split(",").map((e=>e.trim())).filter((e=>e)),updatedAt:sv()});"add"===o?(n.createdAt=sv(),await ev(zp(Qy,"electronicsLabKits"),n),alert("Electronics lab kit added successfully!")):(await Jg(Bp(Qy,"electronicsLabKits",u),n),alert("Electronics lab kit updated successfully!")),L(),D()}catch(t){console.error("Error saving electronics lab kit:",t),alert("Failed to save electronics lab kit. Please try again.")}finally{s(!1)}else alert("Please fill in all required fields including category")},children:[(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Kit Title *"}),(0,Xy.jsx)("input",{type:"text",name:"title",value:T.title,onChange:R,placeholder:"e.g., Smart Home Automation Kit",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Category *"}),(0,Xy.jsxs)("select",{name:"categoryId",value:T.categoryId,onChange:R,required:!0,children:[(0,Xy.jsx)("option",{value:"",children:"Select a category"}),(0,Xy.jsx)("option",{value:"add-new-category",style:{color:"#667eea",fontWeight:"bold"},children:"+ Add New Category"}),r.length>0&&(0,Xy.jsx)("option",{disabled:!0,children:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"}),r.map((e=>(0,Xy.jsx)("option",{value:e.id,children:e.name},e.id)))]}),0===r.length&&(0,Xy.jsx)("small",{style:{color:"#dc3545",marginTop:"5px",display:"block"},children:"No categories available. Please add a category first."})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Description *"}),(0,Xy.jsx)("textarea",{name:"description",value:T.description,onChange:R,placeholder:"Detailed description of the electronics lab kit...",rows:"4",required:!0})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Status"}),(0,Xy.jsxs)("div",{className:"checkbox-wrapper",children:[(0,Xy.jsx)("input",{type:"checkbox",name:"active",checked:T.active,onChange:R,id:"activeStatus"}),(0,Xy.jsx)("label",{htmlFor:"activeStatus",children:"Active"})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Components Used (comma-separated)"}),(0,Xy.jsx)("input",{type:"text",name:"components",value:T.components,onChange:R,placeholder:"e.g., Arduino Uno, DHT11 Sensor, ESP8266"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Tags (comma-separated)"}),(0,Xy.jsx)("input",{type:"text",name:"tags",value:T.tags,onChange:R,placeholder:"e.g., Arduino, IoT, Home Automation"})]}),(0,Xy.jsxs)("div",{className:"form-row",children:[(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Project URL"}),(0,Xy.jsx)("input",{type:"url",name:"projectUrl",value:T.projectUrl,onChange:R,placeholder:"https://example.com/project"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"GitHub URL"}),(0,Xy.jsx)("input",{type:"url",name:"githubUrl",value:T.githubUrl,onChange:R,placeholder:"https://github.com/username/repo"})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Kit Image"}),(0,Xy.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void alert("Image size should be less than 5MB");m(t);const e=new FileReader;e.onloadend=()=>{p(e.result)},e.readAsDataURL(t)}}}),f&&(0,Xy.jsx)("div",{className:"image-preview",children:(0,Xy.jsx)("img",{src:f,alt:"Preview"})}),N&&(0,Xy.jsxs)("div",{className:"upload-progress",children:[(0,Xy.jsx)("div",{className:"progress-bar",children:(0,Xy.jsx)("div",{className:"progress-fill",style:{width:"".concat(x,"%")}})}),(0,Xy.jsxs)("span",{children:[Math.round(x),"%"]})]})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"How It Works"}),(0,Xy.jsx)("textarea",{name:"howItWorks",value:T.howItWorks,onChange:R,placeholder:"Explain how the kit/project works...",rows:"6"})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Wiring Diagram"}),(0,Xy.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void alert("Image size should be less than 5MB");v(t);const e=new FileReader;e.onloadend=()=>{b(e.result)},e.readAsDataURL(t)}}}),y&&(0,Xy.jsx)("div",{className:"image-preview",children:(0,Xy.jsx)("img",{src:y,alt:"Wiring Diagram Preview"})})]}),(0,Xy.jsxs)("div",{className:"form-group",children:[(0,Xy.jsx)("label",{children:"Code Explanation"}),(0,Xy.jsx)("textarea",{name:"codeExplanation",value:T.codeExplanation,onChange:R,placeholder:"Explain the code and how it works...",rows:"6"})]}),(0,Xy.jsx)("button",{type:"submit",className:"btn-submit",disabled:N||i,children:"add"===o?"Add Electronics Lab Kit":"Update Electronics Lab Kit"})]}),(0,Xy.jsxs)("div",{className:"kits-list",children:[(0,Xy.jsx)("h2",{children:"Electronics Lab Kits List"}),i&&0===t.length?(0,Xy.jsx)("div",{className:"loading",children:"Loading electronics lab kits..."}):0===t.length?(0,Xy.jsx)("div",{className:"no-data",children:"No electronics lab kits found. Add your first kit!"}):(0,Xy.jsx)("div",{className:"kits-grid",children:t.map((e=>(0,Xy.jsxs)("div",{className:"kit-card",children:[e.imageUrl&&(0,Xy.jsxs)("div",{className:"kit-image",children:[(0,Xy.jsx)("img",{src:e.imageUrl,alt:e.title}),(0,Xy.jsx)("span",{className:"status-badge ".concat(e.active?"active":"inactive"),children:e.active?"Active":"Inactive"})]}),(0,Xy.jsxs)("div",{className:"kit-content",children:[(0,Xy.jsx)("h3",{children:e.title}),(0,Xy.jsx)("p",{className:"kit-category",children:F(e.categoryId)}),(0,Xy.jsx)("p",{className:"kit-description",children:e.description}),e.tags&&e.tags.length>0&&(0,Xy.jsx)("div",{className:"kit-tags",children:e.tags.map(((e,t)=>(0,Xy.jsx)("span",{className:"tag",children:e},t)))}),e.components&&e.components.length>0&&(0,Xy.jsxs)("div",{className:"kit-section",children:[(0,Xy.jsx)("strong",{children:"Components:"}),(0,Xy.jsx)("p",{children:e.components.join(", ")})]}),e.howItWorks&&(0,Xy.jsxs)("div",{className:"kit-section",children:[(0,Xy.jsx)("strong",{children:"How It Works:"}),(0,Xy.jsx)("p",{children:e.howItWorks})]}),e.wiringDiagramUrl&&(0,Xy.jsxs)("div",{className:"kit-section",children:[(0,Xy.jsx)("strong",{children:"Wiring Diagram:"}),(0,Xy.jsx)("div",{className:"wiring-diagram",children:(0,Xy.jsx)("img",{src:e.wiringDiagramUrl,alt:"Wiring Diagram"})})]}),e.codeExplanation&&(0,Xy.jsxs)("div",{className:"kit-section",children:[(0,Xy.jsx)("strong",{children:"Code Explanation:"}),(0,Xy.jsx)("p",{children:e.codeExplanation})]}),(0,Xy.jsxs)("div",{className:"kit-links",children:[e.projectUrl&&(0,Xy.jsxs)("a",{href:e.projectUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,Xy.jsx)("i",{className:"fas fa-external-link-alt"})," View Project"]}),e.githubUrl&&(0,Xy.jsxs)("a",{href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,Xy.jsx)("i",{className:"fab fa-github"})," GitHub"]})]}),(0,Xy.jsxs)("div",{className:"kit-actions",children:[(0,Xy.jsxs)("button",{className:"btn-edit",onClick:()=>(e=>{var t;c("edit"),d(e.id),A({title:e.title||"",description:e.description||"",categoryId:e.categoryId||"",tags:Array.isArray(e.tags)?e.tags.join(", "):"",projectUrl:e.projectUrl||"",githubUrl:e.githubUrl||"",imageUrl:e.imageUrl||"",wiringDiagramUrl:e.wiringDiagramUrl||"",howItWorks:e.howItWorks||"",codeExplanation:e.codeExplanation||"",active:null===(t=e.active)||void 0===t||t,components:Array.isArray(e.components)?e.components.join(", "):""}),p(e.imageUrl||null),b(e.wiringDiagramUrl||null),window.scrollTo({top:0,behavior:"smooth"})})(e),children:[(0,Xy.jsx)("i",{className:"fas fa-edit"})," Edit"]}),(0,Xy.jsxs)("button",{className:"btn-toggle",onClick:()=>(async(e,t)=>{try{await Jg(Bp(Qy,"electronicsLabKits",e),{active:!t,updatedAt:sv()}),D()}catch(n){console.error("Error updating status:",n),alert("Failed to update status. Please try again.")}})(e.id,e.active),children:[(0,Xy.jsx)("i",{className:"fas fa-".concat(e.active?"eye-slash":"eye")}),e.active?"Deactivate":"Activate"]}),(0,Xy.jsxs)("button",{className:"btn-delete",onClick:()=>(async(e,t,n)=>{if(window.confirm("Are you sure you want to delete this electronics lab kit?"))try{if(s(!0),t)try{const e=qy(Yy,t);await By(e)}catch(r){console.error("Error deleting image:",r)}if(n)try{const e=qy(Yy,n);await By(e)}catch(r){console.error("Error deleting wiring diagram:",r)}await Zg(Bp(Qy,"electronicsLabKits",e)),alert("Electronics lab kit deleted successfully!"),D()}catch(r){console.error("Error deleting electronics lab kit:",r),alert("Failed to delete electronics lab kit. Please try again.")}finally{s(!1)}})(e.id,e.imageUrl,e.wiringDiagramUrl),children:[(0,Xy.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]})]},e.id)))})]})]})};const Qb=function(){const t=Jy(),{currentUser:n}=t||{},[r,a]=(0,e.useState)(window.innerWidth>992),[i,s]=(0,e.useState)(window.innerWidth),[o,l]=(0,e.useState)("default"),c=(he(),ce());(0,e.useEffect)((()=>{"/dashboard"===c.pathname?l("default"):["/model-banner","/manage-modals","/live-hackathons","/featured-products","/testimonials","/project-showcase","/electronics-lab-kit"].includes(c.pathname)?l("designHouse"):["/manage-banner","/create-items","/manage-items","/manage-footer"].includes(c.pathname)?l("items"):["/orders","/delivery","/customer-support","/reports"].includes(c.pathname)&&l("orders")}),[c.pathname]),(0,e.useEffect)((()=>{const e=()=>{s(window.innerWidth),window.innerWidth>992?a(!0):r&&window.innerWidth<=992&&a(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[r]);const u=()=>{i<=992&&a(!1)},d=e=>{let{children:t}=e;return n?t:(0,Xy.jsx)(Ee,{to:"/login"})};return(0,Xy.jsx)("div",{className:"App",children:n?(0,Xy.jsxs)("div",{className:"dashboard ".concat(r&&i<=992?"sidebar-open":""),children:[(0,Xy.jsx)(eb,{isOpen:r,closeSidebar:u,mode:o}),(0,Xy.jsxs)("div",{className:"main-content",children:[(0,Xy.jsx)(tb,{toggleSidebar:()=>{a(!r)}}),(0,Xy.jsxs)(Te,{children:[(0,Xy.jsx)(_e,{path:"/",element:(0,Xy.jsx)(Ee,{to:"/dashboard"})}),(0,Xy.jsx)(_e,{path:"/dashboard",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(rb,{setMode:l})})}),(0,Xy.jsx)(_e,{path:"/users",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(ab,{})})}),(0,Xy.jsx)(_e,{path:"/add-user",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(ib,{})})}),(0,Xy.jsx)(_e,{path:"/manage-banner",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(sb,{})})}),(0,Xy.jsx)(_e,{path:"/create-items",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(lb,{})})}),(0,Xy.jsx)(_e,{path:"/manage-items",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(cb,{})})}),(0,Xy.jsx)(_e,{path:"/manage-footer",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Ob,{})})}),(0,Xy.jsx)(_e,{path:"/orders",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Lb,{})})}),(0,Xy.jsx)(_e,{path:"/delivery",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Fb,{})})}),(0,Xy.jsx)(_e,{path:"/customer-support",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)("div",{className:"content",children:(0,Xy.jsx)("h1",{children:"Customer Support"})})})}),(0,Xy.jsx)(_e,{path:"/reports",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)("div",{className:"content",children:(0,Xy.jsx)("h1",{children:"Reports"})})})}),(0,Xy.jsx)(_e,{path:"/model-banner",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Mb,{})})}),(0,Xy.jsx)(_e,{path:"/manage-modals",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Vb,{})})}),(0,Xy.jsx)(_e,{path:"/live-hackathons",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(zb,{})})}),(0,Xy.jsx)(_e,{path:"/featured-products",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Bb,{})})}),(0,Xy.jsx)(_e,{path:"/testimonials",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Hb(),{})})}),(0,Xy.jsx)(_e,{path:"/project-showcase",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Kb(),{})})}),(0,Xy.jsx)(_e,{path:"/electronics-lab-kit",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)(Gb,{})})}),(0,Xy.jsx)(_e,{path:"/profile",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)("div",{className:"content",children:(0,Xy.jsx)("h1",{children:"Profile"})})})}),(0,Xy.jsx)(_e,{path:"/settings",element:(0,Xy.jsx)(d,{children:(0,Xy.jsx)("div",{className:"content",children:(0,Xy.jsx)("h1",{children:"Settings"})})})}),(0,Xy.jsx)(_e,{path:"*",element:(0,Xy.jsx)(Ee,{to:"/dashboard"})})]})]}),r&&i<=992&&(0,Xy.jsx)("div",{className:"sidebar-backdrop",onClick:u,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:998}})]}):(0,Xy.jsxs)(Te,{children:[(0,Xy.jsx)(_e,{path:"/login",element:(0,Xy.jsx)(nb,{})}),(0,Xy.jsx)(_e,{path:"*",element:(0,Xy.jsx)(Ee,{to:"/login"})})]})})};t.createRoot(document.getElementById("root")).render((0,Xy.jsx)(e.StrictMode,{children:(0,Xy.jsx)(dt,{children:(0,Xy.jsx)(Zy,{children:(0,Xy.jsx)(Qb,{})})})}))})()})();
//# sourceMappingURL=main.1f4a7361.js.map